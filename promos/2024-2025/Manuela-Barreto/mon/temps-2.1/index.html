
<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Projet Numérologie (Cours Linux)</title>

        <link href="/do-it/assets/node_modules/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet">
        <link href="/do-it/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">

        <link href="/do-it/assets/stylesheets/main.css" rel="stylesheet">
    </head>
    <body>
        <script>
        window.MathJax = {
            tex: {
            inlineMath: [
                [
                '$', '$'
                ],
                [
                '\\(', '\\)'
                ]
            ]
            },
            svg: {
            fontCache: 'global'
            }
        };
        </script>
        <script type="text/javascript" id="MathJax-script" src="/do-it/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

        <header class="border-b-2 border-gray-200 mb-4">
        <div class="max-w-[1000px] mx-auto px-4">
            <div class="min-h-[50px] flex justify-between items-center">
                <a class="mx-2" href="/do-it/">Home</a>
                <div class="flex items-center gap-4 sm:gap-6 ">
                    <a class="" href="/do-it/cs">CS</a>
                    <a class="" href="/do-it/pok">POK</a>
                    <a class="" href="/do-it/mon">MON</a>
                    <a class="" href="/do-it/projets">Projets</a>
                    <a class="hidden sm:block" href="/do-it/promos">Promos</a>
                    <a href="/do-it/search">
                        <svg class="h-5 aspect-square" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path>
                        </svg>
                    </a>
                    <a class="hidden sm:block" href="https://github.com/FrancoisBrucker/do-it" target="_blank">
                        <svg class="h-5 aspect-square" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
                    </a>
                </div>
            </div>
        </div>
        </header>

        <main class="max-w-[1000px] mx-auto px-4" data-pagefind-body="">
            
<article class="relative">
<h1 class="mb-1">Projet Numérologie (Cours Linux)</h1>
<div class="mb-4">
    
        <div class="px-4 flex flex-wrap items-center">
            
                <div class="font-bold">Tags : </div>
            
            <ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags">
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">MON</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">2024-2025</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">temps 2</li>
                

            </ul>
            
            
            <div class="hidden" data-pagefind-meta="Type">
                
                    
                
                    
                
                    
                
            </div>
        </div>
    

    
        <div class="px-4 flex flex-wrap items-center">
            <div class="font-bold">Auteurs : </div>
            <ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs">
                
                    <li class="bg-blue-200 rounded-full px-2" data-pagefind-filter="Auteurs">Manuela Barreto</li>
                
            </ul>
        </div>
    

    
</div>

        <p class="mb-4 text-lg">

                L'objectif de ce travail est de suivre le « Projet Numérologie » créé par le Professeur François Brucker pour découvrir les bases du développement des services web.

        </p>



    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a href="/do-it/promos/">Promotions</a><span class="px-1">/</span><a href="/do-it/promos/2024-2025/">2024-2025</a><span class="px-1">/</span><a href="/do-it/promos/2024-2025/Manuela-Barreto/">Manuela BARRETO</a><span class="px-1">/</span><a href="/do-it/promos/2024-2025/Manuela-Barreto/mon/">MON de Manuela BARRETO</a><span class="px-1">/</span><a href="/do-it/promos/2024-2025/Manuela-Barreto/mon/temps-2.1/">Projet Numérologie (Cours Linux)</a>

</div></div>




<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<p><a href="https://francoisbrucker.github.io/cours_informatique/cours/web/projet-num%C3%A9rologie/">Projet numérologie</a></p>
</div></div>

<h2>Sommaire</h2>
<ul>
<li><a href="#r%C3%A9sum%C3%A9">Résumé</a></li>
<li><a href="#comment-se-connecter-au-serveur">Comment se Connecter au Serveur</a></li>
<li><a href="#configuration-bonus">Configuration Bonus</a></li>
<li><a href="#projet">Projet</a>
<ul>
<li><a href="#projet-1">Projet 1</a></li>
<li><a href="#projet-2">Projet 2</a></li>
<li><a href="#projet-3">Projet 3</a></li>
<li><a href="#projet-4">Projet 4</a></li>
<li><a href="#projet-5">Projet 5</a></li>
</ul>
</li>
</ul>
<h2>Comment se Connecter au Serveur <a id="comment-se-connecter-au-serveur"></a></h2>
<h3>Installer WSL <a id="installer-wsl"></a></h3>
<p>La première étape pour utiliser Linux sur Windows est d’installer WSL (Windows Subsystem for Linux). Pour cela, ouvrez le terminal et exécutez la commande suivante :</p>
<pre class="language-PowerShell"><code class="language-PowerShell">wsl --install</code></pre>
<p>Cette commande activera les fonctionnalités nécessaires pour exécuter WSL et installera par défaut la distribution Linux <strong>Ubuntu</strong>.</p>
<p>Une fois l’installation terminée, vous devrez redémarrer votre ordinateur.</p>
<p>Si vous rencontrez des problèmes pendant l’installation, consultez la <a href="https://learn.microsoft.com/en-us/windows/wsl/install">documentation officielle de WSL</a> pour obtenir de l’aide.</p>
<p>Après le redémarrage, Ubuntu se lancera automatiquement. À cette étape, vous pourrez configurer votre nom d’utilisateur. Il est conseillé de choisir un nom simple et qui correspond à votre propre nom.</p>
<h3>Générer un agent et une clé <a id="generer-un-agent-et-une-cle"></a></h3>
<p>Une fois le système Linux initialisé, il est nécessaire de configurer un <strong>agent SSH</strong> et de générer une clé pour s'authentifier auprès des serveurs.</p>
<p>Un <strong>agent SSH</strong> est un programme qui gère vos clés privées et facilite l'authentification sur des serveurs sans avoir à saisir votre mot de passe à chaque fois. Il stocke les clés privées en mémoire de manière sécurisée et les utilise automatiquement lorsque cela est nécessaire.</p>
<p>Les clés SSH se composent de deux parties :</p>
<ul>
<li><strong>Clé privée</strong> : Elle doit rester confidentielle, car elle sert à prouver votre identité.</li>
<li><strong>Clé publique</strong> : Elle peut être partagée avec les serveurs pour qu’ils puissent vous authentifier.</li>
</ul>
<p>Voici les étapes pour configurer l'agent et générer vos clés :</p>
<ol>
<li>
<p>Lancez l’agent SSH avec la commande suivante :</p>
<pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">eval</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>ssh-agent <span class="token parameter variable">-s</span><span class="token variable">)</span></span>"</span></code></pre>
<p>Cette commande active l’agent, qui commencera à gérer vos clés.</p>
</li>
<li>
<p>Générez une paire de clés (publique et privée) avec la commande :</p>
<pre class="language-bash"><code class="language-bash">ssh-keygen</code></pre>
<p>Pendant l’exécution, il vous sera demandé de fournir un nom pour le fichier de clé et, éventuellement, de définir un mot de passe supplémentaire pour sécuriser la clé privée.</p>
</li>
<li>
<p>Ajoutez la clé privée à l’agent SSH :</p>
<pre class="language-bash"><code class="language-bash">ssh-add</code></pre>
<p>Cela permet à l’agent de stocker la clé privée en mémoire, ce qui simplifie son utilisation pour les connexions futures.</p>
</li>
</ol>
<p>Après avoir suivi ces étapes, vos clés seront prêtes à être utilisées pour des connexions sécurisées aux serveurs.</p>
<h3>Comment se connecter au serveur de l'École <a id="comment-se-connecter-au-serveur-de-l-ecole"></a></h3>
<p>Tout d'abord, nous devons copier notre clé publique qui sera utilisée pour l'authentification. Suivez ces étapes :</p>
<ol>
<li>
<p>Accédez au répertoire où vos clés SSH sont stockées :</p>
<pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> ~/.ssh</code></pre>
</li>
<li>
<p>Affichez le contenu de la clé publique :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">cat</span> id_rsa.pub</code></pre>
</li>
<li>
<p>Copiez la sortie affichée dans le terminal (le contenu de votre clé publique).</p>
</li>
</ol>
<p>Ensuite, nous allons nous connecter au serveur de l'École. Les ordinateurs de l'École ne sont accessibles que si vous êtes déjà connecté au réseau interne de l'établissement. Cependant, pour accéder au serveur à distance (par exemple depuis chez vous), vous devez passer par le serveur intermédiaire <code>sas1.ec-m.fr</code>, qui est accessible depuis Internet. Pour vous connecter à ce serveur, vous devrez utiliser votre identifiant de l'École.</p>
<p>La commande est la suivante :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">ssh</span> votre_identifiant@sas1.ec-m.fr</code></pre>
<p>Par exemple, dans mon cas :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">ssh</span> mda-silveira@sas1.ec-m.fr</code></pre>
<p>En exécutant cette commande, il vous sera demandé d'entrer votre mot de passe et d'accepter d'ajouter le serveur à la liste des hôtes connus (uniquement lors de la première connexion). Une fois la connexion établie avec le serveur <code>sas1</code>, nous devrons ajouter notre clé publique à la liste des clés autorisées :</p>
<ol>
<li>
<p>Accédez au répertoire <code>.ssh</code> sur le serveur :</p>
<pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> ~/.ssh</code></pre>
</li>
<li>
<p>Éditez le fichier <code>authorized_keys</code>, qui contient les clés publiques autorisées :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">nano</span> authorized_keys</code></pre>
</li>
<li>
<p>Dans l'éditeur de texte qui s'ouvre, collez votre clé publique copiée précédemment à la fin du fichier.</p>
</li>
<li>
<p>Pour enregistrer le fichier dans l'éditeur <strong>nano</strong>, suivez ces étapes :</p>
<ul>
<li>Appuyez sur <code>Ctrl + O</code> pour sauvegarder.</li>
<li>Appuyez sur <code>Entrée</code> pour confirmer le nom du fichier.</li>
<li>Appuyez sur <code>Ctrl + X</code> pour fermer l'éditeur.</li>
</ul>
</li>
</ol>
<p>Désormais, le serveur <code>sas1</code> reconnaîtra votre clé publique, et vous pourrez vous y connecter sans avoir à entrer votre mot de passe.</p>
<p>Après avoir configuré la clé publique sur le serveur <code>sas1</code>, vous pouvez l'utiliser comme passerelle pour accéder aux autres ordinateurs de l'École. Par exemple, pour vous connecter à l'ordinateur <code>vauban43</code>, vous pouvez exécuter la commande suivante :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">ssh</span> vauban43</code></pre>
<p>Notez que vous n’avez pas besoin de spécifier à nouveau votre identifiant, car il est déjà associé à la session active sur le serveur <code>sas1</code>. Le SSH utilisera automatiquement le même utilisateur pour établir la connexion avec l’ordinateur cible.</p>
<p>Pour le cours de Linux, nous devons nous connecter au serveur <code>aioli.ec-m.fr</code>. Cependant, l'accès à ce serveur nécessite une étape supplémentaire : vous devez envoyer votre <strong>clé publique</strong> (de votre identifiant de l'école) par e-mail à l'administrateur du serveur. L'administrateur utilisera cette clé pour créer un utilisateur associé à votre compte.</p>
<p>Une fois que l'administrateur aura terminé cette configuration, vous pourrez vous connecter directement au serveur <code>aioli</code>.</p>
<p>En suivant toutes ces étapes, vous serez prêt à démarrer les projets du cours. Pour commancer, nous allons <code>exit</code> des serveurs.</p>
<h3>Configuration Bonus <a id="configuration-bonus"></a></h3>
<p>Il est assez fastidieux de devoir taper tout le chemin pour se connecter à une machine, par exemple <code>votre_identifiant@sas1.ec-m.fr</code>. Heureusement, il existe une manière de simplifier ce processus.</p>
<p>Sur votre système Linux, dans votre compte utilisateur (sans être connecté à un serveur), vous pouvez créer un fichier de configuration dans <code>~/.ssh/config</code>. Dans ce fichier, ajoutez le code suivant (en personnalisant avec vos informations) :</p>
<pre class="language-bash"><code class="language-bash">Host nom_du_raccourci_souhaité
    HostName nom_de_la_machine
    User nom_de_l_utilisateur

Host nom_du_raccourci_souhaité
    Hostname nom_de_la_machine
    User nom_de_l_utilisateur
    ProxyJump nom_de_la_machine_intermediaire</code></pre>
<h4>Que se passe-t-il dans le fichier <code>config</code> ?</h4>
<ul>
<li>
<p><strong>Host nom_du_raccourci_souhaité</strong> : C'est la configuration d'un raccourci pour une machine distante. Lorsque vous tapez <code>ssh nom_du_raccourci_souhaité</code>, SSH utilise les configurations suivantes pour se connecter à la machine spécifiée.</p>
</li>
<li>
<p><strong>HostName nom_de_la_machine</strong> : Ici, vous définissez le nom complet ou l'adresse IP de la machine à laquelle vous souhaitez vous connecter. Lorsque vous utilisez un raccourci dans le champ <code>Host</code>, <code>HostName</code> est la machine réelle à laquelle vous vous connecterez.</p>
</li>
<li>
<p><strong>User nom_de_l_utilisateur</strong> : Ici, vous définissez le nom de l'utilisateur utilisé pour la connexion SSH. Plutôt que de taper le nom d'utilisateur à chaque fois, vous l'indiquez dans le fichier de configuration, et la connexion utilisera ce nom automatiquement.</p>
</li>
<li>
<p><strong>ProxyJump nom_de_la_machine_intermediaire</strong> : Si vous devez passer par une machine intermédiaire pour accéder à votre destination finale (comme dans le cas de serveurs avec des accès restreints), <code>ProxyJump</code> définit le &quot;saut&quot; vers cette machine intermédiaire. Cela signifie que vous pouvez accéder à des serveurs internes qui ne sont pas directement accessibles de l'extérieur en passant par une machine intermédiaire (également appelée &quot;jump host&quot;).</p>
</li>
</ul>
<p>Pour rendre cela plus clair, je vais partager mon propre fichier <code>~/.ssh/config</code> en exemple :</p>
<pre class="language-bash"><code class="language-bash">Host sas1
    HostName sas1.ec-m.fr
    User mda-silveira

Host aioli
    Hostname aioli.ec-m.fr
    User agastache
    ProxyJump sas1</code></pre>
<p>Dans mon exemple :</p>
<ol>
<li>
<p><strong>sas1</strong> : Il s'agit du raccourci que j'ai utilisé pour me connecter au serveur <code>sas1.ec-m.fr</code> avec l'utilisateur <code>mda-silveira</code>. Lorsque j'exécute <code>ssh sas1</code>, le système sait qu'il doit se connecter à <code>sas1.ec-m.fr</code> et utiliser l'utilisateur <code>mda-silveira</code>.</p>
</li>
<li>
<p><strong>aioli</strong> : De la même manière, <code>aioli</code> est un raccourci qui se connecte au serveur <code>aioli.ec-m.fr</code> avec l'utilisateur <code>agastache</code>. Cependant, lorsque j'utilise le raccourci <code>aioli</code>, le système se connecte d'abord au serveur <code>sas1.ec-m.fr</code> (grâce à <code>ProxyJump</code>), puis effectue le &quot;saut&quot; vers le serveur <code>aioli.ec-m.fr</code>. Cela est utile lorsque certaines machines ne peuvent pas être accessibles directement.</p>
</li>
</ol>
<p>Avec cette configuration, vous simplifiez la vie. Plutôt que de taper <code>ssh mda-silveira@sas1.ec-m.fr</code> et <code>ssh agastache@aioli.ec-m.fr</code>, je peux simplement taper <code>ssh sas1</code> ou <code>ssh aioli</code> dans le terminal.</p>
<h2>Projet <a id="projet"></a></h2>
<p>Ce projet consiste à créer un site web qui associe chaque nom à un numéro en se basant sur une table de correspondance. Pour en savoir plus sur les détails du projet, consultez le <a href="https://francoisbrucker.github.io/cours_informatique/cours/web/projet-num%C3%A9rologie/">site du projet</a>.</p>
<p>Le projet est divisé en cinq étapes, avec une complexité croissante. Chaque étape explore un aspect différent du développement web.</p>
<p>Dans ce <strong>MON</strong>, <strong>je ne détaillerai pas la construction du code</strong>, car cela est déjà bien expliqué sur le site du projet. L'objectif ici est de <strong>montrer comment se connecter o serveur et comment récupérer le code prêt et l'exécuter sur le serveur</strong>, afin qu'il soit mis <strong>en ligne</strong>.</p>
<p>Je recommande vivement, tout au long de la lecture de ce MON, de consulter également l'explication du code, car cela vous permettra de <strong>mieux comprendre les concepts et la structure</strong> du projet. De cette manière, vous aurez une vision complète et claire du fonctionnement du système, depuis sa mise en œuvre jusqu'à sa mise en ligne.</p>
<h3>Projet : Partie 1 <a id="projet-1"></a></h3>
<p>Dans cette première partie du projet, nous avons mis en place tout ce qui est nécessaire pour le faire fonctionner côté <strong>frontend</strong>. La structure du projet à ce stade est la suivante :</p>
<pre><code>.
├── index.html
├── main.css
├── mes_tests.js
└── numérologie.js
</code></pre>
<p>Pour cet exercice, axé sur les <strong>bases du développement de services web</strong> avec un focus particulier sur le <strong>déploiement sur des serveurs</strong>, nous n’allons pas nous concentrer sur la manière dont ce code a été écrit. L'objectif principal est de comprendre comment rendre ce site accessible sur le web.</p>
<p>Pour commencer, rendez-vous sur le <a href="https://github.com/FrancoisBrucker/cours_informatique/tree/main/docs/src/cours/web/projet-num%C3%A9rologie/partie-1-front/niveau-1/num%C3%A9rologie">répertoire GitHub de ce projet</a> et téléchargez-le sur votre ordinateur.</p>
<p>La première modification que nous allons effectuer concerne le fichier <strong><code>numérologie.js</code></strong>. Nous allons :</p>
<ol>
<li>Retirer l’accent du nom du fichier, en le renommant <strong><code>numerologie.js</code></strong>.</li>
<li>Mettre à jour la référence à ce fichier dans <strong><code>index.html</code></strong> pour pointer vers <strong><code>numerologie.js</code></strong> au lieu de <strong><code>numérologie.js</code></strong>.</li>
</ol>
<p>Une fois ces ajustements faits, déplacez le dossier du projet vers votre environnement Linux.</p>
<p><img src="assets/Explorateur.png" alt="Explorateur"></p>
<h4>Transférer le dossier vers le serveur souhaité</h4>
<p>Suivez les étapes ci-dessous pour transférer et configurer le projet sur le serveur final :</p>
<ol>
<li>
<p><strong>Compresser le dossier du projet</strong><br>
Avant de transférer, nous allons compresser le dossier pour simplifier l’envoi :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">tar</span> czvf projet_numerologie.tgz projet_numerologie</code></pre>
</li>
<li>
<p><strong>Transférer le fichier compressé vers le serveur</strong><br>
Dans cet exemple, nous utilisons le serveur <strong>aioli</strong>, mais il est nécessaire de passer par un serveur intermédiaire <strong>sas1</strong> pour y accéder.</p>
<ul>
<li>Transférez le fichier vers le serveur <strong>aioli</strong> (&quot;directemente&quot; grâce au fichier <code>~/.ssh/config</code>) :<pre class="language-bash"><code class="language-bash"><span class="token function">scp</span> projet_numerologie.tgz aioli:.</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Décompresser le fichier sur le serveur final</strong></p>
<ul>
<li>
<p>Connectez-vous au serveur final <strong>aioli</strong> :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">ssh</span> aioli</code></pre>
</li>
<li>
<p>Extrayez le contenu du fichier compressé :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">tar</span> xzvf projet_numerologie.tgz</code></pre>
</li>
<li>
<p>Supprimez le fichier compressé du serveur final :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">rm</span> projet_numerologie.tgz</code></pre>
</li>
</ul>
</li>
</ol>
<p>Une fois ces étapes terminées, le projet sera décompressé et prêt à être mis en ligne sur le serveur final.</p>
<p>Aqui está a versão traduzida e melhorada em francês:</p>
<hr>
<h4>Mettre le projet en ligne</h4>
<ol>
<li>
<p><strong>Vérifier le port du serveur :</strong><br>
Ouvrez votre navigateur et accédez à l’adresse de votre utilisateur :</p>
<pre><code>https://votre_utilisateur.aioli.ec-m.fr/  
</code></pre>
<p>Vous verrez probablement une erreur <strong>502 Bad Gateway</strong>, car aucun service n’est actuellement actif sur ce port.</p>
</li>
<li>
<p><strong>Créer un test basique :</strong></p>
<ul>
<li>
<p>Connecté au serveur <strong>aioli</strong>, dans le répertoire <code>~/</code>, créez un dossier nommé <code>static</code> :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">mkdir</span> static</code></pre>
</li>
<li>
<p>Accédez à ce dossier :</p>
<pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> static</code></pre>
</li>
<li>
<p>Créez un fichier <code>index.html</code> contenant le texte &quot;Hello world&quot; à l’aide d’un éditeur comme <code>nano</code> :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">nano</span> index.html</code></pre>
</li>
<li>
<p>Accédez au site statique de votre utilisateur :</p>
<pre><code>https://votre_utilisateur.aioli.ec-m.fr/static  
</code></pre>
<p>Vous devriez maintenant voir le texte <strong>&quot;Hello world&quot;</strong> dans le navigateur. Cela montre que le serveur est configuré pour afficher automatiquement le contenu statique existant.</p>
</li>
</ul>
</li>
</ol>
<p>Pour afficher votre projet sur le site principal, suivez les étapes suivantes :</p>
<ol>
<li>
<p><strong>Démarrer le serveur local :</strong></p>
<ul>
<li>Accédez au répertoire de votre projet :<pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> projet_numerologie</code></pre>
</li>
<li>Lancez un serveur HTTP avec la commande suivante :<pre class="language-bash"><code class="language-bash">python3 <span class="token parameter variable">-m</span> http.server <span class="token parameter variable">--bind</span> ::1 <span class="token number">1100</span></code></pre>
<em>(Ici, 1100 correspond à ma port. Pour connaître votre port utilisateur, exécutez la commande <code>id</code> et regardez votre uid. Il est votre numéro de port.)</em></li>
</ul>
</li>
<li>
<p><strong>Vérifier le fonctionnement :</strong></p>
<ul>
<li>Accédez au site principal de votre utilisateur :<pre><code>https://votre_utilisateur.aioli.ec-m.fr/  
</code></pre>
Vous verrez désormais votre projet fonctionner.</li>
</ul>
</li>
<li>
<p><strong>Résoudre le problème de persistance :</strong><br>
Si vous fermez le terminal et rafraîchissez la page, l’erreur <strong>502</strong> réapparaîtra. Cela se produit parce que le serveur doit continuer à fonctionner même lorsque le terminal est fermé.</p>
</li>
</ol>
<p>Pour que le site reste actif même après avoir quitté le terminal, nous utiliserons <strong>tmux</strong> (ou l’équivalent <code>screen</code>). <strong>Tmux</strong> permet d’exécuter des processus en arrière-plan de manière persistante sur le serveur.</p>
<ol>
<li>
<p><strong>Créer une session tmux :</strong></p>
<ul>
<li>Lancez une nouvelle session appelée <code>serveur_numerologie</code> :<pre class="language-bash"><code class="language-bash">tmux new <span class="token parameter variable">-s</span> serveur_numerologie</code></pre>
Une nouvelle fenêtre <strong>tmux</strong> s’ouvrira.</li>
</ul>
</li>
<li>
<p><strong>Exécuter le serveur dans tmux :</strong></p>
<ul>
<li>Dans la session <strong>tmux</strong>, lancez le serveur avec :<pre class="language-bash"><code class="language-bash">python3 <span class="token parameter variable">-m</span> http.server <span class="token parameter variable">--bind</span> ::1 <span class="token number">1100</span></code></pre>
</li>
<li>Rafraîchissez le site dans votre navigateur pour vérifier qu’il fonctionne.</li>
</ul>
</li>
<li>
<p><strong>Quitter la session sans arrêter le processus :</strong></p>
<ul>
<li>Utilisez le raccourci <code>Ctrl + b</code>, suivi de <code>d</code> pour détacher la session <strong>tmux</strong> tout en gardant le serveur actif.</li>
</ul>
</li>
<li>
<p><strong>Lister les sessions actives :</strong></p>
<ul>
<li>Exécutez cette commande pour afficher les sessions tmux actives :<pre class="language-bash"><code class="language-bash">tmux <span class="token function">ls</span></code></pre>
Vous verrez toutes les sessions en cours, y compris <code>serveur_numerologie</code>.</li>
</ul>
</li>
</ol>
<p>Voici une cheat sheet des commandes et raccourcis utiles pour <strong>tmux</strong> :</p>
<p><img src="assets/tmux.png" alt="tmux"></p>
<p>Avec ces étapes, vous avez mis votre premier site en ligne ! Ce projet est simple et entièrement en <strong>frontend</strong>. La prochaine étape consistera à intégrer un <strong>backend</strong> et à comprendre les ajustements nécessaires pour un site complet.</p>
<h3>Projet : Partie 2 <a id="projet-2"></a></h3>
<p>Avec l’ajout du backend, notre projet a maintenant la structure suivante :</p>
<pre><code>.
├── back
│   └── numérologie.js
├── index.js
├── package.json
└── static
    ├── index.html
    └── main.css
</code></pre>
<p>Nous allons commencer de la même manière que pour le projet précédent. Téléchargez le <a href="https://github.com/FrancoisBrucker/cours_informatique/tree/main/docs/src/cours/web/projet-num%C3%A9rologie/partie-2-serveur/num%C3%A9rologie">projet sur GitHub</a> et nommez-le <code>projet_numerologie2</code>. Ensuite, nous retirerons l’accent sur le fichier <code>numérologie.js</code> et nous procéderons aux mêmes étapes que précédemment : compresser le dossier, le transférer sur le serveur <strong>aioli</strong> et le décompresser.</p>
<p>Ensuite, accédez au dossier du projet en exécutant <code>cd projet_numerologie2</code> et installez les dépendances nécessaires avec la commande :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span></code></pre>
<h4>Ajustements dans le fichier <code>index.js</code></h4>
<p>Il y a quelques ajustements à faire dans le fichier <code>index.js</code> pour pouvoir l’exécuter correctement sur le serveur. Exécutez la commande suivante pour éditer le fichier :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">nano</span> index.js</code></pre>
<p>Voici les modifications à apporter dans le fichier :</p>
<ol>
<li>
<p>Changez la ligne <code>const hostname = '127.0.0.1'</code> par :</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> hostname <span class="token operator">=</span> <span class="token string">'::1'</span><span class="token punctuation">;</span></code></pre>
</li>
<li>
<p>Changez la ligne <code>const port = 3000</code> par :</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token string">'1100'</span><span class="token punctuation">;</span>  <span class="token comment">// Notez que 1100 est le nombre de ma port, il est différent pour chacun.</span></code></pre>
</li>
<li>
<p>Modifiez la ligne <code>app.use(&quot;/static&quot;, express.static(path.join(__dirname, '/static')))</code> par :</p>
<pre class="language-javascript"><code class="language-javascript">app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">"/numerologie"</span><span class="token punctuation">,</span> express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'static'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<p>Une fois ces modifications effectuées, vous pouvez enregistrer le fichier et tenter d’exécuter la commande :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">node</span> index.js</code></pre>
<p>Cependant, si cela ne fonctionne pas, il est probable que vous ayez un problème, car la <strong>port</strong> est déjà utilisée par votre site précédent. C'est dû au fait que <strong>tmux</strong> est en cours d'exécution et que le serveur de la partie 1 utilise déjà cette port. Pour résoudre ce problème, suivez ces étapes :</p>
<h4>Résoudre le problème de la port occupée</h4>
<ol>
<li>
<p><strong>Se connecter à la session tmux existante :</strong><br>
Exécutez la commande suivante :</p>
<pre class="language-bash"><code class="language-bash">tmux a</code></pre>
</li>
<li>
<p><strong>Fermer la session tmux en cours :</strong></p>
<ul>
<li>Appuyez sur <code>Ctrl + c</code> pour arrêter le serveur.</li>
<li>Puis, appuyez sur <code>Ctrl + d</code> pour quitter tmux.</li>
</ul>
</li>
</ol>
<p>Maintenant, vous pouvez de nouveau exécuter le serveur avec :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">node</span> index.js</code></pre>
<p>Cela devrait démarrer le serveur et l’afficher sur le site à l’adresse suivante :</p>
<pre><code>https://votre_utilisateur.aioli.ec-m.fr/numerologie/
</code></pre>
<p>Cependant, comme précédemment, si vous fermez le terminal, le site cessera de fonctionner. Pour le maintenir en ligne, suivez à nouveau la procédure avec <strong>tmux</strong> :</p>
<h4>Garder le serveur en ligne avec tmux</h4>
<ol>
<li>
<p><strong>Créer une nouvelle session tmux :</strong></p>
<ul>
<li>Lancez une nouvelle session avec le nom <code>serveur_numerologie</code> :<pre class="language-bash"><code class="language-bash">tmux new <span class="token parameter variable">-s</span> serveur_numerologie</code></pre>
Une nouvelle fenêtre <strong>tmux</strong> s’ouvrira.</li>
</ul>
</li>
<li>
<p><strong>Exécuter le serveur dans tmux :</strong></p>
<ul>
<li>Dans la session tmux, exécutez le serveur avec :<pre class="language-bash"><code class="language-bash"><span class="token function">node</span> index.js</code></pre>
</li>
<li>Rafraîchissez la page de votre site pour vérifier que le projet fonctionne correctement.</li>
</ul>
</li>
<li>
<p><strong>Quitter la session sans arrêter le serveur :</strong></p>
<ul>
<li>Pour détacher la session tmux et la laisser tourner en arrière-plan, appuyez sur <code>Ctrl + b</code>, puis sur <code>d</code>.</li>
</ul>
</li>
</ol>
<p>Une fois cela fait, le projet fonctionnera en permanence, même si vous fermez votre terminal.</p>
<p>Ainsi, la deuxième partie du projet est terminée. Vous avez réussi à mettre en ligne un projet avec un backend fonctionnel. Vous pouvez maintenant passer à l’étape suivante du projet.</p>
<h3>Projet : Partie 3 <a id="projet-3"></a></h3>
<p>Dans la troisième partie du projet, nous avons ajouté une base de données SQLite. Après les modifications apportées au code, la nouvelle structure du projet est la suivante :</p>
<pre><code>.
├── back
│   └── numérologie.js
├── db.init.js
├── db.js
├── index.js
├── package.json
├── readme.md
└── static
    ├── index.html
    ├── main.css
    └── prénoms.html
</code></pre>
<p>Nous allons commencer de la même manière que dans les parties précédentes :</p>
<ol>
<li>Télécharger le projet depuis <a href="https://github.com/FrancoisBrucker/cours_informatique/tree/main/docs/src/cours/web/projet-num%C3%A9rologie/partie-3-donn%C3%A9es/num%C3%A9rologie">GitHub</a> ;</li>
<li>Modifier le code pour retirer l'accent du nom du fichier <code>numérologie.js</code> et effectuer les corrections nécessaires suite à cette modification ;</li>
<li>Compresser le dossier du projet, le transférer vers le serveur souhaité, puis le décompresser.</li>
</ol>
<p>Ensuite, nous effectuerons les mêmes ajustements que dans la partie précédente :</p>
<ol>
<li>
<p>Modifiez la ligne <code>const hostname = '127.0.0.1'</code> par :</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> hostname <span class="token operator">=</span> <span class="token string">'::1'</span><span class="token punctuation">;</span></code></pre>
</li>
<li>
<p>Modifiez la ligne <code>const port = 3000</code> par :</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token string">'1100'</span><span class="token punctuation">;</span>  <span class="token comment">// Notez que 1100 est le nombre de ma port, il est différent pour chacun.</span></code></pre>
</li>
<li>
<p>Modifiez la ligne <code>app.use(&quot;/static&quot;, express.static(path.join(__dirname, '/static')))</code> par :</p>
<pre class="language-javascript"><code class="language-javascript">app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">"/numerologie"</span><span class="token punctuation">,</span> express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'static'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<p>Une fois ces étapes initiales terminées, nous allons exécuter la commande <code>npm install</code> pour installer toutes les dépendances nécessaires, puis exécuter la commande <code>npm run init</code> pour initialiser la base de données. Enfin, lancez le projet en exécutant :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">node</span> index.js</code></pre>
<p>N'oubliez pas de fermer les autres sessions tmux utilisées pour les autres parties du projet afin de libérer le port pour ce projet actuel. Maintenant, si vous accédez à votre site à l'adresse <code>https://votre_utilisateur.aioli.ec-m.fr/numerologie/</code>, vous verrez que, lors du calcul du chiffre associé à votre nom, le site affiche également une phrase décrivant les caractéristiques des personnes portant ce nom.</p>
<p>Une fois encore, pour maintenir le site en ligne de manière indéfinie, nous utiliserons <strong>tmux</strong> :</p>
<h4>Garder le serveur en ligne avec tmux</h4>
<ol>
<li>
<p><strong>Créer une nouvelle session tmux :</strong><br>
Lancez une nouvelle session tmux appelée <code>serveur_numerologie</code> :</p>
<pre class="language-bash"><code class="language-bash">tmux new <span class="token parameter variable">-s</span> serveur_numerologie</code></pre>
<p>Une nouvelle fenêtre tmux s’ouvrira.</p>
</li>
<li>
<p><strong>Exécuter le serveur dans tmux :</strong><br>
Dans la session tmux, lancez le serveur avec :</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">node</span> index.js</code></pre>
<p>Rafraîchissez la page de votre site pour vérifier que le projet fonctionne correctement.</p>
</li>
<li>
<p><strong>Quitter la session sans arrêter le serveur :</strong><br>
Pour détacher la session tmux et laisser le serveur tourner en arrière-plan, appuyez sur <code>Ctrl + b</code>, puis sur <code>d</code>.</p>
</li>
</ol>
<p>Ainsi, la troisième partie du projet est terminée. Vous avez réussi à mettre en ligne un projet avec une base de données. Vous pouvez maintenant passer à l’étape suivante du projet.</p>
<h3>Projet : Partie 4 <a id="projet-4"></a></h3>
<p>Après les modifications, la structure finale du projet est la suivante :</p>
<pre><code>.
├── back
│   └── numérologie.js
├── db.init.js
├── db.js
├── index.js
├── modèles
│   ├── prénoms.js
│   └── signification.js
├── package.json
├── readme.md
├── routes
│   ├── api
│   │   └── index.js
│   └── signification.js
└── static
    ├── index.html
    ├── main.css
    └── prénoms.html
</code></pre>
<p>Bien que de nombreuses modifications importantes aient été apportées à la structure et à la maintenance du code, très peu de choses ont changé concernant la manière de mettre ce site en ligne.</p>
<p>Ainsi, nous allons suivre exactement le même processus que dans la Partie 3, avec une seule différence : au lieu d'exécuter <code>node index.js</code>, nous allons désormais utiliser la commande <code>npm start</code>.</p>
<p>OBS: Le <a href="https://github.com/FrancoisBrucker/cours_informatique/tree/main/docs/src/cours/web/projet-num%C3%A9rologie/partie-4-jardinage/num%C3%A9rologie">github du projet</a></p>
<p>Cela conclut la quatrième partie du projet. Vous avez maintenant un projet fonctionnel avec une structure plus complexe et des routes pour gérer différentes parties de l'application. Vous pouvez continuer à l'étendre ou ajouter de nouvelles fonctionnalités.</p>


</article>

        </main>


        <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
            <div class="max-w-[1000px] mx-auto px-4">
                <div class="min-h-[50px] flex justify-center items-center">
                    <p class="text-center">
                        <span style="font-family: Consolas, sans-serif;">Do_<span style="color: #4a86e8">It</span></span> : Développement et Organisation en IT
                    </p>
                </div>
            </div>
        </footer>

        <script>
        MathJax
            .startup
            .document
            .getMathItemsWithin(document.body);
        </script>
        <script src="/do-it/assets/node_modules/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
    </body>
</html>
