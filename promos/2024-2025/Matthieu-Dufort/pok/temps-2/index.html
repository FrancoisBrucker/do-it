
<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>TLe langage C : Apprentissage et morpion</title>

        <link href="/do-it/assets/node_modules/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet">
        <link href="/do-it/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">

        <link href="/do-it/assets/stylesheets/main.css" rel="stylesheet">
    </head>
    <body>
        <script>
        window.MathJax = {
            tex: {
            inlineMath: [
                [
                '$', '$'
                ],
                [
                '\\(', '\\)'
                ]
            ]
            },
            svg: {
            fontCache: 'global'
            }
        };
        </script>
        <script type="text/javascript" id="MathJax-script" src="/do-it/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

        <header class="border-b-2 border-gray-200 mb-4">
        <div class="max-w-[1000px] mx-auto px-4">
            <div class="min-h-[50px] flex justify-between items-center">
                <a class="mx-2" href="/do-it/">Home</a>
                <div class="flex items-center gap-4 sm:gap-6 ">
                    <a class="" href="/do-it/cs">CS</a>
                    <a class="" href="/do-it/pok">POK</a>
                    <a class="" href="/do-it/mon">MON</a>
                    <a class="" href="/do-it/projets">Projets</a>
                    <a class="hidden sm:block" href="/do-it/promos">Promos</a>
                    <a href="/do-it/search">
                        <svg class="h-5 aspect-square" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path>
                        </svg>
                    </a>
                    <a class="hidden sm:block" href="https://github.com/FrancoisBrucker/do-it" target="_blank">
                        <svg class="h-5 aspect-square" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
                    </a>
                </div>
            </div>
        </div>
        </header>

        <main class="max-w-[1000px] mx-auto px-4" data-pagefind-body="">
            
<article class="relative">
<h1 class="mb-1">TLe langage C : Apprentissage et morpion</h1>
<div class="mb-4">
    
        <div class="px-4 flex flex-wrap items-center">
            
                <div class="font-bold">Tags : </div>
            
            <ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags">
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">POK</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">2024-2025</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">temps 2</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">Novice</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">C</li>
                

            </ul>
            
            
            <div class="hidden" data-pagefind-meta="Type">
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </div>
        </div>
    

    
        <div class="px-4 flex flex-wrap items-center">
            <div class="font-bold">Auteurs : </div>
            <ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs">
                
                    <li class="bg-blue-200 rounded-full px-2" data-pagefind-filter="Auteurs">Matthieu Dufort</li>
                
            </ul>
        </div>
    

    
</div>

        <p class="mb-4 text-lg">

                Un POK ayant pour objectif d'apprendre le langage C.

        </p>



    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a href="/do-it/promos/">Promotions</a><span class="px-1">/</span><a href="/do-it/promos/2024-2025/">2024-2025</a><span class="px-1">/</span><a href="/do-it/promos/2024-2025/Matthieu-Dufort/">Matthieu Dufort</a><span class="px-1">/</span><a href="/do-it/promos/2024-2025/Matthieu-Dufort/pok/">POK de Matthieu Dufort</a><span class="px-1">/</span><a href="/do-it/promos/2024-2025/Matthieu-Dufort/pok/temps-2/">TLe langage C : Apprentissage et morpion</a>

</div></div>




<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-pink-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
</svg>
<div class="pl-8 mr-8">
<p>Aucun pr√©requis particulier n'est n√©cessaire, mais il peut √™tre int√©ressant de lire le MON de Cassandra en compl√©ment.</p>
</div></div>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<ul>
<li><a href="https://openclassrooms.com/fr/courses/19980-apprenez-a-programmer-en-c">Cours d'Openclassroom</a></li>
<li><a href="https://francoisbrucker.github.io/do-it/promos/2023-2024/Ledins-Cassandra/mon/temps-1.2/">MON de Cassandra Ledins</a></li>
<li><a href="CodeEntrainement.zip">Code cr√©√© au cours de l'apprentissage</a></li>
<li><a href="Morpion.zip">Code pour jouer au Moprion</a></li>
</ul>
</div></div>

<p>Pour ce POK, j'ai d√©cid√© d'apprendre un nouveau langage afin d'√©largir mes comp√©tences en d√©veloppement avec un langage un peu moins intuitif que Python. Je vais me former sur l'utilisation du langage C. Pour cela, je vais partir de la documentation et construire ensuite, dans un second temps, un petit projet (probablement un morpion ou un mini-jeu de ce genre) afin de mieux le prendre en main.</p>
<h2>T√¢ches</h2>
<ul>
<li>Regarder les MON et POK traitant du sujet afin de trouver un bon moyen d'apprendre.</li>
<li>Suivre un cours pour acqu√©rir des bases sur ce langage.</li>
<li>Construire des programmes pour apprendre.</li>
<li>Construire un mini-jeu pour prendre en main le langage.</li>
</ul>
<h3>Sprints</h3>
<p>Le but final de ce POK est de parvenir √† comprendre du code en C et d'√™tre capable d'√©crire des programmes simples.</p>
<h4>Sprint 1</h4>
<ul>
<li>[x] Se renseigner sur les anciens POK et MON traitant du sujet</li>
<li>[x] Choisir un cours/formation √† suivre</li>
<li>[x] Suivre le cours pour monter en comp√©tence</li>
</ul>
<h4>Sprint 2</h4>
<ul>
<li>[X] R√©aliser un mini projet par moi m√™me en langage C.</li>
</ul>
<h3>Horodatage</h3>
<table>
<thead>
<tr>
<th>Date</th>
<th>Heures pass√©es</th>
<th>Indications</th>
</tr>
</thead>
<tbody>
<tr>
<td>Vendredi 15/11</td>
<td>4H</td>
<td>Inventaire des POK et MON, choix du cours et d√©but, Installation d'un compilateur</td>
</tr>
<tr>
<td>Samedi 16/11</td>
<td>5H</td>
<td>Suite du cours d'openclassrooms</td>
</tr>
<tr>
<td>Dimanche 17/11</td>
<td>4h</td>
<td>Suite du cours d'openclassrooms</td>
</tr>
<tr>
<td>Mardi 10/12</td>
<td>1h</td>
<td>Suite du cours d'openclassroom</td>
</tr>
<tr>
<td>Jeudi 12/12</td>
<td>2h</td>
<td>Suite du cours d'openclassroom</td>
</tr>
<tr>
<td>Vendredi 13/12</td>
<td>3h</td>
<td>Suite du cours d'openclassroom et initialisation du jeu de morpion</td>
</tr>
<tr>
<td>Samedi 14/12</td>
<td>2h00</td>
<td>Build du jeu de morpion</td>
</tr>
<tr>
<td>Lundi 16/12</td>
<td>2h00</td>
<td>Fin du jeu de morpion</td>
</tr>
</tbody>
</table>
<h2>Contenu</h2>
<h2>Premier Sprint</h2>
<p>Apr√®s avoir fait l'inventaire des POK et MON traitant du langage C, j'ai choisi de suivre le cours d'OpenClassrooms qui est fortement recommand√© par Cassandra et qui lui a permis d'acqu√©rir de bonnes bases. Je vais essayer de compl√©ter son MON en abordant d'autres points du langage C. Je recommande donc aux futures personnes voulant apprendre ce langage de lire aussi son <a href="https://francoisbrucker.github.io/do-it/promos/2023-2024/Ledins-Cassandra/mon/temps-1.2/">MON</a>.</p>
<h2>Ecrire du C avec VSCode</h2>
<p>J'ai d√©cid√© de travailler, comme toujours, avec VSCode et j'ai donc install√© une extension sp√©ciale pour le C afin de faire la compilation et de d√©boguer (+ pouvoir √©crire avec un style adapt√© : couleurs, etc.). Je recommande donc : <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools">C/C++</a>. Cependant, elle n'a vite plus march√© (pour la compilation) d√®s que j'ai r√©parti mon code sur plusieurs fichiers. J'ai d√ª ensuite compiler √† chaque fois avec le terminal de commande en compilant chaque fichier .c en objet .o, puis en compilant ensemble les objets en .exe.</p>
<p>Pour la compilation, il est n√©cessaire aussi d'installer un compilateur, j'ai choisi <a href="https://sourceforge.net/projects/mingw/">MinGW</a> et de rentrer ensuite son chemin (path) dans l'ordinateur et dans les options de l'extension de VSCode pour pouvoir l'utiliser.</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Utiliser le compilateur install√©</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<p>Pour changer le path du compilateur dans l'extension :</p>
<ul>
<li>ctrl + shift + P</li>
<li>C/C++ : Edit configuration (UI)</li>
<li>Changer le path du compilateur pour : <em>C:\MinGW\bin\gcc.exe</em> par exemple si votr fichier gcc.exe de MinGW se situe la bas</li>
</ul>
<p>Pour utiliser les lignes de code dans le terminal, il faut ajouter le path en variable d'environnement sur votre ordinateur :</p>
<ul>
<li>Param√®tre puis propri√©t√©s syst√®mes</li>
<li>Variable d'environnement</li>
<li>Path puis modifier</li>
<li>Ajouter le nouveau Path : <em>C:\MinGW\bin\gcc.exe</em></li>
</ul>
<p>Ceci fonctionne sur windows (en tout cas sur le mien üôÇ)</p>
</div>
</details>     
</div>
<p>J'ai d√ª perdre environ 2 heures l√†-dessus, le temps de configurer VS Code et mon ordinateur, n'ayant jamais vraiment utilis√© auparavant un langage n√©cessitant une compilation avant d'√™tre lanc√©. Une fois que tout marchait avec l'extension de VS Code, j'ai de nouveau rencontr√© des soucis 3 heures apr√®s lorsque j'ai utilis√© plusieurs fichiers. Finalement, je n'ai plus pu l'utiliser (ne me demandez pas pourquoi, je ne sais toujours pas), et je suis pass√© directement par des lignes de code dans le terminal pour compiler avec :</p>
<pre><code>&gt; gcc -c main.c -o main.o
&gt; gcc -c multiplication.c -o multiplication.o
&gt; gcc main.o multiplication.o -o main.exe
</code></pre>
<p>Finalement, j'ai enfin pu  me concentrer sur le code en parvenant a compiler les fichiers !</p>
<h2>Infos g√©n√©rales</h2>
<h3>Introduction de variable et fonction</h3>
<p>Le langage C est plus proche en √©criture de Java que de Python. C'est un langage o√π il faut d√©clarer le type de chaque variable et de chaque fonction.</p>
<pre class="language-C"><code class="language-C">int variable ; //Variable pour un entier
float variable = 1.5 ; // Variable pour un floatant initialis√©e
int fonction(){ // Fonction retournant un entier
  return 1;
}</code></pre>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Il faut mettre un point virgule √† la fin de chaque ligne d'instruction.</p>
</div></div>
<p>Voici les plages d'utilisation maximales de chacun des types, dues √† l'espace de m√©moire accord√© :
<img src="typeLangageC.webp" alt="test"><em>Tableau des tailles de chiffres possible en fonction du type, Openclassroom</em></p>
<h3>Calcul</h3>
<p>Pour le syst√®me de calcul standard, on retrouve les abr√©viations des autres langages tels que :</p>
<pre class="language-C"><code class="language-C">int variable = 2 ;
variable ++ ; // incr√©mente variable de 1
variable += 5 // ajoute 5 √† variable 
variable *= 4 // multiplie variable par 4</code></pre>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Le nom du langage C++ d√©coule du format de l'incr√©mentation en C (C = C + 1 &lt;=&gt; C++). Ce nom a √©t√© choisi pour √©voquer l'√©volution du langage C, mais en r√©alit√©, C++ et C sont deux langages distincts utilis√©s pour des objectifs diff√©rents.</p>
</div></div>
<h3>fonction</h3>
<p>Pour une fonction qui ne renvoie rien on utilise l'indicateur <em>void</em>.</p>
<p>L'utilisation des fonctions d'affichage dans le terminal est assez diff√©rente de ce qui est fait en Python ou en Java :</p>
<pre class="language-C"><code class="language-C">int variable ;
printf("Quelle valeur voulez vous donner √† la variable ?");
scanf("%d", &variable);
printf("Vous avez donn√©e la valeur %d", variable);</code></pre>
<p>Ceci permet de demander la valeur puis d'afficher ce que l'utilisateur a √©crit. On r√©f√©rence les variables dans l'affichage avec le % suivi du type de variable comme le tableau ci-joint :</p>
<p><img src="AffichageEnC.webp" alt="test"><em>Tableau des format en fonction du type, Openclassroom</em></p>
<p>On peut rajouter le type <strong>%s</strong> pour les chaines de caract√®res ou <strong>%c</strong> pour un type char.</p>
<h2>Syst√®me de m√©moire</h2>
<h3>Fonctionnement de la m√©moire syst√®me</h3>
<p>Le cours d'OpenClassrooms m'a permis d'apprendre beaucoup sur le fonctionnement de la m√©moire.</p>
<p>Elle fonctionne sous forme de tableau avec une colonne contenant les adresses (des num√©ros de 1 √† X) et une colonne associ√©e contenant les espaces de stockage.</p>
<p>Lorsque l'on d√©finit une variable, on demande √† l'ordinateur un espace de stockage et on le r√©serve pour la valeur de la variable. On peut r√©server cet espace en le laissant vide ou en l'initialisant directement avec une valeur, mais dans tous les cas, l'espace est r√©serv√© d√®s la ligne de cr√©ation de la variable.</p>
<p>En C, il y a beaucoup de manipulations qui d√©coulent de ce fonctionnement. Le syst√®me de d√©finition de variables en est un exemple :</p>
<pre class="language-C"><code class="language-C">int variable;

scanf("%d", &variable); //le symbole & permet d'acc√©der √† l'adresse de stockage de la variable
// On modifie ici la valeur dans la case associ√©e √† l'adresse de stockage de variable</code></pre>
<p>Ce fonctionnement permet de d√©finir des pointeurs.</p>
<h3>Pointeur</h3>
<p>Un pointeur consiste √† d√©finir une variable comme √©tant l'adresse d'une autre variable. Cela est utilis√© pour modifier une variable d√©finie dans une fonction ou dans le main √† un autre endroit (autre fonction).</p>
<p>En effet, avec un return √† la fin d'une fonction, on ne peut modifier qu'une seule variable, mais gr√¢ce au pointeur, cela n'a plus de limite.</p>
<pre class="language-C"><code class="language-C">int variable;
*pointeur = &variable ; // permet de d√©finir le pointeur

printf("%d", pointeur); // affiche l'adresse de stockage de variable
printf("%d", *pointeur); // affiche la valeur de variable</code></pre>
<p>C'est en utilisant le *pointeur dans d'autres fonctions que l'on peut modifier la variable en dehors de l'endroit o√π elle est d√©finie, sans avoir besoin de la retourner √† la fin de la fonction.</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Bilan Sprint 1</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<p>J'ai vraiment bien aim√© ce d√©but de POK o√π j'ai pu apprendre plein de choses, autant sur le fonctionnement g√©n√©ral d'un ordinateur que sur le code en C. J'ai d√©couvert ce langage depuis z√©ro, qui demande beaucoup de rigueur, et j'ai bien aim√©. J'ai par contre perdu beaucoup trop de temps pour parvenir √† faire marcher la compilation du code au d√©but et d√®s l'utilisation de fichiers multiples. J'esp√®re donc que la premi√®re partie de ce compte rendu pourra bien aider les suivants √† gagner du temps l√†-dessus. Je n'ai donc pas eu le temps de finir le cours, mais j'ai h√¢te de le continuer lors du prochain sprint pour passer sur du d√©veloppement de mon c√¥t√© et bien appliquer tout ce que j'ai appris.</p>
</div>
</details>     
</div>
<h2>Second Sprint</h2>
<h2>Suite du cours d'openclassroom</h2>
<h3>Cr√©ation de structure</h3>
<p>Il est possible de donner des formats √† des variables en utilisant des structures que l'on d√©finira dans les fichiers <em>.h</em>.</p>
<p>La structure se d√©finit comme :</p>
<pre class="language-C"><code class="language-C">struct Coordonnees
{
    int x ;
    int y ;
};</code></pre>
<p>Il est ensuite possible d'utiliser cette structure comme un format de variable :</p>
<pre class="language-C"><code class="language-C">struct Coordonnees point; 
    point.x = 10;
    point.y = 20;</code></pre>
<p>On a maintenant une variable point d√©finie avec deux entiers et initialis√©e √† <code>{10, 20}</code>.</p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Il est aussi possible d'utiliser les pointeurs avec des variables ayant une structure personnalis√©e.</p>
</div></div>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Il est possible de faire un alias en utilisant la fonction <code>typedef</code> :</p>
<pre class="language-C"><code class="language-C">typedef struct Coordonnees Coordonnees</code></pre>
<p><em>Struct Coordonnees</em> peut alors √™tre remplac√© par <em>Coordonnees</em> tout court.</p>
</div></div>
<p>De la m√™me mani√®re, il est possible de d√©finir une √©num√©ration, ce qui revient √† d√©finir une liste de choix pour une variable. La variable ne peut alors prendre que les valeurs d√©finies dans l'√©num√©ration.</p>
<pre class="language-C"><code class="language-C">enum Status 
{
  High, Medium, Low
}</code></pre>
<p>Ces valeurs peuvent √™tre associ√©es √† des nombres.</p>
<h3>Gestion de fichier</h3>
<p>Dans cette partie, nous allons travailler sur la gestion de fichiers gr√¢ce a la biblioth√®que <strong>stdlib</strong> et <strong>stdio</strong>. L'utilisation de fichiers stock√©s localement dans l'ordinateur permet de conserver les r√©sultats du code apr√®s qu'il se soit arr√™t√©.</p>
<p>Il est possible d'ouvrir un fichier de plusieurs fa√ßons :</p>
<p><img src="TypeOuvertureFichier.webp" alt="test"><em>Liste des fa√ßons d'ouvrir un fichier possible en C, Openclassroom</em></p>
<p>Faisons un exercice avec un programme qui recopie des lignes dans un fichier pour nous :</p>
<pre class="language-C"><code class="language-C">int main(int argc, char *argv[])
{
    FILE* fichier = NULL; // cr√©er le pointeur du fichier
 
    fichier = fopen("test.txt", "w+"); // ouvre le fichier en le vidant au pr√©alable
    char ligne[240] ;
    int nombreLigne = 0 ;

    printf("Que devez vous recopier ? (max 238 caract√®res)");
    fgets(ligne, sizeof(ligne), stdin); //R√©cup√®re la ligne √† recopier
    
    printf("Combien de ligne avez vous √† √©crire ?");
    scanf("%d", &nombreLigne); // R√©cup√®re le nombre de ligne √† recopier
 
    if (fichier != NULL)
    {
        for (int i = 0; i < nombreLigne ; i++) // r√©p√®te l'√©criture de la ligne
        {
          fprintf(fichier, "%s",ligne); // Ecris dans le document
        }
        fclose(fichier); // ferme le fichier
        printf("Vous avez bien recopier toutes vos lignes !");
    }
    else
    {
      printf("Veuillez cr√©er le fichier avant d'√©crire dessus.");
    }
 
    return 0;
}</code></pre>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>On utilise la fonction <em>fgets</em> et non <em>scanf</em> pour r√©cup√©rer une ligne de caract√®res car la fonction scanf s'arr√™te au premier espace trouv√©.</p>
<p>Attention : la fonction fgets enregistre aussi le saut de ligne cr√©er par la touche entr√©e lors de la validation de ce que l'on veut √©crire.</p>
<p><em>Voir la partie suivante pour plus d'explication sur la gestion de la m√©moire avec fgets.</em></p>
</div></div>
<p>Dans les fichiers, on utilise la fonction <code>fgetc</code> pour lire un caract√®re  ou la fonction <code>fgets</code>. (Ces fonctions d√©placent le curseur et liront les caract√®res suivant naturellement si elles sont reutilis√©es dans le code). <code>fscanf</code> peut aussi √™tre utilis√©e afin de r√©cup√©rer des valeurs √† attribuer √† des variables.</p>
<p>Le curseur de lecture ou d'√©criture est aussi d√©pla√ßable avec la fonction <code>fseek</code>.</p>
<h3>Gestion de la m√©moire</h3>
<p><strong>Fonctions de demandes d'information √† l'utilisateur</strong> :</p>
<p>Lorsque l'on utilise <em>scanf</em> ou <em>fgets</em>, on demande √† l'utilisateur des informations qui seront ensuite stock√©es dans un espace de taille d√©finie. Les informations sont extraites du buffer, c'est-√†-dire de la zone de m√©moire o√π tout ce qui est tap√© sur le clavier est stock√©. On y acc√®de avec le pointeur stdin.</p>
<p><em>scanf</em> est une fonction qui peut cr√©er des soucis de stockage, car son fonctionnement consiste √† stocker toutes les informations √©crites dans le shell, m√™me si l'espace de stockage est trop petit. Si le texte √©crit est trop grand, la fonction d√©passe alors son espace de stockage, en supprimant ce qui est stock√© apr√®s pour mettre le texte √† la place, ce qui, bien s√ªr, peut √™tre dangereux pour le programme.</p>
<p><em>fgets</em> se limite bien √† la m√©moire d√©finie et vide le buffer des caract√®res qu'elle a lus. Ainsi, si la taille d√©passe la m√©moire, le buffer aura toutes les informations qui d√©passent stock√©es. Il faut donc penser √† bien le vider.</p>
<p><strong>R√©server de la m√©moire</strong> :</p>
<p>Il est possible de r√©server de la place en m√©moire √† l'aide d'une fonction : <code>malloc</code>. Cette fonction permet de cr√©er, par exemple, un tableau qui d√©pend de la taille d'une variable. On peut ainsi poser une question, puis r√©server de la m√©moire en fonction de la r√©ponse :</p>
<pre class="language-C"><code class="language-C">int taille = 0;
int *tableau = NULL ;
printf("Combien de lignes voulez vous ?");
Scanf("%d", &taille ); 

tableau = malloc(taille * sizeof(int))</code></pre>
<p>On a ainsi un tableau de la taille demand√©e. Pour lib√©rer cet espace il suffit d'utiliser la fonction <code>free</code>.</p>
<h3>Structure de donn√©es</h3>
<p><strong>Chaine de caract√®res</strong> :</p>
<p>Il est impossible de modifier la taille d'un tableau dynamiquement. Cependant, il est possible de cr√©er une cha√Æne qui s'agrandit au fur et √† mesure en utilisant les structures :</p>
<pre class="language-C"><code class="language-C">typedef struct Chaine Chaine
struct Chaine 
{
  char caractere ; // √©l√©ment de la chaine
  Chaine *caracteresuivant ; // pointeur vers l'√©l√©ment suivant
}

typedef struct Liste Liste
struct Liste 
{
  Chaine *premierCaractere //pointeur vers le d√©but de la chaine
}</code></pre>
<p>Ainsi, avec des structures de ce type, il est possible de cr√©er une cha√Æne infinie en ins√©rant, supprimant et modifiant les caract√®res. Il suffit pour cela de bien remplir √† chaque fois le pointeur vers l'√©l√©ment suivant, et on obtient ainsi une cha√Æne dynamique.</p>
<h2>Cr√©ation d'un jeu de morpion en C</h2>
<p>Le code du morpion se retrouve <a href="Morpion.zip">ici</a>.</p>
<p>Pour la r√©alisation de ce Morpion, j'ai tout d'abord commenc√© par r√©fl√©chir :</p>
<ul>
<li>aux variables</li>
<li>aux fonctions</li>
<li>√† la logique</li>
</ul>
<p>J'ai alors construit le main et le fichier fonction.h afin de mettre en place pr√©cis√©ment la logique pour confirmer que tout allait bien se d√©rouler. Puis, j'ai construit mes fonctions.</p>
<p>Voici ici le main comment√© :</p>
<pre class="language-C"><code class="language-C">#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "fonction.h"

int main(int argc, char *argv[])
{
    Morpion tab= {{' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '}}; //Initialisation de la grille avec une struct de Moprion
    int tour =0 ;
    int error = 0 ;
    int result = 0 ;
    char jeu ;
    char position[3];
    printf("Le jeu peut commencer ! \n");
    affiche(&tab);
    while(result == 0) // On joue tant que personne n'a gagn√© (ou une √©galit√©)
    {
        if(tour % 2  == 0)
        {
            jeu = 'X';
        }
        else
        {
            jeu = 'O';
        }
        printf("\nC'est au tour de %c, que voulez vous jouer ?", jeu);
        scanf("%2s", &position);
        error = jouer(&tab, jeu, position); // On modifie de la table si la valeur est juste
        if(error == 1)
        {
            printf("Attention la case est d√©j√† prise ou votre entr√©e √©tait invalide, veuillez rejouer !\n");
            tour --;
        }
        affiche(&tab); // On affiche la grille
        result = gagner(&tab); // On v√©rifie qu'il n'y a pas encore de gagnant      
        tour ++;
    }
    if(result == 1) // On affiche le r√©sultat
    {
        printf("\n\nBravo X, vous avez gagn√© !\n");
    }
    else if (result == 2)
    {
        printf("\n\nBravo O, vous avez gagn√© !\n");
    }
    else if (result == 3)
    {
        printf("\n\nEgalit√© !\n");
    }

}</string.h></stdlib.h></stdio.h></code></pre>
<p>Voici donc la logique de ce jeu de Morpion, qui se joue dans le terminal en rentrant les coordonn√©es de la table (A1, B3, C2, ...) afin de placer ses pions.</p>
<p>Voici le fonctionnement des diff√©rentes fonctions :</p>
<ul>
<li>
<p>La fonction <strong>gagner</strong> a pour but de v√©rifier √† chaque tour que le jeu n'est pas fini. En cas de victoire, elle change la valeur du <em>result</em> pour sortir de la boucle et annoncer le ou la gagnante.</p>
</li>
<li>
<p>La fonction <strong>affiche</strong> permet d'afficher la grille entre chaque tour avec bien sur les coordonn√©es des cases.</p>
</li>
<li>
<p>La fonction <strong>jouer</strong> permet de modifier la grille en utilisant les pointeurs tout en v√©rifiant que les coordonn√©es rentr√©es ne sont pas fausses.</p>
</li>
</ul>
<p>Et c'est ainsi que l'on peut rapidement jouer au Morpion une fois que la compilation (un petit peu longue) est termin√©e. Le code reste tr√®s peu optimis√© mais je n'ai pas eu le temps d'aller plus loin dessus.</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Bilan Sprint 2</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<p>J'ai beaucoup appr√©ci√© continuer ce POK car j'avais h√¢te de finir le cours afin de pouvoir passer √† de la pratique en faisant un petit jeu. Mais, j'ai laiss√© trop de temps entre les deux sprints et j'ai donc eu du mal √† me remettre dans le cours. Cela m'a fait perdre un peu de temps. Le cours d'OpenClassrooms m'a pris beaucoup plus de temps que celui indiqu√© (10 h) et j'ai donc d√©pass√© le temps que j'avais pr√©vu dessus. J'ai donc manqu√© de temps pour optimiser mon morpion, qui aurait bien m√©rit√© un peu plus de r√©flexion.</p>
<p>Dans l'ensemble, j'ai beaucoup appr√©ci√© travailler sur un nouveau langage qui pr√©sente beaucoup de diff√©rences avec ceux que je ma√Ætrise davantage (Python, JavaScript, etc.). La gestion de la m√©moire et des pointeurs m'a pris du temps. En √©crivant mon code de morpion, je me suis beaucoup emm√™l√© entre les pointeurs et les variables. Le C demande beaucoup de rigueur !</p>
<p>Je recommande le cours d'OpenClassrooms aux suivants qui voudront s'aventurer sur le C, en prenant bien le temps de faire des exercices de leur c√¥t√© pour assimiler, plut√¥t que de juste le lire.</p>
</div>
</details>     
</div>


</article>

        </main>


        <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
            <div class="max-w-[1000px] mx-auto px-4">
                <div class="min-h-[50px] flex justify-center items-center">
                    <p class="text-center">
                        <span style="font-family: Consolas, sans-serif;">Do_<span style="color: #4a86e8">It</span></span> : D√©veloppement et Organisation en IT
                    </p>
                </div>
            </div>
        </footer>

        <script>
        MathJax
            .startup
            .document
            .getMathItemsWithin(document.body);
        </script>
        <script src="/do-it/assets/node_modules/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
    </body>
</html>
