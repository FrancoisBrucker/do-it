
<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Scraping d&#39;une page internet pour faire de la data visualisation</title>

        <link href="/do-it/assets/node_modules/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet">
        <link href="/do-it/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">
        <link href="/do-it/assets/node_modules/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.css" rel="stylesheet">

        <link href="/do-it/assets/stylesheets/main.css" rel="stylesheet">
    </head>
    <body>
        <script>
        window.MathJax = {
            tex: {
            inlineMath: [
                [
                '$', '$'
                ],
                [
                '\\(', '\\)'
                ]
            ]
            },
            svg: {
            fontCache: 'global'
            }
        };
        </script>
        <script type="text/javascript" id="MathJax-script" src="/do-it/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

        <header class="border-b-2 border-gray-200 mb-4">
        <div class="max-w-[1000px] mx-auto px-4">
            <div class="min-h-[50px] flex justify-between items-center">
                <a class="mx-2" href="/do-it/">Home</a>
                <div class="flex items-center gap-4 sm:gap-6 ">
                    <a class="" href="/do-it/cs">CS</a>
                    <a class="" href="/do-it/pok">POK</a>
                    <a class="" href="/do-it/mon">MON</a>
                    <a class="" href="/do-it/projets">Projets</a>
                    <a class="hidden sm:block" href="/do-it/promos">Promos</a>
                    <a href="/do-it/search">
                        <svg class="h-5 aspect-square" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path>
                        </svg>
                    </a>
                    <a class="hidden sm:block" href="https://github.com/FrancoisBrucker/do-it" target="_blank">
                        <svg class="h-5 aspect-square" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
                    </a>
                </div>
            </div>
        </div>
        </header>

        <main class="max-w-[1000px] mx-auto px-4" data-pagefind-body="">
            
<article class="relative">
<h1 class="mb-1">Scraping d&#39;une page internet pour faire de la data visualisation</h1>
<div class="mb-4">
    
        <div class="px-4 flex flex-wrap items-center">
            
                <div class="font-bold">Tags : </div>
            
            <ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags">
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">POK</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">2024-2025</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">temps 2</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">Scraping</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">Python</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">BeautifulSoup</li>
                

            </ul>
            
            
            <div class="hidden" data-pagefind-meta="Type">
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </div>
        </div>
    

    
        <div class="px-4 flex flex-wrap items-center">
            <div class="font-bold">Auteurs : </div>
            <ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs">
                
                    <li class="bg-blue-200 rounded-full px-2" data-pagefind-filter="Auteurs">Ménager Jeanne</li>
                
            </ul>
        </div>
    

    
</div>

        <p class="mb-4 text-lg">

                Je vais apprendre à faire du scraping et l'utiliser pour récupérer des statistiques de football et en faire de la data visualisation

        </p>



    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a href="/do-it/promos/">Promotions</a><span class="px-1">/</span><a href="/do-it/promos/2024-2025/">2024-2025</a><span class="px-1">/</span><a href="/do-it/promos/2024-2025/Menager-Jeanne/">Jeanne MENAGER</a><span class="px-1">/</span><a href="/do-it/promos/2024-2025/Menager-Jeanne/pok/">POK de Jeanne</a><span class="px-1">/</span><a href="/do-it/promos/2024-2025/Menager-Jeanne/pok/temps-2/">Scraping d&#39;une page internet pour faire de la data visualisation</a>

</div></div>




<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-pink-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
</svg>
<div class="pl-8 mr-8">
<p>Avois quelques bases en python</p>
</div></div>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-emerald-500 bg-emerald-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-emerald-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"></path>
</svg>
<div class="pl-8 mr-8">
<p><a href="https://www.youtube.com/watch?v=sOAZpHDEdkg&amp;t=276s">Vidéo pour apprendre le scraping</a> <br>
<a href="https://www.sofascore.com/fr/">Site de statistiques sportives</a> <br>
<a href="https://github.com/jeanne-mngr/POK2">GitHub</a></p>
</div></div>

<h2>Sprint 1</h2>
<h3>Tâches</h3>
<p>[X] Apprendre les bases du scraping <br>
[X] Faire quelques exercices simples pour essayer de récupérer des infos<br>
[X] Essayer de récupérer des informations sur sofascore</p>
<h3>Qu'est-ce que le scraping ?</h3>
<p>Le scraping consiste à récupérer grace à un programme informatique des données sur un site internet. Cela peut notamment permettre de récupérer beaucoup de données en un temps limité. <br>
Le scraping est autorisé sous certaines conditions : <br>
- La quantité de données récupérées doit être raisonnable<br>
- La données récupérées doit être accessible gratuitement<br>
- On ne peut pas utiliser la donnée récupérer pour faire des la concurrence au site ciblé (par exemple, le bon coin avait été victime de scraping mal-intentionné de la part d'un autre site qui mettait donc en ligne exactement les mêmes annonces que le bon coin)</p>
<h3>Trouver des informations sur une page web :</h3>
<p>Dans la vidéo que j'ai visionné pour apprendre les bases du scraping, j'ai pu apprendre à utiliser <strong>Requests</strong> et <strong>BeautifulSoup</strong>. L'utilisation de ces librairies n'est pas très difficile, il faut cibler les éléments présents dans le html, que l'on peut identifier grâce aux outils de developpement présents dans la plus part des navigateur (attention pas sur safari).<br>
En ciclant les éléments, on peut accéder aux informations souhaitées, mais il faut faire attention à la façon dont on cible chaque information : par exemple pour récupérer UN lien, il ne faut pas cibler le premier lien trouver sur la page car même si pour l'instant il est unique, ce ne sera pas toujours le cas.</p>
<h3>Getsion des erreurs</h3>
<p>Le professeur dans la vidéo expliquait aussi comment gérer les erreurs avec des <code>try ... except ...</code> afin de comprendre pourquoi le script ne fonctionne plus si un jour c'est le cas.</p>
<h3>Les exercices</h3>
<p>Le cours s'articulait autour d'un site web fait exprès pour s'entrainer à scrapper, <a href="https://books.toscrape.com/index.html">un site d'une librairie</a>. Avec les différents exemple, j'ai pu m'entrainer puis me corriger grâce à la vidéo.</p>
<h3>Playwright</h3>
<p>Enfin, nous avons appris à utiliser <strong>playwright</strong> pour naviguer sur un site web dans nos scripts.
Néanmoins, j'ai essayé d'utiliser cet outil pour scrapper le site de la SNCF (ainsi que trainline) mais ces deux sites ont mis en place des tests pour verifier que l'utilisateur est humain, tests que mon script ne peut pas passer, n'étant pas humain.</p>
<p>Ce module me servira tout de même pour mon projet de scraping de statistiques de football pour naviguer sur certaines page.</p>
<h3>Début du projet</h3>
<p>Afin de mettre rapidement en pratique ce que j'avais appris, j'ai juste voulu récupérer l'age moyen des joueurs de l'équipe du PSG. <br>
Je suis donc allée sur la page dédiée à cette équipe : <a href="https://www.sofascore.com/fr/equipe/football/paris-saint-germain/1644">https://www.sofascore.com/fr/equipe/football/paris-saint-germain/1644</a> <br>
On peut voir grâce à cette url que chercher des informations pour une équipe en particulier ne sera pas très compliqué car chaque équipe a son url qui lui est propre.</p>
<h2>Sprint 2</h2>
<ul>
<li>[ ] Définir les données que je souhaite utiliser</li>
<li>[ ] Comprendre les principes de la datavisualisation</li>
<li>[ ] Faire une première datavisualistation</li>
</ul>
<h3>Horodatage</h3>
<p>Toutes les séances et le nombre d'heure que l'on y a passé.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Heures passées</th>
<th>Indications</th>
</tr>
</thead>
<tbody>
<tr>
<td>Samedi 02/11</td>
<td>30 min</td>
<td>Début de la vidéo pour comprendre ce qu'est le scraping</td>
</tr>
<tr>
<td>Dimanche 03/11</td>
<td>30 min</td>
<td>Instalation de requests et beautiful soup et premières requests pour récupérer le code html de pages web</td>
</tr>
<tr>
<td>Vendredi 08/11</td>
<td>30 min</td>
<td>Premiers exemples de scraping</td>
</tr>
<tr>
<td>Mardi 12/11</td>
<td>30 min</td>
<td>Premiers exercices de scraping pour récupérer toutes les catégories de livre</td>
</tr>
<tr>
<td>Vendredi 15/11</td>
<td>1 h 30 min</td>
<td>Exercice pour récuperer les catégories avec moins de X livres</td>
</tr>
<tr>
<td>Vendredi 15/11</td>
<td>30 min</td>
<td>Correction de l'exercice pour récuperer les catégories avec moins de X livres</td>
</tr>
<tr>
<td>Samedi 16/11</td>
<td>1 h</td>
<td>Exercice sur récupérer les livres avec une note de 1 étoile</td>
</tr>
<tr>
<td>Samedi 16/11</td>
<td>30 min</td>
<td>Correction de l'exercice sur récupérer les livres avec une note de 1 étoile</td>
</tr>
<tr>
<td>Samedi 16/11</td>
<td>2h</td>
<td>Exercice pour récupérer la valeur de la bibliothèque + correction</td>
</tr>
<tr>
<td>Dimanche 17/11</td>
<td>1h</td>
<td>Découverte de playwright</td>
</tr>
<tr>
<td>Lundi 18/11</td>
<td>1h</td>
<td>Essai de scraper sncf connect</td>
</tr>
<tr>
<td>Lundi 18/11</td>
<td>30 min</td>
<td>Scrapping de sofascore pour avoir l'âge moyen des joueurs du PSG</td>
</tr>
</tbody>
</table>


</article>

        </main>


        <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
            <div class="max-w-[1000px] mx-auto px-4">
                <div class="min-h-[50px] flex justify-center items-center">
                    <p class="text-center">
                        <span style="font-family: Consolas, sans-serif;">Do_<span style="color: #4a86e8">It</span></span> : Développent et Organisation en IT
                    </p>
                </div>
            </div>
        </footer>

        <script>
        MathJax
            .startup
            .document
            .getMathItemsWithin(document.body);
        </script>
    </body>
</html>
