
<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>POK 2</title>

        <link href="/do-it/assets/node_modules/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet">
        <link href="/do-it/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">
        <link href="/do-it/assets/node_modules/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.css" rel="stylesheet">

        <link href="/do-it/assets/stylesheets/main.css" rel="stylesheet">
    </head>
    <body>
        <script>
        window.MathJax = {
            tex: {
            inlineMath: [
                [
                '$', '$'
                ],
                [
                '\\(', '\\)'
                ]
            ]
            },
            svg: {
            fontCache: 'global'
            }
        };
        </script>
        <script type="text/javascript" id="MathJax-script" src="/do-it/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

        <header class="border-b-2 border-gray-200 mb-4">
        <div class="max-w-[1000px] mx-auto px-4">
            <div class="min-h-[50px] flex justify-between items-center">
                <a class="mx-2" href="/do-it/">Home</a>
                <div class="flex items-center gap-4 sm:gap-6 ">
                    <a class="" href="/do-it/cs">CS</a>
                    <a class="" href="/do-it/pok">POK</a>
                    <a class="" href="/do-it/mon">MON</a>
                    <a class="" href="/do-it/projets">Projets</a>
                    <a class="hidden sm:block" href="/do-it/promos">Promos</a>
                    <a href="/do-it/search">
                        <svg class="h-5 aspect-square" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path>
                        </svg>
                    </a>
                    <a class="hidden sm:block" href="https://github.com/FrancoisBrucker/do-it" target="_blank">
                        <svg class="h-5 aspect-square" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
                    </a>
                </div>
            </div>
        </div>
        </header>

        <main class="max-w-[1000px] mx-auto px-4" data-pagefind-body="">
            
<article class="relative">
<h1 class="mb-1">POK 2</h1>
<div class="mb-4">
    
        <div class="px-4 flex flex-wrap items-center">
            
                <div class="font-bold">Tags : </div>
            
            <ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags">
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">POK</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">2022-2023</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">temps 2</li>
                

            </ul>
            
            
            <div class="hidden" data-pagefind-meta="Type">
                
                    
                
                    
                
                    
                
            </div>
        </div>
    

    
        <div class="px-4 flex flex-wrap items-center">
            <div class="font-bold">Auteurs : </div>
            <ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs">
                
                    <li class="bg-blue-200 rounded-full px-2" data-pagefind-filter="Auteurs">Antoine Varnerot</li>
                
            </ul>
        </div>
    

    
</div>



    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a href="/do-it/promos/">Promotions</a><span class="px-1">/</span><a href="/do-it/promos/2022-2023/">2022-2023</a><span class="px-1">/</span><a href="/do-it/promos/2022-2023/Varnerot-Antoine/">Antoine VARNEROT</a><span class="px-1">/</span><a href="/do-it/promos/2022-2023/Varnerot-Antoine/pok/">POKs d&#39;Antoine Varnerot</a><span class="px-1">/</span><a href="/do-it/promos/2022-2023/Varnerot-Antoine/pok/pok2/">POK 2</a>

</div></div>




<head>
  <link rel="stylesheet" href="../assets/style.css">
</head>
<p style="text-align: center; font-size: 1.5rem;"><strong>Mon site distant</strong></p>
<p>Pour ce deuxième POK, j'ai choisi de me concentrer un peu plus sur le <strong>backend</strong> et sur &quot;comment mettre un site <strong>en ligne.</strong>&quot;
Déployer un site sur un serveur ovh a été partiellement vue dans le cours de &quot;serveur distant&quot;.</p>
<p>L'idée du site à créer est d'avoir un feed de musiques partagées par des utilisateurs et que toute la communauté puisse voter +1/-1 pour les musiques partagées. Je vais donc me concentrer sur la partie backend et les différentes requêtes HTTP. L'objectif est aussi d'utiliser une base de données afin d'avoir un site complet en ligne.</p>
<figure>
  <img src="../assets/wireframe2.png">
  <figcaption>Wireframe de l'app</figcaption>
</figure>
<p>Pendant le premier sprint, j'ai créé un mono-repo pour le front et la back de mon app :</p>
<ul>
<li><a href="https://github.com/AntwanV/POK2-fullstack">https://github.com/AntwanV/POK2-fullstack</a>
Pour visualiser le site :
<a href="http://origan.ovh1.ec-m.fr/">http://origan.ovh1.ec-m.fr/</a>
(Pas forcément avec toutes les dernières fonctionnalités)</li>
</ul>
<p>J'ai ensuite choisi les technologies que j'allais utilisé. J'ai pris une stack très classique, la stack MEAN (MongoDb, Express, Angular, Node)</p>
<figure>
  <img src="https://static.packt-cdn.com/products/9781789808735/graphics/C11069_01_02.jpg">
  <figcaption>Stack</figcaption>
</figure>
<p>Plus d'informations : <a href="https://subscription.packtpub.com/book/web-development/9781789808735/1/ch01lvl1sec03/mean-architecture-demystification">https://subscription.packtpub.com/book/web-development/9781789808735/1/ch01lvl1sec03/mean-architecture-demystification</a></p>
<p>J'ai ensuite rempli ces repos, d'abord avec un front assez simple :</p>
<figure>
  <img src="../../assets/basic-front.png">
  <figcaption>Wireframe de l'app</figcaption>
</figure>
<p>J'ai ensuite créé le back (avec un peu plus de difficultés). Le front est sur le port 4200 et le back sur le port 3000. Il existe à la fin de ce premier sprint qu'une seule route (/api/musics) qui permet de récupérer toutes les musiques et de les afficher dans le front. Plus précisément, comme il n'y a pas de bdd encore, je stock les musiques dans mon serveur et quand un utilisateur arrive sur la page du feed (celle de l'image ci-dessus), on fait une requête GET sur le port 3000 pour et on affiche la réponse sur la page. A l'avenir, il ne faudrait pas stocker les données sur l'API mais dans une base de données.</p>
<p>A la fin du sprint 1, je n'ai pas fini tout ce que j'avais listé. Peut-être parce que j'ai surestimé le temps que j'avais pour ce premier sprint. En effet, la durée de ce dernier était très réduite (environ 10 j). J'ai aussi remarqué que certaines étapes étaient plus dures que prévu : j'ai notamment eu beaucoup de problèmes pour passer mon API de Javascript à Typescript (pas encore réussi d'ailleurs)
Il y avait aussi des taches qui n'en étaient pas vraiment comme &quot;définir l'architecture de la bdd&quot;. En fait, quand j'ai construit les objets dans mon code, les colonnes de la bdd se sont révélées toutes seules. Il en manquait bien-sur comme id mais je ne pense pas que ca méritait un tiret dans le Sprint Backlog.</p>
<p>TODO :
<strong>Sprint 1</strong></p>
<ul>
<li><s>repo github</s></li>
<li><s>choix techno</s></li>
<li><s>creer un front end simple Angular (libs : Bootstrap, Angular Materials, google fonts). Pages : feed, profile</s></li>
<li><s>creer un backend dissocié du front (2 dossiers différents)</s></li>
<li><s>creer les classes/interfaces (User, Music) et definir les différentes fonctions (sans implementation)</s></li>
<li><span style="color:orange">définir l'architecture de la bdd </span></li>
<li><span style="color:red">connexion bdd (mongoDb ou postgreSQL), ORM ? </span></li>
<li><span style="color:orange">pouvoir ajouter de nouvelles musiques </span></li>
</ul>
<p><strong>Sprint 2</strong></p>
<ul>
<li>discuter avec l'api de Youtube par exemple pour intégrer la miniature de la musique ou même intégrer un lecteur</li>
<li>pouvoir noter les musiques (j'aime ou j'aime pas)</li>
<li>systeme de login avec token si possible sso (single sign-on) avec des guards (ie limiter l'accès quand on est pas connecté). Cela comprend la création de nouvelles pages (inscription/connexion)</li>
<li>deployer en ligne</li>
<li>tests</li>
</ul>
<p>Pour le second sprint, j'ai décidé de terminer d'abord les taches du premier sprint car elles étaient indispensables. Voici l aliste des taches après ce second sprint :</p>
<ul>
<li><s>définir l'architecture de la bdd</s></li>
<li><s>connexion bdd (mongoDb ou postgreSQL), ORM ?</s></li>
<li><s>pouvoir ajouter de nouvelles musiques</s></li>
<li><s>discuter avec l'api de Youtube par exemple pour intégrer la miniature de la musique ou même intégrer un lecteur</s></li>
<li><span style="color:orange">pouvoir noter les musiques (j'aime ou j'aime pas)</span></li>
<li>systeme de login. Cela comprend la création de nouvelles pages (inscription/connexion)</li>
<li><s>deployer en ligne</s></li>
<li>tests</li>
</ul>
<p>Implementer l'API de Youtube pour pouvoir rechercher directement les musiques sur Youtube plutot que d'entrer toutes les informations manuellement a été une tâche qui nous a pris plus de temps que prévu. En effet, on avait mal estimé le temps nécessaire à créer un compte sur la partie &quot;dev&quot; de Google et de comprendre comment se servir de l'API.
Tuto qui m'a aidé : <a href="https://blog.logrocket.com/build-a-youtube-video-search-app-with-angular-and-rxjs/">https://blog.logrocket.com/build-a-youtube-video-search-app-with-angular-and-rxjs/</a>
Très complet !</p>
<p>Liens utils :
<a href="https://developers.google.com/youtube">https://developers.google.com/youtube</a>
<a href="https://console.cloud.google.com/">https://console.cloud.google.com/</a></p>


</article>

        </main>


        <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
            <div class="max-w-[1000px] mx-auto px-4">
                <div class="min-h-[50px] flex justify-center items-center">
                    <p class="text-center">
                        <span style="font-family: Consolas, sans-serif;">Do_<span style="color: #4a86e8">It</span></span> : Développent et Organisation en IT
                    </p>
                </div>
            </div>
        </footer>

        <script>
        MathJax
            .startup
            .document
            .getMathItemsWithin(document.body);
        </script>
    </body>
</html>
