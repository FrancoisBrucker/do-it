
<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Développement Back-end</title>

        <link href="/do-it/assets/stylesheets/main.css" rel="stylesheet">
    </head>
    <body>
        <script>
        window.MathJax = {
            tex: {
            inlineMath: [
                [
                '$', '$'
                ],
                [
                '\\(', '\\)'
                ]
            ]
            },
            svg: {
            fontCache: 'global'
            }
        };
        </script>
        <script type="text/javascript" id="MathJax-script" src="/do-it/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

        <header class="border-b-2 border-gray-200 mb-4">
        <div class="max-w-[1000px] mx-auto px-4">
            <div class="min-h-[50px] flex justify-between items-center">
                <a class="mx-2" href="/do-it/">Home</a>
                <div class="flex items-center gap-4 sm:gap-6 ">
                    <a class="" href="/do-it/cs">CS</a>
                    <a class="" href="/do-it/pok">POK</a>
                    <a class="" href="/do-it/mon">MON</a>
                    <a class="" href="/do-it/projets">Projets</a>
                    <a class="hidden sm:block" href="/do-it/promos">Promos</a>
                    <a href="/do-it/search">
                        <svg class="h-5 aspect-square" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path>
                        </svg>
                    </a>
                    <a class="hidden sm:block" href="https://github.com/FrancoisBrucker/do-it" target="_blank">
                        <svg class="h-5 aspect-square" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
                    </a>
                </div>
            </div>
        </div>
        </header>

        <main class="max-w-[1000px] mx-auto px-4" data-pagefind-body="">
            
<article class="relative">
<h1 class="mb-1">Développement Back-end</h1>
<div class="mb-4">
    
        <div class="px-4 flex flex-wrap items-center">
            
                <div class="font-bold">Tags : </div>
            
            <ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags">
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">MON</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">2023-2024</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">temps 1</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">Node.js</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">backend</li>
                

            </ul>
            
            
            <div class="hidden" data-pagefind-meta="Type">
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </div>
        </div>
    

    
        <div class="px-4 flex flex-wrap items-center">
            <div class="font-bold">Auteurs : </div>
            <ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs">
                
                    <li class="bg-blue-200 rounded-full px-2" data-pagefind-filter="Auteurs">Lucas Rioual</li>
                
            </ul>
        </div>
    

    
</div>

        <p class="mb-4 text-lg">

                Introduction au Back-end avec Node.js et Express

        </p>



    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a href="/do-it/promos/">Promotions</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/">2023-2024</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Rioual-Lucas/">Lucas RIOUAL</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Rioual-Lucas/mon/">MON de Lucas Rioual</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Rioual-Lucas/mon/temps-1.2/">Développement Back-end</a>

</div></div>




<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-pink-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
</svg>
<div class="pl-8 mr-8">
<p><strong>Notions abordées</strong> : Node.js, Express, MongoDB
<strong>Niveau</strong> : Débutant</p>
</div></div>
<p>L'objectif de ce Mon est de me familiariser avec la notion de <strong>backend</strong>. Ce MON s’adresse à toutes les personnes qui, comme moi, n’ont aucune connaissance en backend.
Voici le lien de <a href="https://github.com/LucasRioual/Back">mon repo Github</a> correspondant au <a href="https://openclassrooms.com/fr/courses/6390246-passez-au-full-stack-avec-node-js-express-et-mongodb">tuto OpenClassRoom</a>.</p>
<h2>Ressources utilisées</h2>
<p>Pour ce MON, j'ai utilisé :</p>
<ul>
<li>Le <a href="https://francoisbrucker.github.io/cours_informatique/cours/web/">cours</a> de Mr Brucker</li>
<li>Cette <a href="https://openclassrooms.com/fr/courses/6390246-passez-au-full-stack-avec-node-js-express-et-mongodb">formation OpenClassRoom</a></li>
<li>Ce <a href="https://fullstackopen.com/fr/">site internet</a></li>
</ul>
<h2>Sommaire</h2>
<ul>
<li>Qu’est ce que le <strong>backend</strong> ?</li>
<li>Comment construire son backend avec Node.js et Express</li>
<li>La différence entre une application web en développement et en production.</li>
</ul>
<h2>Qu’est ce que le backend ?</h2>
<p>Pour comprendre ce qu’est le backend d'une application web, il faut bien saisir comment une application web fonctionne.</p>
<p>On peut séparer une application web en 2 parties :</p>
<ul>
<li>Le coté client (navigateur internet) : <strong>frontend</strong></li>
<li>Le coté serveur : <strong>backend</strong></li>
</ul>
<p>Lorsqu’on développe une application web, il faut bien comprendre qu'il y a une partie du code qui va s’exécuter sur le navigateur internet du client (HTML, CSS, JavaScript) et une autre partie qui va s’exécuter sur un serveur distant.</p>
<p>Le backend s’occupe de nombreuses tâches cruciales comme :</p>
<ul>
<li><strong>La gestion des données</strong> : Créer, lire, modifier ou supprimer des données (CRUD en anglais)</li>
<li><strong>La logique métier</strong></li>
<li><strong>La communication</strong></li>
<li><strong>La sécurité</strong></li>
</ul>
<h3>Communication entre le front et le back</h3>
<p>La communication entre le front et le back se gère à l'aide de <strong>requête HTTP</strong>. On peut résumer un backend comme un programme qui écoute les requêtes HTTP et qui renvoie la bonne réponse.</p>
<p>Lorsque l’utilisateur interagit avec l’application web (si il appuie sur un bouton par exemple), le frontend envoie une requête HTTP au serveur. Le backend reçoit cette requête et commence à la traiter. Il examine la demande et effectue les opérations nécessaires. Ensuite le backend renvoie la réponse voulue (généralement en JSON).</p>
<p>Plus précisément, cette communication se fait au travers d’<strong>API</strong> (interface de programmation d'application) qui définissent les différentes routes.</p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-pink-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
</svg>
<div class="pl-8 mr-8">
<p>Une route est une déclaration qui associe une URL spécifique à un ensemble d'instructions qui doivent être exécutées lorsque cette URL est accédée par un client.</p>
</div></div>
<p>Voici un exemple de configuration de route avec express :</p>
<pre class="language-jsx"><code class="language-jsx">app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/api/stuff'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'Votre requête a bien été reçue !'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Ici, lorsqu’une requête HTTP est envoyé à la route  <strong><a href="http://localhost:8000/api/stuff">http://localhost:8000/api/stuff</a></strong>, le serveur envoie une réponse au format JSON qui est : “Votre requête a bien été reçue !”.</p>
<h2>Construire son backend avec Node.js et Express</h2>
<p>Pour apprendre concrètement comment mettre en place un serveur avec <a href="https://nodejs.org/fr">Node.js</a>. J'ai suivi le <a href="https://openclassrooms.com/fr/courses/6390246-passez-au-full-stack-avec-node-js-express-et-mongodb">tuto d'OpenClassRoom</a>. Si comme moi, vous n'avez aucune connaissance en backend, je ne vous conseille pas de suivre ce tuto. On ne comprend pas bien comment le frontend interagit avec le backend et je trouve que certaines notions ne sont pas claires pour les débutants.</p>
<p>J’ai donc trouvé <a href="https://fullstackopen.com/fr/">un autre tuto</a> qui, je trouve, est beaucoup plus claire. En plus, il repart vraiment des bases pour bien appréhender le développement web. Après avoir lu  <a href="https://fullstackopen.com/fr/part3">la partie 3</a>, j’ai pu mieux appréhender le tuto d’openclassroom. Je conseille aussi de lire <a href="https://fullstackopen.com/fr/part0">la partie 0</a> qui explique comment fonctionne une application web traditionnelle.</p>
<p>Revenons au tutoriel d’Openclassroom. On y apprend comment créer un serveur avec Node.js et Express.</p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-pink-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
</svg>
<div class="pl-8 mr-8">
<p><strong>Node.js</strong> est un environnement d'exécution qui permet d'exécuter du code JavaScript côté serveur.</p>
<p><strong>Express</strong> est un framework web pour Node.js. Il simplifie le processus de création d'applications web coté serveur et d'API.</p>
</div></div>
<p>L’installation de ces outils est bien expliquer dans cette <a href="https://openclassrooms.com/fr/courses/6390246-passez-au-full-stack-avec-node-js-express-et-mongodb/6466206-configurez-votre-environnement-de-developpement">partie</a>.</p>
<p>Cependant, j’ai eu un problème lors de l’installation de nodemon (outil qui redémarre automatiquement notre serveur lorsqu’il détecte un changement).</p>
<p>Si vous avez cette erreur :</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token literal-property property">nodemon</span> <span class="token operator">:</span> Impossible de charger le fichier <span class="token constant">C</span><span class="token operator">:</span>\Users\utilisateur\AppData\Roaming\npm\nodemon<span class="token punctuation">.</span>ps1<span class="token punctuation">,</span> car l’exécution de scripts est désactivée sur ce système<span class="token punctuation">.</span> Pour plus 
d’informations<span class="token punctuation">,</span> consultez about_Execution_Policies à l’adresse https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>go<span class="token punctuation">.</span>microsoft<span class="token punctuation">.</span>com<span class="token operator">/</span>fwlink<span class="token operator">/</span><span class="token operator">?</span>LinkID<span class="token operator">=</span><span class="token number">135170.</span>
Au caractère Ligne<span class="token operator">:</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">1</span>
<span class="token operator">+</span> nodemon server
<span class="token operator">+</span> <span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span>
    <span class="token operator">+</span> CategoryInfo          <span class="token operator">:</span> Erreur de sécurité <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> PSSecurityException
    <span class="token operator">+</span> FullyQualifiedErrorId <span class="token operator">:</span> UnauthorizedAccess</code></pre>
<p>sur Windows, il faut ouvrir le powershell en admin et écrire :</p>
<pre class="language-jsx"><code class="language-jsx">Set<span class="token operator">-</span>ExecutionPolicy RemoteSigned</code></pre>
<p>Ensuite le tuto explique bien la notion de middleware et comment gérer les routes avec Express. Il explique aussi comment bien organiser son backend pour en faciliter la compréhension et la gestion. On sépare notre code en différentes couches.</p>
<pre class="language-jsx"><code class="language-jsx">
│   app<span class="token punctuation">.</span>js
│   <span class="token keyword">package</span><span class="token operator">-</span>lock<span class="token punctuation">.</span>json
│   <span class="token keyword">package</span><span class="token punctuation">.</span>json
│   server<span class="token punctuation">.</span>js
├───controllers
│       stuff<span class="token punctuation">.</span>js
│       user<span class="token punctuation">.</span>js
│
├───models
│       thing<span class="token punctuation">.</span>js
│       user<span class="token punctuation">.</span>js
└───routes
        stuff<span class="token punctuation">.</span>js
        user<span class="token punctuation">.</span>js</code></pre>
<ul>
<li><strong>Models</strong> : pour définir les schémas de base de données (ici on utilise MongoDB)</li>
</ul>
<pre class="language-jsx"><code class="language-jsx"><span class="token comment">//models/thing.js</span>
<span class="token keyword">const</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mongoose'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> thingSchema <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">imageUrl</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">userId</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">'Thing'</span><span class="token punctuation">,</span> thingSchema<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Ici on créer un schéma de donnée qui représente un objet quelconque à vendre</p>
<ul>
<li><strong>Routes</strong> : pour définir les routes de l'application</li>
</ul>
<pre class="language-jsx"><code class="language-jsx"><span class="token comment">//routes/stuff.js</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> stuffCtrl <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../controllers/stuff'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> stuffCtrl<span class="token punctuation">.</span>getAllStuff<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> stuffCtrl<span class="token punctuation">.</span>createThing<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/:id'</span><span class="token punctuation">,</span> stuffCtrl<span class="token punctuation">.</span>getOneThing<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">'/:id'</span><span class="token punctuation">,</span> stuffCtrl<span class="token punctuation">.</span>modifyThing<span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'/:id'</span><span class="token punctuation">,</span> stuffCtrl<span class="token punctuation">.</span>deleteThing<span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router<span class="token punctuation">;</span></code></pre>
<p>Ici, on s’occupe des différentes routes ayant pour racine <strong>/api/stuff</strong>(définis dans le fichier app.js)</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token comment">//app.js</span>
<span class="token keyword">const</span> stuffRoutes <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./routes/stuff'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/api/stuff'</span><span class="token punctuation">,</span> stuffRoutes<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<ul>
<li><strong>Controllers</strong> : pour gérer la logique métier</li>
</ul>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> Thing <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../models/thing'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">createThing</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> thing <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thing</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
    <span class="token literal-property property">description</span><span class="token operator">:</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>description<span class="token punctuation">,</span>
    <span class="token literal-property property">imageUrl</span><span class="token operator">:</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>imageUrl<span class="token punctuation">,</span>
    <span class="token literal-property property">price</span><span class="token operator">:</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>price<span class="token punctuation">,</span>
    <span class="token literal-property property">userId</span><span class="token operator">:</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>userId
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  thing<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'Post saved successfully!'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">error</span><span class="token operator">:</span> error
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Ici on développe les fonctions associées à chaque <strong>route</strong>. J’ai affiché que la fonction qui permet de créer un nouvel élément dans la base de donnée.</p>
<p>Enfin, il y a quelque chose que je n’avais pas compris dans ce tuto.</p>
<p>La partie frontend s’exécute sur un serveur local en tapant (<strong>npm run start</strong>) qui est différent du serveur Node que nous créons.</p>
<p>Pour comprendre pourquoi le frontend et le backend tourne sur deux serveurs différents, il faut comprendre comment une application web fonctionne en production. Car ici nous sommes dans un environnement destiné au développement. En effet, en production, on utilise un autre serveur que Node.js pour servir les fichiers statiques (par exemple, Nginx). En effet, on peut utiliser un serveur intermédiaire entre le client et Node.Js qui écoute les requêtes HTTP. Si la requête demande un fichier statique, Nginx renvoie directement le fichier associé, sinon il redistribue la requête vers Node.js.</p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-pink-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
</svg>
<div class="pl-8 mr-8">
<p>Les fichiers statiques sont les fichiers utilisés pour le frontend (html, css, js, images, police).</p>
</div></div>
<h2>Conclusion</h2>
<p>Ce MON m’a permis d’éclaircir certaines notions de backend. J’ai mis beaucoup de temps au début à essayer de comprendre comment fonctionner un application web. Une fois ce travail effectué, j’ai pu mieux appréhender la mise en pratique.</p>


</article>

        </main>


        <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
            <div class="max-w-[1000px] mx-auto px-4">
                <div class="min-h-[50px] flex justify-center items-center">
                    <p class="text-center">
                        <span style="font-family: Consolas, sans-serif;">Do_<span style="color: #4a86e8">It</span></span> : Développent et Organisation en IT
                    </p>
                </div>
            </div>
        </footer>

        <script>
        MathJax
            .startup
            .document
            .getMathItemsWithin(document.body);
        </script>

    </body>
</html>
