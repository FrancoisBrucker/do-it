
<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>MON1.1: Apprentissage de Qt avec Python</title>

        <link href="/do-it/assets/node_modules/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet">
        <link href="/do-it/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">

        <link href="/do-it/assets/stylesheets/main.css" rel="stylesheet">
    </head>
    <body>
        <script>
        window.MathJax = {
            tex: {
            inlineMath: [
                [
                '$', '$'
                ],
                [
                '\\(', '\\)'
                ]
            ]
            },
            svg: {
            fontCache: 'global'
            }
        };
        </script>
        <script type="text/javascript" id="MathJax-script" src="/do-it/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

        <header class="border-b-2 border-gray-200 mb-4">
        <div class="max-w-[1000px] mx-auto px-4">
            <div class="min-h-[50px] flex justify-between items-center">
                <a class="mx-2" href="/do-it/">Home</a>
                <div class="flex items-center gap-4 sm:gap-6 ">
                    <a class="" href="/do-it/cs">CS</a>
                    <a class="" href="/do-it/pok">POK</a>
                    <a class="" href="/do-it/mon">MON</a>
                    <a class="" href="/do-it/projets">Projets</a>
                    <a class="hidden sm:block" href="/do-it/promos">Promos</a>
                    <a href="/do-it/search">
                        <svg class="h-5 aspect-square" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path>
                        </svg>
                    </a>
                    <a class="hidden sm:block" href="https://github.com/FrancoisBrucker/do-it" target="_blank">
                        <svg class="h-5 aspect-square" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
                    </a>
                </div>
            </div>
        </div>
        </header>

        <main class="max-w-[1000px] mx-auto px-4" data-pagefind-body="">
            
<article class="relative">
<h1 class="mb-1">MON1.1: Apprentissage de Qt avec Python</h1>
<div class="mb-4">
    
        <div class="px-4 flex flex-wrap items-center">
            
                <div class="font-bold">Tags : </div>
            
            <ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags">
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">MON</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">2023-2024</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">temps 1</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">Python</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">Programmation Objet</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">Qt</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">Interfaces graphiques</li>
                

            </ul>
            
            
            <div class="hidden" data-pagefind-meta="Type">
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </div>
        </div>
    

    
        <div class="px-4 flex flex-wrap items-center">
            <div class="font-bold">Auteurs : </div>
            <ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs">
                
                    <li class="bg-blue-200 rounded-full px-2" data-pagefind-filter="Auteurs">Duc DANG VU</li>
                
            </ul>
        </div>
    

    
</div>

        <p class="mb-4 text-lg">

                Ce MON aura pour objectif de s'initier à Qt avec Python. Cet outil permet de créer des interfaces graphiques avec Python, et sera utile pour mon POK du temps 1.

        </p>



    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a href="/do-it/promos/">Promotions</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/">2023-2024</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Dang-Vu-Duc/">Duc DANG VU</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Dang-Vu-Duc/mon/">MON de Duc DANG VU</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Dang-Vu-Duc/mon/temps-1.1/">MON1.1: Apprentissage de Qt avec Python</a>

</div></div>




<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-pink-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p>Prérequis</p>
</div><div class="pl-8 mr-8">
<p>Connaissance basique de la programmation objet avec Python.</p>
</div></div>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Tout les codes présentés ci-dessous sont disponibles dans le dossier Github de Do-It: <a href="https://github.com/FrancoisBrucker/do-it/tree/main/src/promos/2023-2024/Dang-Vu-Duc/mon/temps-1.1">Codes du MON1.1</a></p>
</div></div>
<h2>Introduction</h2>
<p>Qt est une interface de programmation d'application (API) orientée objet pour développer des interfaces graphiques en C++. Dans ce MON, nous allons utiliser Python pour exploiter cet API, grâce au projet <em>Qt for Python</em>. L'installation se fait rapidement en rentrant la ligne de commande suivante sur un terminal:</p>
<pre class="language-python"><code class="language-python">pip install PySide6</code></pre>
<p>PySide6 est un module de Python développé par le projet <em>Qt for Python</em>, et va nous permettre d'utiliser diverses méthodes pour développer des interfaces graphiques dans des fenêtres.</p>
<h2>Présentation des classes de Qt for Python</h2>
<p>Nous allons présenter les différentes classes utiles de <em>Qt for Python</em>, afin de créer des interfaces basiques.</p>
<h3>QMainWindow</h3>
<p>La première étape est de créer une fenêtre basique, avec rien dedans. Après avoir importé les différentes classes de la bibliothèque PySide, on créé une instance de la classe <strong>QMainWindow</strong> et on l'affiche:</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> PySide6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QMainWindow
<span class="token keyword">import</span> sys

app<span class="token punctuation">.</span>QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
window <span class="token operator">=</span> QMainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"Fenêtre basique"</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>L'exécution de ce premier code ouvre cette fenêtre:</p>
<p><img src="Image1.png" alt="Fenêtre basique"></p>
<p>Comme on peut le voir, la classe <strong>QMainWindow</strong> permet de créer une fenêtre, qui va contenir tout les autres éléments que l'on veut.</p>
<h3>QPushButton</h3>
<p>Cette classe permet de créer des boutons avec lesquels l'utilisateur peut interagir. Dans l'exemple suivant, on va faire apparaître une fenêtre avec un bouton au milieu:</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> PySide6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QMainWindow<span class="token punctuation">,</span> QPushButton
<span class="token keyword">import</span> sys

app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
window <span class="token operator">=</span> QMainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"Fenêtre basique avec un bouton"</span><span class="token punctuation">)</span>
button <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"Bouton"</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>button<span class="token punctuation">)</span>
window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>L'execution de ce code affiche la fenêtre suivante:</p>
<p><img src="Image2.png" alt="Fenêtre basique avec un bouton"></p>
<p>Pour l'instant, il ne se passe rien lorsque l'on clique sur ce bouton. C'est parce que on n'a pas associé d'action à ce bouton. Pour se faire, on va utiliser la méthode <em>clicked.connect</em> de la classe <strong>QPushButton</strong>. Cette méthode permet d'associer une autre méthode au bouton: lorsque l'utilisateur va cliquer sur ce bouton, ce dernier va envoyer un signal au programme et va exécuter la méthode que l'on a renseigné en argument:</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> PySide6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QMainWindow<span class="token punctuation">,</span> QPushButton
<span class="token keyword">import</span> sys
<span class="token keyword">from</span> PySide6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt

<span class="token keyword">class</span> <span class="token class-name">Test_button</span><span class="token punctuation">(</span>QMainWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"Test Bouton cliquable"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>button <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"Bouton cliquable"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>button<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>button_clicked<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>button<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">button_clicked</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Le bouton a été cliqué!"</span><span class="token punctuation">)</span>

app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
window <span class="token operator">=</span> Test_button<span class="token punctuation">(</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Notons que le code ci-dessus est organisé sour forme d'une classe. Il est préférable de faire ainsi pour rendre le code plus lisible.</p>
</div></div>
<p>Ce code fait bien apparaître la même fenêtre que précédemment, mais cette fois-ci le bouton print du texte lorsque l'on clique dessus.</p>
<h3>QWidget</h3>
<p>La classe <strong>QWidget</strong> permet, comme son nom l'indique, de créer des widgets. Ces widgets permettent de placer des éléments dans la fenêtre principale où l'on veut. A l'intérieur de ces widgets, on peut utiliser des classes comme <strong>QVBoxLayout</strong> ou <strong>QHBoxLayout</strong> pour placer les différents éléments. Par exemple, on peut ajouter à notre classe Test_button un widget pour y centrer notre bouton. On peut même y ajouter un deuxième bouton:</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Test_button</span><span class="token punctuation">(</span>QMainWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"Test Bouton cliquable"</span><span class="token punctuation">)</span>
        central_widget <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>central_widget<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>button1 <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"Bouton cliquable 1"</span><span class="token punctuation">,</span> central_widget<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>button1<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>button_clicked<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>button2 <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"Bouton cliquable 2"</span><span class="token punctuation">,</span> central_widget<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>button2<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>button_clicked<span class="token punctuation">)</span>

        layout <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>button1<span class="token punctuation">)</span>
        layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>button2<span class="token punctuation">)</span>
        central_widget<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>layout<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">button_clicked</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Le bouton a été cliqué!"</span><span class="token punctuation">)</span></code></pre>
<p>Ce code fait apparaître la fenêtre suivante:</p>
<p><img src="Image3.png" alt="Test boutons cliquables"></p>
<p>La classe <strong>QVBoxLayout</strong> permet de créer un layout vertical où tout les éléments sont centrés verticalement.</p>
<h3>MenuBar</h3>
<p>La différence entre <strong>QWidget</strong> et <strong>QMainWindow</strong> est qu'avec cette dernière classe, il est possible d'ajouter plusieurs éléments, notamment une barre de menu en haut de la fenêtre. Pour cela, nous allons utiliser la méthode <strong>MenuBar</strong>. Cette classe a de nombreuses méthodes, par exemple la méthode addMenu qui permet d'ajouter des onglets dans la barre de menu, ou bien encore la méthode addAction qui permet d'associer des actions à un onglet. A l'image des boutons, on peut également associer des méthodes pour que ces actions produisent quelque chose, grâce à la méthode triggered.connect:</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Test_button</span><span class="token punctuation">(</span>QMainWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>

        menu_bar <span class="token operator">=</span> self<span class="token punctuation">.</span>menuBar<span class="token punctuation">(</span><span class="token punctuation">)</span>
        file_menu <span class="token operator">=</span> menu_bar<span class="token punctuation">.</span>addMenu<span class="token punctuation">(</span><span class="token string">"Fichier"</span><span class="token punctuation">)</span>
        file_menu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span><span class="token string">"Nouveau Fichier"</span><span class="token punctuation">)</span>
        file_menu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span><span class="token string">"Ouvrir le fichier"</span><span class="token punctuation">)</span>
        file_menu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span><span class="token string">"Enregistrer sous"</span><span class="token punctuation">)</span>
        save_action <span class="token operator">=</span> file_menu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span><span class="token string">"Enregistrer"</span><span class="token punctuation">)</span>
        save_action<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>save<span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"Test Bouton cliquable"</span><span class="token punctuation">)</span>
        central_widget <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>central_widget<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>button1 <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"Bouton cliquable 1"</span><span class="token punctuation">,</span> central_widget<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>button1<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>button_clicked<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>button2 <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"Bouton cliquable 2"</span><span class="token punctuation">,</span> central_widget<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>button2<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>button_clicked<span class="token punctuation">)</span>

        layout <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>button1<span class="token punctuation">)</span>
        layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>button2<span class="token punctuation">)</span>
        central_widget<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>layout<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">button_clicked</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Le bouton a été cliqué!"</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">save</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Le fichier a été enregistré"</span><span class="token punctuation">)</span>
</code></pre>
<p>Ce code ouvre la même fenêtre que précédemment, mais avec un onglet &quot;Fichier&quot;. Lorsque l'on passe la souris dessus, un menu déroulant apparaît et lorque l'on clique sur &quot;enregistrer&quot;, un voit print &quot;Le fichier a été enregistré&quot;:</p>
<p><img src="Image4.png" alt="Image menu déroulant"></p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Notons qu'il existe énormément de méthodes associées à chaque classes. Je présente ici les méthodes que je trouve les plus importantes, mais elles sont toutes répertoriées et expliquées sur le site de la documentation du projet <em>Qt for Python</em>: <a href="https://doc.qt.io/">Documentation QT</a></p>
</div></div>
<h3>QMessageBox</h3>
<p>Cette classe permet de faire apparaître une fenêtre &quot;popup&quot;. On peut définir des boutons de base qui sont dans ce popup, avec la méthode <em>setStandardButtons</em>. Voici un exemple d'un code qui fait apparaître un popup (ce code est ajouté à notre méthode <em>button_clicked</em>):</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">button_clicked</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        message <span class="token operator">=</span> QMessageBox<span class="token punctuation">(</span><span class="token punctuation">)</span>
        message<span class="token punctuation">.</span>setMinimumSize<span class="token punctuation">(</span><span class="token number">700</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span>
        message<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"Titre du popup"</span><span class="token punctuation">)</span>
        message<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"Message d'erreur"</span><span class="token punctuation">)</span>
        message<span class="token punctuation">.</span>setIcon<span class="token punctuation">(</span>QMessageBox<span class="token punctuation">.</span>Critical<span class="token punctuation">)</span>
        message<span class="token punctuation">.</span>setStandardButtons<span class="token punctuation">(</span>QMessageBox<span class="token punctuation">.</span>Ok <span class="token operator">|</span> QMessageBox<span class="token punctuation">.</span>Cancel<span class="token punctuation">)</span>
        message<span class="token punctuation">.</span>setDefaultButton<span class="token punctuation">(</span>QMessageBox<span class="token punctuation">.</span>Ok<span class="token punctuation">)</span>
        message<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Lorsque l'on clique sur un des deux boutons, le popup suivant apparaît:</p>
<p><img src="Image5.png" alt="Popup"></p>
<p>Encore une fois, il est possible de faire bien plus de choses avec cette fenêtre popup, tout est documenté sur le site de Qt.</p>
<h3>QLabel et QLineEdit</h3>
<p>La classe <strong>QLabel</strong> permet de mettre des labels (c'est-à-dire du texte) dans la fenêtre, et la classe <strong>QLineEdit</strong> permet d'afficher un champ où l'utilisateur peut rentrer du texte. Ce texte peut être récupéré grâce à la méthode <em>text</em> de la classe <strong>QLineEdit</strong>. Voici un exemple d'utilisation de ces deux classes (on ajoute le code suivant dans l'initialisation de la classe <em>Test_button</em>):</p>
<pre class="language-python"><code class="language-python">label <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"Entrez votre nom:"</span><span class="token punctuation">)</span>
self<span class="token punctuation">.</span>line_edit <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span><span class="token punctuation">)</span>
button_valider <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"Valider"</span><span class="token punctuation">)</span>
button_valider<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>valider<span class="token punctuation">)</span>

layout2 <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
layout2<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>label<span class="token punctuation">)</span>
layout2<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>line_edit<span class="token punctuation">)</span>
layout2<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>button_valider<span class="token punctuation">)</span>

layout <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>button1<span class="token punctuation">)</span>
layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>button2<span class="token punctuation">)</span>
layout<span class="token punctuation">.</span>addLayout<span class="token punctuation">(</span>layout2<span class="token punctuation">)</span>
central_widget<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>layout<span class="token punctuation">)</span>
self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">valider</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Nom:"</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>line_edit<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<p>L'exécution de ce code fait apparaître notre fenêtre test, mais avec en plus un champ à remplir. Quand on clique sur le bouton valider, on voit que l'information du nom a bien été print:</p>
<p><img src="Image6.png" alt="Image QLabel et QLineEdit"></p>
<p>On remarque l'utilisation de la classe <strong>QHBoxLayout</strong> pour mettre le label, le champ à remplir et le bouton valider côte-à-côte. Ensuite, on a rajouté ce layout au layout vertical principal.</p>
<h2>Utilisation de Qt Designer</h2>
<h3>Création d'une interface graphique sur Qt Designer</h3>
<p>Il existe bien plus de classes disponibles avec Qt. Il peut-être difficile de se retrouver parmi tout cela, et trouver les bonnes méthodes pour faire ce que l'on veut. Il existe ainsi un outil pour pallier à ce problème: <strong>Qt Designer</strong>. Ce logiciel est disponible en open source sur le <a href="https://qt.io">site de Qt</a>. Grâce à cet outil, on peut placer tout les éléments possibles comme on le souhaite dans une fenêtre.
Pour illustrer l'utilisation de cet outil, nous allons créer une fenêtre pour jouer à un jeu de carte basique: la bataille. Pour cela, on doit télécharger un dossier avec des images de cartes à jouer. Ensuite, on créé une <strong>MainWindow</strong> sur Qt Designer.</p>
<p><img src="Image7.png" alt="Image QT Deigner"></p>
<p>On peut voir ci-dessus à quoi ressemble le terminal de QT Designer. Sur le côté droit, il y a l'endroit pour modifier les propriétés de chaque objet; sur la gauche, il y a tout les objets que l'on peut utiliser. Il suffit de les cliquer-glisser sur l'interface. On peut également changer les couleurs, on encore assigner des images aux objets (dans notre cas, les images de cartes).
J'ai choisi un fond vert pour représenter le tapis de jeu. Pour charger une image sur un label (par exemple ici, une image de dos de carte), il faut cliquer sur cet élément et changer la &quot;pixmap&quot; dans les options du label (sur le côté gauche).</p>
<h3>Utilisation de l'interface dans un programme</h3>
<p>L'enregistrement de ce fichier via Qt Designer produit un fichier .ui, qui va pouvoir être utilisé dans un programme. Pour ce faire, on va utliser la classe <strong>QUiLoader</strong>, qui va permettre de charger le fichier .ui et l'associer à une fenêtre grâce à la méthode <em>load</em> de cette classe. Ensuite, il faut associer les éléments du fichier .ui à des variables dans notre code. Pour cela, on va utiliser la méthode <em>findChild</em>, qui prend en argument le type d'objet que l'on recherche ainsi que son nom que l'on a attribué dans Qt Designer. Ainsi, l'initialisation de notre classe <strong>Bataille</strong> ressemble à ceci:</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Bataille</span><span class="token punctuation">(</span>QMainWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>

        ui_file_name <span class="token operator">=</span> <span class="token string">"bataille.ui"</span>
        ui_file <span class="token operator">=</span> QFile<span class="token punctuation">(</span>ui_file_name<span class="token punctuation">)</span>
        loader <span class="token operator">=</span> QUiLoader<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_window <span class="token operator">=</span> loader<span class="token punctuation">.</span>load<span class="token punctuation">(</span>ui_file<span class="token punctuation">)</span>
        ui_file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"Bataille"</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>DealerCard <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"dealer_card"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>PlayerCard <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"player_card"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>DealerCount <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"dealer_count"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>PlayerCount <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"player_count"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>PlayerName <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"player_header"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>CardsLeft <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"cards_left"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>result <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"result"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>PlayButton <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"play_button"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>RestartButton <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"restart_button"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>ShuffleButton <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"shuffle_button"</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>PlayButton<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>play<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>RestartButton<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>restart<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>ShuffleButton<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>newdeck<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>dealer_count <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>player_count <span class="token operator">=</span> <span class="token number">0</span>

        widget <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>name_window <span class="token operator">=</span> QMainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>name_window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"Nom du joueur"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>name_window<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>widget<span class="token punctuation">)</span>
        label <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"Entrez votre nom:"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>line_edit <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        button_valider <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"Valider"</span><span class="token punctuation">)</span>
        button_valider<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>valider<span class="token punctuation">)</span>
        layout <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>label<span class="token punctuation">)</span>
        layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>line_edit<span class="token punctuation">)</span>
        layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>button_valider<span class="token punctuation">)</span>
        widget<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>layout<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>name_window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>newdeck<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>On remarque que l'on a bien associé chaque bouton à une action (que l'on va définir plus tard). On a également deux fenêtres: main_window et name_window. Cette dernière fenêtre permet au joueur de renseigner son nom, grâce à la classe <strong>QLineEdit</strong>, explicitée précédemment.</p>
<p>Il faut maintenant créer les méthodes pour associées à chaque bouton. La méthode newdeck créé un jeu de 52 cartes grâce à une classe <strong>Card</strong>, qui associe à chaque carte un nom et une valeur. La méthode restart créé un nouveau deck et réinitialise les compteurs de points et la méthode play affiche deux cartes aléatoires et compare leur valeurs. L'affichage des cartes se faire grâce à la métnode setPixmap de la classe <strong>QLabel</strong>. Cette pixmap contient l'information d'une image, qu'on définit grâce à la classe <strong>QPixmap</strong>. Voici le code de ces méthodes:</p>
<pre class="language-python"><code class="language-python">    <span class="token keyword">def</span> <span class="token function">valider</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        name <span class="token operator">=</span> self<span class="token punctuation">.</span>line_edit<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>PlayerName<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Cartes du joueur </span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>name_window<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">newdeck</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        suits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"diamonds"</span><span class="token punctuation">,</span> <span class="token string">"clubs"</span> <span class="token punctuation">,</span><span class="token string">"hearts"</span><span class="token punctuation">,</span> <span class="token string">"spades"</span><span class="token punctuation">]</span>
        values <span class="token operator">=</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>deck <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> suit <span class="token keyword">in</span> suits<span class="token punctuation">:</span>
            <span class="token keyword">for</span> value <span class="token keyword">in</span> values<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>deck<span class="token punctuation">.</span>append<span class="token punctuation">(</span>Card<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">_of_</span><span class="token interpolation"><span class="token punctuation">{</span>suit<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>CardsLeft<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>deck<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string"> cartes restantes"</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">play</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        card_dealer <span class="token operator">=</span> random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>self<span class="token punctuation">.</span>deck<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>deck<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>card_dealer<span class="token punctuation">)</span>
        pixmap_dealer <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'PNG-cards/</span><span class="token interpolation"><span class="token punctuation">{</span>card_dealer<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">.png'</span></span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>DealerCard<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap_dealer<span class="token punctuation">)</span>
        card_player <span class="token operator">=</span> random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>self<span class="token punctuation">.</span>deck<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>deck<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>card_player<span class="token punctuation">)</span>
        pixmap_player <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'PNG-cards/</span><span class="token interpolation"><span class="token punctuation">{</span>card_player<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">.png'</span></span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>PlayerCard<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap_player<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>CardsLeft<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>deck<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string"> cartes restantes"</span></span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> card_dealer<span class="token punctuation">.</span>value <span class="token operator">></span> card_player<span class="token punctuation">.</span>value<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>result<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"Le dealer a gagné!"</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>dealer_count <span class="token operator">+=</span> <span class="token number">1</span>
            self<span class="token punctuation">.</span>DealerCount<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Le dealer a </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>dealer_count<span class="token punctuation">}</span></span><span class="token string"> points"</span></span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> card_dealer<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> card_player<span class="token punctuation">.</span>value<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>result<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"Le joueur a gagné!"</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>player_count <span class="token operator">+=</span> <span class="token number">1</span>
            self<span class="token punctuation">.</span>PlayerCount<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Le joueur a </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>player_count<span class="token punctuation">}</span></span><span class="token string"> points"</span></span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> card_dealer<span class="token punctuation">.</span>value <span class="token operator">==</span> card_player<span class="token punctuation">.</span>value<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>result<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"Egalité!"</span><span class="token punctuation">)</span>
        
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>deck<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>newdeck<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">restart</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>player_count <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>dealer_count <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>PlayerCount<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"Le joueur a 0 points"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>DealerCount<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"Le dealer a 0 points"</span><span class="token punctuation">)</span>
        pixmap <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token string">'PNG-cards/dos.png'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>DealerCard<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>PlayerCard<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>newdeck<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Card</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>value <span class="token operator">=</span> value
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name</code></pre>
<p>L'exécution de ce code fait apparaître dans un premier temps une fenêtre demandant au joueur de rentrer son nom. Une fois que le joueur a validé son nom, la méthode &quot;valider&quot; change le Label du joueur pour y mettre son nom, avec la méthode setText.</p>
<p><img src="Image8.png" alt="Fenêtre nom joueur"></p>
<p><img src="Image9.png" alt="Fenêtre bataille"></p>
<p>Ce jeu de bataille est donc bien fonctionnel. Il compte les points à chaque tour et met bien à jour chaque texte.</p>
<h2>Conclusion</h2>
<p>Comme on a pu le voir, Qt permet de faire des interfaces graphiques de tout genre. Il existe une multitude de classes et de méthodes, je n'ai ici que présenté une infime partie de ce qui est possible. Cependant, avec ces principales classes, il est possible de faire les applications les plus basiques, comme par exemple le jeu de bataille que j'ai implémenté en application de ce MON (ce code python se trouve dans le dossier GitHub). De plus, si l'on veut découvrir encore plus de choses sur Qt, il peut être intéressant de parcourir le site de la documentation de Qt, ainsi que le Qt Designer pour voir tout les éléments possibles.</p>


</article>

        </main>


        <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
            <div class="max-w-[1000px] mx-auto px-4">
                <div class="min-h-[50px] flex justify-center items-center">
                    <p class="text-center">
                        <span style="font-family: Consolas, sans-serif;">Do_<span style="color: #4a86e8">It</span></span> : Développement et Organisation en IT
                    </p>
                </div>
            </div>
        </footer>

        <script>
        MathJax
            .startup
            .document
            .getMathItemsWithin(document.body);
        </script>
        <script src="/do-it/assets/node_modules/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
    </body>
</html>
