
<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>POK1: Implémentation du jeu de Blackjack avec Python</title>

        <link href="/do-it/assets/node_modules/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet">
        <link href="/do-it/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">

        <link href="/do-it/assets/stylesheets/main.css" rel="stylesheet">
    </head>
    <body>
        <script>
        window.MathJax = {
            tex: {
            inlineMath: [
                [
                '$', '$'
                ],
                [
                '\\(', '\\)'
                ]
            ]
            },
            svg: {
            fontCache: 'global'
            }
        };
        </script>
        <script type="text/javascript" id="MathJax-script" src="/do-it/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

        <header class="border-b-2 border-gray-200 mb-4">
        <div class="max-w-[1000px] mx-auto px-4">
            <div class="min-h-[50px] flex justify-between items-center">
                <a class="mx-2" href="/do-it/">Home</a>
                <div class="flex items-center gap-4 sm:gap-6 ">
                    <a class="" href="/do-it/cs">CS</a>
                    <a class="" href="/do-it/pok">POK</a>
                    <a class="" href="/do-it/mon">MON</a>
                    <a class="" href="/do-it/projets">Projets</a>
                    <a class="hidden sm:block" href="/do-it/promos">Promos</a>
                    <a href="/do-it/search">
                        <svg class="h-5 aspect-square" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path>
                        </svg>
                    </a>
                    <a class="hidden sm:block" href="https://github.com/FrancoisBrucker/do-it" target="_blank">
                        <svg class="h-5 aspect-square" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
                    </a>
                </div>
            </div>
        </div>
        </header>

        <main class="max-w-[1000px] mx-auto px-4" data-pagefind-body="">
            
<article class="relative">
<h1 class="mb-1">POK1: Implémentation du jeu de Blackjack avec Python</h1>
<div class="mb-4">
    
        <div class="px-4 flex flex-wrap items-center">
            
                <div class="font-bold">Tags : </div>
            
            <ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags">
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">POK</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">2023-2024</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">temps 1</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">Python</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">Qt</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">Interfaces graphiques</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">Programmation Objet</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">Blackjack</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">Jeux de casino</li>
                

            </ul>
            
            
            <div class="hidden" data-pagefind-meta="Type">
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </div>
        </div>
    

    
        <div class="px-4 flex flex-wrap items-center">
            <div class="font-bold">Auteurs : </div>
            <ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs">
                
                    <li class="bg-blue-200 rounded-full px-2" data-pagefind-filter="Auteurs">Duc DANG VU</li>
                
            </ul>
        </div>
    

    
</div>

        <p class="mb-4 text-lg">

                Ce POK a pour objectif d'utiliser le module Qt de Python pour implémenter un jeu de Blackjack. Le programme montrera également des statistiques sur différents aspects du jeu tels que l'espérance de du gain, le pourcentage de réussite pour chaque main ou encore l'espérance de gain avec le comptage des cartes.

        </p>



    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a href="/do-it/promos/">Promotions</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/">2023-2024</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Dang-Vu-Duc/">Duc DANG VU</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Dang-Vu-Duc/pok/">POK de Duc DANG VU</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Dang-Vu-Duc/pok/temps-1/">POK1: Implémentation du jeu de Blackjack avec Python</a>

</div></div>




<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-pink-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p>Prérequis</p>
</div><div class="pl-8 mr-8">
<p>Connaissance basique de Qt pour Python (cf mon <a href="../../mon/temps-1.1">MON1 du temps 1</a>)</p>
</div></div>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Tout les codes présentés ci-dessous sont disponibles dans le dossier Github de Do-It: <a href="https://github.com/FrancoisBrucker/do-it/tree/main/src/promos/2023-2024/Dang-Vu-Duc/pok/temps-1">Codes du POK</a></p>
</div></div>
<h2>Introduction</h2>
<p>Le Blackjack est l'un des jeux de carte les plus connus et joués dans les casinos. C'est un jeu qui oppose les joueurs au casino (dénommé aussi le dealer, puisqu'il distribue les cartes). Le Blackjack étant un jeu de carte de casino, on peut se douter que ce jeu est naturellement à l'avantage du casino. Il serait ainsi intéressant de se demander à quel point le joueur est perdant dans ce jeu, sachant qu'il utilise une stratégie connue pour être optimale. En d'autres termes, <strong>quelle est l'espérance de gain d'un joueur qui joue au Blackjack?</strong> D'autres statistiques seront également calculées, comme par exemple la meilleure carte que le dealer peut avoir ou bien encore l'influence du <em>comptage de cartes</em>.</p>
<p>L'objectif sera également de recréer un jeu de Blackjack, en utilisant le module <em>Qt for Python</em>, que j'ai appris à maîtriser lors de mon premier MON du temps 1. C'est d'ailleurs par cela que ce POK va commencer.</p>
<p>Tout les codes présentés ci-après ont été écrits par mes soins, de A à Z.</p>
<h2>Sommaire</h2>
<ul>
<li>Brève explication des règles du Blackjack</li>
<li>Prévision du premier sprint</li>
<li>Implémentation d'un jeu de Blackjack avec Qt sur Python</li>
<li>Démonstration du code</li>
<li>Bilan du premier sprint et prévision du deuxième sprint</li>
<li>Implémentation des simulations autour du jeu de Blackjack</li>
<li>Conclusion</li>
</ul>
<h2>Brève explication des règles du Blackjack</h2>
<p>Il faut tout d'abord commencer par expliquer rapidement les (simples) règles du Blackjack. Ce jeu oppose les joueurs à la <em>maison</em> (autrement dit le casino, ou bien le dealer). Lors de chaque tour, le dealer distribue 2 cartes faces ouvertes à chaque joueur et une carte face ouverte à lui-même. Le but pour chaque joueur est de se rapprocher le plus possible de 21 points, sans dépasser cette limite. Chaque carte vaut sa valeur (le 2 vaut 2 points, le 5 vaut 5 points etc...), les têtes (valet, dame et roi) valent 10 points et l'As vaut 1 ou 11 points. Le joueur peut décider parmi plusieurs actions lors de son tour:</p>
<ul>
<li>Tirer une nouvelle carte et l'ajouter à son compte (action de <em>tirer</em>),</li>
<li>Garder son compte actuel et terminer son tour (action de <em>rester</em>),</li>
<li>Si le joueur a deux cartes, il peut <em>doubler</em>: dans ce cas, il double sa mise et pioche une unique carte, puis termine son tour,</li>
<li>Si le joueur a deux cartes de même valeur, il peut les <em>séparer</em>: dans ce cas, il joue avec deux mains, chacune contenant une carte initialement en double. Sa mise initiale est donc misée également sur la deuxième main.</li>
</ul>
<p>Une fois que le joueur a terminé son tour, le dealer joue. Il joue toujours de la même manière: il pioche tant qu'il a un compte inférieur ou égal à 16, puis il reste s'il a un compte supérieur ou égal à 17. Si le joueur a dépassé 21 (on dit qu'il a <em>bust</em>), il perd; même si le dealer bust après lui, et perd sa mise. Si le joueur a un compte supérieur à celui du dealer, ou que le dealer bust sans que le joueur ne bust, alors le joueur gagne et il reçoit deux fois sa mise.</p>
<h2>Prévision du premier sprint</h2>
<p>L'objectif du premier sprint est de finir l'interface graphique du jeu de Blackjack avec Python. L'idéal serait d'avoir un jeu de Blackjack fonctionnel, comprenant les fonctionnalités suivantes:</p>
<ul>
<li>Interface affichant les cartes du dealer et du joueur</li>
<li>Boutons permettant au joueur de tirer, rester, doubler ou séparer</li>
<li>Interface dans le cas du split, avec la séparation des deux mains</li>
<li>Bouton pour recommencer</li>
<li>Interface pour permettre au joueur de miser, compter les mises du joueur.</li>
</ul>
<h2>Implémentation d'un jeu de Blackjack avec Qt sur Python</h2>
<p>La première étape de ce POK est de recréer ce jeu sur Python grâce au module Qt. Toutes les méthodes et classes utilisées dans le code sont expliquées dans mon <a href="../../mon/temps-1.1">MON 1.1</a>.</p>
<p>J'ai utilisé l'outil Qt Designer pour designer l'aspect de l'interface utilisateur. J'ai opté pour un simple fond vert, pour représenter le tapis de jeu, ainsi que 7 images de dos de carte pour le joueur et le dealer. Au-dessus de ces cartes, on voit le compte des points et en-dessous, il y a les boutons correspondant aux actions que le joueur peut effectuer à chaque tour. Il faut bien s'assurer de renommer chaque objet avec un nom logique, pour pouvoir s'y retrouver dans le code. Voici à quoi ressemble la fenêtre sur Qt Designer:</p>
<p><img src="Image1.png" alt="Image main_window"></p>
<p>Cette fenêtre est enregistrée sous le nom de <em>main_window</em>. On crée une autre fenêtre que l'on nomme <em>split_window</em>. En effet, il faut une autre disposition des éléments dans le cas où le joueur décide de séparer ses cartes. Voici à quoi ressemble cette fenêtre sur Qt Designer:</p>
<p><img src="Image2.png" alt="Image split_window"></p>
<p>Maintenant qu'on a les deux fichiers .ui de chaque fenêtre, on commence à implémenter le jeu. Pour organiser correctement le code et le rendre plus lisible, on crée trois fichiers .py:</p>
<ul>
<li>Un fichier <em>blackjack_methods.py</em> qui va contenir la classe <strong>Blackjack_methods</strong> contenant les méthodes relatives à la manipulation du deck de cartes et des mains (création du deck, calcul du compte des mains),</li>
<li>Un fichier <em>UI_blackjack.py</em> qui va contenir la classe <strong>Blackjack</strong> contenant les méthodes relatives à la création de l'interface graphique,</li>
<li>Un fichier <em><a href="http://main.py">main.py</a></em> qui va contenir les instructions pour exécuter le code.</li>
</ul>
<h3>La classe Blackjack_methods</h3>
<p>Comme explicité ci-dessus, cette classe contient les méthodes pour manipuler le deck. La méthode <em>newdeck</em> permet de créer le sabot pour le Blackjack. Ce sabot est composé de 6 jeux de 52 cartes. Ce sabot (dénommé <em>deck</em> dans le code) est une liste d'objet de la classe <strong>Card</strong>. Ces objets ont comme attribut un nom (par exemple 2_of_clubs pour le 2 de trèfle ou 11_of_hearts pour le valet de coeur) et sa valeur (1 pour As, et 10 pour les têtes). Cette classe a également une méthode appelée <em>sum_hand</em>, qui prend en argument une liste et qui renvoie sa somme. Cette méthode prend en compte que l'As (donc la valeur 1) vaut soit 1 soit 11. Ainsi, si la main est <code>[1, 4]</code>, la méthode renvoie 15, mais si la main est <code>[1, 5, 7]</code>, la méthode renvoie 13. Voici l'implémentation de cette classe:</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Cliquer pour voir le code de la classe <strong>Blackjack_methods</strong></p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Blackjack_methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>newdeck<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">newdeck</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        suits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"diamonds"</span><span class="token punctuation">,</span> <span class="token string">"clubs"</span> <span class="token punctuation">,</span><span class="token string">"hearts"</span><span class="token punctuation">,</span> <span class="token string">"spades"</span><span class="token punctuation">]</span>
        values <span class="token operator">=</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span>
        initial_deck <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> suit <span class="token keyword">in</span> suits<span class="token punctuation">:</span>
            <span class="token keyword">for</span> value <span class="token keyword">in</span> values<span class="token punctuation">:</span>
                <span class="token keyword">if</span> value <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">:</span>
                    initial_deck<span class="token punctuation">.</span>append<span class="token punctuation">(</span>Card<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">_of_</span><span class="token interpolation"><span class="token punctuation">{</span>suit<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> value <span class="token operator">>=</span> <span class="token number">10</span><span class="token punctuation">:</span>
                    initial_deck<span class="token punctuation">.</span>append<span class="token punctuation">(</span>Card<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">_of_</span><span class="token interpolation"><span class="token punctuation">{</span>suit<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>deck <span class="token operator">=</span> initial_deck <span class="token operator">*</span> <span class="token number">6</span>
    
    <span class="token keyword">def</span> <span class="token function">sum_hand</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token number">1</span> <span class="token keyword">in</span> <span class="token punctuation">(</span>card<span class="token punctuation">.</span>value <span class="token keyword">for</span> card <span class="token keyword">in</span> hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
            sum1 <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span>card<span class="token punctuation">.</span>value <span class="token keyword">for</span> card <span class="token keyword">in</span> hand<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">10</span>
            <span class="token keyword">if</span> sum1 <span class="token operator">></span> <span class="token number">21</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span>card<span class="token punctuation">.</span>value <span class="token keyword">for</span> card <span class="token keyword">in</span> hand<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span><span class="token punctuation">(</span>sum1<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span>card<span class="token punctuation">.</span>value <span class="token keyword">for</span> card <span class="token keyword">in</span> hand<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Card</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>value <span class="token operator">=</span> value
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name</code></pre>
</div>
</details>     
</div>
<h3>La classe Blackjack</h3>
<h4>L'initialisation</h4>
<p>Cette classe hérite des classes <strong>QMainWindow</strong> et <strong>Blackjack_methods</strong>, dans l'optique de réaliser l'interface graphique du jeu. Dans l'initialisation de cette classe, on retrouve les éléments suivants:</p>
<ul>
<li>La création des fenêtres <em>main_window</em> et <em>split_window</em> avec l'aide des fichiers .ui précédemment créés. On utilise la méthode <em>load</em> de la classe <strong>QUiLoader</strong>.</li>
<li>La création des attributs associés à chaque objet des fichiers .ui (les labels, les boutons etc...). On utilise la méthode <em>findChild</em> de la classe <strong>QWidget</strong></li>
<li>L'association des méthodes correspondantes à chaque bouton de l'interface grâce à la méthode <em>clicked.connect</em> de la classe <strong>QPushButton</strong> (par exemple, la méthode <em>restart</em> pour le bouton <em>restartButton</em>)</li>
</ul>
<p>Voilà l'implémentation de cette initialisation:</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Cliquer pour voir le code de l'initialisation de la classe <strong>Blackjack</strong></p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Blackjack</span><span class="token punctuation">(</span>QMainWindow<span class="token punctuation">,</span> Blackjack_methods<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>

        ui_file_name <span class="token operator">=</span> <span class="token string">"Blackjack_main_window.ui"</span>
        ui_file <span class="token operator">=</span> QFile<span class="token punctuation">(</span>ui_file_name<span class="token punctuation">)</span>
        loader <span class="token operator">=</span> QUiLoader<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_window <span class="token operator">=</span> loader<span class="token punctuation">.</span>load<span class="token punctuation">(</span>ui_file<span class="token punctuation">)</span>
        ui_file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"Blackjack"</span><span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>label_dealercard1 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard1"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_dealercard2 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard2"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_dealercard3 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard3"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_dealercard4 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard4"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_dealercard5 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard5"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_dealercard6 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard6"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_dealercard7 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard7"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_playercard1 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard1"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_playercard2 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard2"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_playercard3 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard3"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_playercard4 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard4"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_playercard5 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard5"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_playercard6 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard6"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_playercard7 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard7"</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>label_dealerheader <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"labelDealerCards"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_playerheader <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"labelPlayerCards"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_dealercount <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"labelDealerCount"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_playercount <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"labelPlayerCount"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>PlayerCount <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCount"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>DealerCount <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCount"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>result <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"label_result"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_cards <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"label_cards"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>cardsLeft <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"cardsLeft"</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>hitButton <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_hit"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>stayButton <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_stay"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>doubleButton <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_double"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>restartButton <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_restart"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>splitButton <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_split"</span><span class="token punctuation">)</span>

        ui_file_name2 <span class="token operator">=</span> <span class="token string">"Blackjack_split_window.ui"</span>
        ui_file2 <span class="token operator">=</span> QFile<span class="token punctuation">(</span>ui_file_name2<span class="token punctuation">)</span>
        loader2 <span class="token operator">=</span> QUiLoader<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>split_window <span class="token operator">=</span> loader2<span class="token punctuation">.</span>load<span class="token punctuation">(</span>ui_file2<span class="token punctuation">)</span>
        ui_file2<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"Blackjack: Split Window"</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>label_split_dealercard1 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard1"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_dealercard2 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard2"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_dealercard3 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard3"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_dealercard4 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard4"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_dealercard5 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard5"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_dealercard6 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard6"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_dealercard7 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard7"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_playercard1_1 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard1_1"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_playercard1_2 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard1_2"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_playercard1_3 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard1_3"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_playercard1_4 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard1_4"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_playercard1_5 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard1_5"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_playercard1_6 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard1_6"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_playercard1_7 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard1_7"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_playercard2_1 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard2_1"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_playercard2_2 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard2_2"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_playercard2_3 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard2_3"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_playercard2_4 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard2_4"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_playercard2_5 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard2_5"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_playercard2_6 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard2_6"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label_split_playercard2_7 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard2_7"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>split_PlayerCount1 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCount1"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>split_PlayerCount2 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCount2"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>split_DealerCount <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCount"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>cardsLeft_split <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"cardsLeft"</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>split_hitButton1 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_hit1"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>split_stayButton1 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_stay1"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>split_doubleButton1 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_double1"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>split_hitButton2 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_hit2"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>split_stayButton2 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_stay2"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>split_doubleButton2 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_double2"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>split_buttonRestart <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_restart"</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>split_hitButton1<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>hit_split<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>split_hitButton2<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>hit_split<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>split_stayButton1<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>stay_split_first<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>split_stayButton2<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>stay_split<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>split_buttonRestart<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>restart_split<span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>restart<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>hitButton<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>hit<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>restartButton<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>restart<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>stayButton<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>stay<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>splitButton<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>split<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
</div>
</details>     
</div>
<p>On peut remarquer qu'il y a beaucoup de lignes de codes, mais que c'est assez répétitif, notamment parce qu'il faut associer chaque objet de l'interface à des attributs de la classe dans le code.</p>
<p>Il faut ensuite créer chaque méthode associée aux boutons.</p>
<h4>La méthode restart</h4>
<p>Cette méthode est appelée dans l'initialisation de la classe. Elle permet de réaliser les actions suivantes:</p>
<ul>
<li>Refaire un nouveau deck lorsque la taille du sabot est inférieure à 52 cartes,</li>
<li>Piocher deux nouvelles cartes pour le joueur et une nouvelle carte pour le dealer, et les afficher à leurs endroits respectifs grâce à la méthode <em>setPixmap</em> de la classe <strong>QPixmap</strong>,</li>
<li>Mettre à jour les comptes du dealer et du joueur grâce à la méthode <em>display_player_count</em>. Cette méthode permet d'afficher le compte du joueur, en faisant attention au cas où un As est dans la main. Par exemple, si la main du joueur est As-4, alors le compte doit afficher 5/15.</li>
<li>Activer ou désactiver le bouton <em>séparer</em> grâce à la méthode <em>setEnabled</em> de la classe <strong>QPushButton</strong>. En effet, ce bouton n'est actif que si le joueur a deux cartes de même valeur,</li>
<li>Réinitialiser les attributs de la classe, que l'on explicitera au fur et à mesure.</li>
</ul>
<p>Cette méthode est appelée lorsque l'utilisateur clique sur le bouton &quot;Recommencer&quot; dans l'interface.</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Cliquer pour voir le code de la méthode <em>restart</em></p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">restart</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>deck<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">52</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>newdeck<span class="token punctuation">(</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>player_bust <span class="token operator">=</span> <span class="token boolean">False</span>
    self<span class="token punctuation">.</span>hitButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>stayButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>doubleButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>result<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>DealerCount<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"color : white"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>PlayerCount<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"color : white"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>restartButton<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background-color: white"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_buttonRestart<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background-color: white"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>dealer_spot <span class="token operator">=</span> <span class="token number">1</span>
    self<span class="token punctuation">.</span>dealer_spot_split <span class="token operator">=</span> <span class="token number">1</span>
    card <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>dealer_hand <span class="token operator">=</span> <span class="token punctuation">[</span>card<span class="token punctuation">]</span>
    <span class="token keyword">if</span> card<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>DealerCount<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"1/11"</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>DealerCount<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>dealer_hand<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    pixmap <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'PNG-cards/</span><span class="token interpolation"><span class="token punctuation">{</span>card<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">.png'</span></span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_dealercard1<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>player_spot <span class="token operator">=</span> <span class="token number">2</span>
    self<span class="token punctuation">.</span>player_spot_split_1 <span class="token operator">=</span> <span class="token number">1</span>
    self<span class="token punctuation">.</span>player_spot_split_2 <span class="token operator">=</span> <span class="token number">1</span>
    card1 <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
    card2 <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pixmap1 <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'PNG-cards/</span><span class="token interpolation"><span class="token punctuation">{</span>card1<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">.png'</span></span><span class="token punctuation">)</span>
    pixmap2 <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'PNG-cards/</span><span class="token interpolation"><span class="token punctuation">{</span>card2<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">.png'</span></span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>player_hand <span class="token operator">=</span> <span class="token punctuation">[</span>card1<span class="token punctuation">,</span> card2<span class="token punctuation">]</span>
    self<span class="token punctuation">.</span>label_playercard1<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap1<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_playercard2<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap2<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>display_player_count<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pixmap <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'PNG-cards/dos.png'</span></span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_playercard3<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_playercard4<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_playercard5<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_playercard6<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_playercard7<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_dealercard2<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_dealercard3<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_dealercard4<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_dealercard5<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_dealercard6<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_dealercard7<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
    <span class="token keyword">if</span> card1<span class="token punctuation">.</span>value <span class="token operator">==</span> card2<span class="token punctuation">.</span>value<span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>splitButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>splitButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span></code></pre>
</div>
</details>     
</div>
<h4>La méthode draw</h4>
<p>Cette méthode permet de piocher une carte dans le deck. Pour cela, on utilise la fonction <em>choice</em> de la bibliothèque <em>random</em> pour choisir une carte aléatoire dans le deck. Ensuite, on la retire du deck et on la renvoie. A chaque fois que le joueur pioche une carte, il faut mettre à jour le nombre de cartes restantes.</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Cliquer pour voir le code de la méthode <em>draw</em></p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">draw</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        card <span class="token operator">=</span> random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>self<span class="token punctuation">.</span>deck<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>deck<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>cardsLeft<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>deck<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>cardsLeft_split<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>deck<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">(</span>card<span class="token punctuation">)</span></code></pre>
</div>
</details>     
</div>
<h4>La méthode hit</h4>
<p>Cette méthode est appelée lorsque l'utilisateur clique sur le bouton &quot;Tirer&quot; de l'interface. Cette méthode permet de réaliser les actions suivantes:</p>
<ul>
<li>Désactiver le bouton &quot;Séparer&quot;. En effet, lorsque le joueur a pioché une carte, il ne peut plus séparer ses cartes,</li>
<li>Piocher une carte grâce à la méthode <em>draw</em> et la placer à l'endroit adéquat. Pour déterminer cet endroit adéquat, on doit créer un attribut <em>player_spot</em> qu'on incrémente au fur et à mesure que l'on avance dans la pioche. A noter que l'attribut &quot;name&quot; de chaque objet de la classe <strong>Card</strong> correspond exactement au nom qui est donné dans le fichier qui contient toutes les cartes en png, afin que la méthode <em>setPixmap</em> puisse retrouver l'image.</li>
<li>Mettre à jour le compte du joueur.</li>
</ul>
<p>Si le compte du joueur dépasse 21, on appelle la méthode <em>stay</em>.</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Cliquer pour voir le code de la méthode <em>hit</em></p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">hit</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    self<span class="token punctuation">.</span>splitButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    card <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>player_hand<span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
    pixmap <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'PNG-cards/</span><span class="token interpolation"><span class="token punctuation">{</span>card<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">.png'</span></span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> self<span class="token punctuation">.</span>player_spot <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>label_playercard1<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>player_spot <span class="token operator">+=</span> <span class="token number">1</span>

    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>label_playercard2<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>player_spot <span class="token operator">+=</span> <span class="token number">1</span>
    
    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>label_playercard3<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>player_spot <span class="token operator">+=</span> <span class="token number">1</span>
    
    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>label_playercard4<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>player_spot <span class="token operator">+=</span> <span class="token number">1</span>
    
    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>label_playercard5<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>player_spot <span class="token operator">+=</span> <span class="token number">1</span>
    
    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>label_playercard6<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>player_spot <span class="token operator">+=</span> <span class="token number">1</span>
    
    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>label_playercard7<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>player_spot <span class="token operator">+=</span> <span class="token number">1</span>
    
    self<span class="token punctuation">.</span>display_player_count<span class="token punctuation">(</span><span class="token punctuation">)</span>
    count <span class="token operator">=</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_hand<span class="token punctuation">)</span>
    <span class="token keyword">if</span> count <span class="token operator">></span> <span class="token number">21</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>player_bust <span class="token operator">=</span> <span class="token boolean">True</span>
        self<span class="token punctuation">.</span>result<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"Le joueur a bust"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>PlayerCount<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"color : red"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>stay<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
</div>
</details>     
</div>
<h4>La méthode stay</h4>
<p>Cette méthode est associée au bouton &quot;Rester&quot; de l'interface, et permet de finir le tour du joueur. Elle permet de réaliser les actions suivantes:</p>
<ul>
<li>Piocher des cartes jusqu'à ce que le dealer dépasse 16, et afficher les cartes au fur et à mesure de la même manière qu'avec la méthode <em>hit</em>.</li>
<li>Déterminer si le joueur a gagné ou si le dealer a gagné, et l'afficher sur l'interface,</li>
<li>Désactiver tout les boutons sauf le bouton &quot;recommencer&quot;, que l'on mettra en rouge.</li>
</ul>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Cliquer pour voir le code de la méthode stay</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">stay</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token number">1</span> <span class="token keyword">in</span> <span class="token punctuation">(</span>card<span class="token punctuation">.</span>value <span class="token keyword">for</span> card <span class="token keyword">in</span> self<span class="token punctuation">.</span>player_hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>PlayerCount<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_hand<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">while</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>dealer_hand<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">17</span><span class="token punctuation">:</span>
        card <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>dealer_hand<span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
        pixmap <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'PNG-cards/</span><span class="token interpolation"><span class="token punctuation">{</span>card<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">.png'</span></span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>dealer_spot <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>label_dealercard1<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>dealer_spot <span class="token operator">+=</span> <span class="token number">1</span>

        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>dealer_spot <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>label_dealercard2<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>dealer_spot <span class="token operator">+=</span> <span class="token number">1</span>
        
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>dealer_spot <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>label_dealercard3<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>dealer_spot <span class="token operator">+=</span> <span class="token number">1</span>
        
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>dealer_spot <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>label_dealercard4<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>dealer_spot <span class="token operator">+=</span> <span class="token number">1</span>
        
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>dealer_spot <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>label_dealercard5<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>dealer_spot <span class="token operator">+=</span> <span class="token number">1</span>
        
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>dealer_spot <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>label_dealercard6<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>dealer_spot <span class="token operator">+=</span> <span class="token number">1</span>
        
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>dealer_spot <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>label_dealercard7<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>dealer_spot <span class="token operator">+=</span> <span class="token number">1</span>
        count <span class="token operator">=</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>dealer_hand<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>DealerCount<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>count<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        <span class="token comment">#time.sleep(1)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>player_bust <span class="token keyword">and</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>dealer_hand<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">21</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>result<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"Le dealer a bust"</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>player_bust <span class="token keyword">and</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>dealer_hand<span class="token punctuation">)</span> <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_hand<span class="token punctuation">)</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>dealer_hand<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>result<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"Le joueur a gagné"</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>player_bust <span class="token keyword">and</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>dealer_hand<span class="token punctuation">)</span> <span class="token operator">></span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_hand<span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>dealer_hand<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>result<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"Le dealer a gagné"</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>player_bust <span class="token keyword">and</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>dealer_hand<span class="token punctuation">)</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>result<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"Egalité!"</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> count <span class="token operator">></span> <span class="token number">21</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>DealerCount<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"color : red"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>restartButton<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background-color: red"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>hitButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>stayButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>doubleButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>splitButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</code></pre>
</div>
</details>     
</div>
<h4>Les méthodes dans le cas du split</h4>
<p>Toutes ces méthodes ont leur équivalent si jamais le joueur décide de séparer ses cartes. En effet, comme la fenêtre <em>split_window</em> est différente de la fenêtre <em>main_window</em>, on a par conséquent d'autres boutons, et donc d'autres méthodes à créer. Cependant, ces méthodes sont sensiblement les mêmes que celles explicitées précédemment, il est inutile de les expliciter ici. On peut mentionner tout de même que ces méthodes doivent gérer l'activation ou la désactivation des différents boutons, puisque le joueur ne peut pas jouer ses mains en même temps.</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Cliquer pour voir le code des méthodes dans le cas du split</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">display_player_count_split</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> self<span class="token punctuation">.</span>IsFirst<span class="token punctuation">:</span>
      count <span class="token operator">=</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_hand_split_1<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token number">1</span> <span class="token keyword">in</span> <span class="token punctuation">(</span>card<span class="token punctuation">.</span>value <span class="token keyword">for</span> card <span class="token keyword">in</span> self<span class="token punctuation">.</span>player_hand_split_1<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span>card<span class="token punctuation">.</span>value <span class="token keyword">for</span> card <span class="token keyword">in</span> self<span class="token punctuation">.</span>player_hand_split_1<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">21</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>split_PlayerCount1<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span>card<span class="token punctuation">.</span>value <span class="token keyword">for</span> card <span class="token keyword">in</span> self<span class="token punctuation">.</span>player_hand_split_1<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span> <span class="token operator">+</span> <span class="token string">"/"</span> <span class="token operator">+</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>count<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
      <span class="token keyword">else</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>split_PlayerCount1<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>count<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
  <span class="token keyword">else</span><span class="token punctuation">:</span>
      count <span class="token operator">=</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_hand_split_2<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token number">1</span> <span class="token keyword">in</span> <span class="token punctuation">(</span>card<span class="token punctuation">.</span>value <span class="token keyword">for</span> card <span class="token keyword">in</span> self<span class="token punctuation">.</span>player_hand_split_2<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span>card<span class="token punctuation">.</span>value <span class="token keyword">for</span> card <span class="token keyword">in</span> self<span class="token punctuation">.</span>player_hand_split_2<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">21</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>split_PlayerCount2<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span>card<span class="token punctuation">.</span>value <span class="token keyword">for</span> card <span class="token keyword">in</span> self<span class="token punctuation">.</span>player_hand_split_2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span> <span class="token operator">+</span> <span class="token string">"/"</span> <span class="token operator">+</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>count<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
      <span class="token keyword">else</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>split_PlayerCount2<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>count<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">hit_split</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> self<span class="token punctuation">.</span>IsFirst<span class="token punctuation">:</span>
      card <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
      self<span class="token punctuation">.</span>player_hand_split_1<span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
      pixmap <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'PNG-cards/</span><span class="token interpolation"><span class="token punctuation">{</span>card<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">.png'</span></span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> self<span class="token punctuation">.</span>player_spot_split_1 <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_playercard1_1<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>player_spot_split_1 <span class="token operator">+=</span> <span class="token number">1</span>

      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot_split_1 <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_playercard1_2<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>player_spot_split_1 <span class="token operator">+=</span> <span class="token number">1</span>
      
      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot_split_1 <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_playercard1_3<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>player_spot_split_1 <span class="token operator">+=</span> <span class="token number">1</span>
      
      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot_split_1 <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_playercard1_4<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>player_spot_split_1 <span class="token operator">+=</span> <span class="token number">1</span>
      
      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot_split_1 <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_playercard1_5<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>player_spot_split_1 <span class="token operator">+=</span> <span class="token number">1</span>
      
      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot_split_1 <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_playercard1_6<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>player_spot_split_1 <span class="token operator">+=</span> <span class="token number">1</span>
      
      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot_split_1 <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_playercard1_7<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>player_spot_split_1 <span class="token operator">+=</span> <span class="token number">1</span>
      
      self<span class="token punctuation">.</span>display_player_count_split<span class="token punctuation">(</span><span class="token punctuation">)</span>
      count <span class="token operator">=</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_hand_split_1<span class="token punctuation">)</span>
      <span class="token keyword">if</span> count <span class="token operator">></span> <span class="token number">21</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>split_PlayerCount1<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"color : red"</span><span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>split_hitButton2<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>split_stayButton2<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>split_doubleButton2<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>split_hitButton1<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>split_stayButton1<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>split_doubleButton1<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>IsFirst <span class="token operator">=</span> <span class="token boolean">False</span>
  
  <span class="token keyword">else</span><span class="token punctuation">:</span>
      card <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
      self<span class="token punctuation">.</span>player_hand_split_2<span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
      pixmap <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'PNG-cards/</span><span class="token interpolation"><span class="token punctuation">{</span>card<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">.png'</span></span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> self<span class="token punctuation">.</span>player_spot_split_2 <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_playercard2_1<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>player_spot_split_2 <span class="token operator">+=</span> <span class="token number">1</span>

      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot_split_2 <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_playercard2_2<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>player_spot_split_2 <span class="token operator">+=</span> <span class="token number">1</span>
      
      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot_split_2 <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_playercard2_3<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>player_spot_split_2 <span class="token operator">+=</span> <span class="token number">1</span>
      
      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot_split_2 <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_playercard2_4<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>player_spot_split_2 <span class="token operator">+=</span> <span class="token number">1</span>
      
      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot_split_2 <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_playercard2_5<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>player_spot_split_2 <span class="token operator">+=</span> <span class="token number">1</span>
      
      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot_split_2 <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_playercard2_6<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>player_spot_split_2 <span class="token operator">+=</span> <span class="token number">1</span>
      
      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>player_spot_split_2 <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_playercard2_7<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>player_spot_split_2 <span class="token operator">+=</span> <span class="token number">1</span>

      self<span class="token punctuation">.</span>display_player_count_split<span class="token punctuation">(</span><span class="token punctuation">)</span>
      count <span class="token operator">=</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_hand_split_2<span class="token punctuation">)</span>
      <span class="token keyword">if</span> count <span class="token operator">></span> <span class="token number">21</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>split_PlayerCount2<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"color : red"</span><span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>stay_split<span class="token punctuation">(</span><span class="token punctuation">)</span>            


<span class="token keyword">def</span> <span class="token function">stay_split_first</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    self<span class="token punctuation">.</span>IsFirst <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token keyword">if</span> <span class="token number">1</span> <span class="token keyword">in</span> <span class="token punctuation">(</span>card<span class="token punctuation">.</span>value <span class="token keyword">for</span> card <span class="token keyword">in</span> self<span class="token punctuation">.</span>player_hand_split_1<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>split_PlayerCount1<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_hand_split_1<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_hitButton2<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_stayButton2<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_doubleButton2<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_hitButton1<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_stayButton1<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_doubleButton1<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">stay_split</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  self<span class="token punctuation">.</span>split_hitButton2<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>split_stayButton2<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>split_doubleButton2<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
  <span class="token keyword">while</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>dealer_hand<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">17</span><span class="token punctuation">:</span>
      card <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
      self<span class="token punctuation">.</span>dealer_hand<span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
      pixmap <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'PNG-cards/</span><span class="token interpolation"><span class="token punctuation">{</span>card<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">.png'</span></span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> self<span class="token punctuation">.</span>dealer_spot_split <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_dealercard1<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>dealer_spot_split <span class="token operator">+=</span> <span class="token number">1</span>

      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>dealer_spot_split <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_dealercard2<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>dealer_spot_split <span class="token operator">+=</span> <span class="token number">1</span>
      
      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>dealer_spot_split <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_dealercard3<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>dealer_spot_split <span class="token operator">+=</span> <span class="token number">1</span>
      
      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>dealer_spot_split <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_dealercard4<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>dealer_spot_split <span class="token operator">+=</span> <span class="token number">1</span>
      
      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>dealer_spot_split <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_dealercard5<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>dealer_spot_split <span class="token operator">+=</span> <span class="token number">1</span>
      
      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>dealer_spot_split <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_dealercard6<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>dealer_spot_split <span class="token operator">+=</span> <span class="token number">1</span>
      
      <span class="token keyword">elif</span> self<span class="token punctuation">.</span>dealer_spot_split <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">:</span>
          self<span class="token punctuation">.</span>label_split_dealercard7<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
          self<span class="token punctuation">.</span>dealer_spot_split <span class="token operator">+=</span> <span class="token number">1</span>
      
      count <span class="token operator">=</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>self<span class="token punctuation">.</span>dealer_hand<span class="token punctuation">)</span>
      self<span class="token punctuation">.</span>split_DealerCount<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>count<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>split_buttonRestart<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background-color: red"</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> count <span class="token operator">></span> <span class="token number">21</span><span class="token punctuation">:</span>
      self<span class="token punctuation">.</span>split_DealerCount<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"color : red"</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">restart_split</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
  self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
  pixmap <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'PNG-cards/dos.png'</span></span><span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_playercard1_2<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_playercard1_3<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_playercard1_4<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_playercard1_5<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_playercard1_6<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_playercard1_7<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_playercard2_2<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_playercard2_3<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_playercard2_4<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_playercard2_5<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_playercard2_6<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_playercard2_7<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_dealercard2<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_dealercard3<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_dealercard4<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_dealercard5<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_dealercard6<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>label_split_dealercard7<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>split_PlayerCount1<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"color : white"</span><span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>split_PlayerCount2<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"color : white"</span><span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>split_DealerCount<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"color : white"</span><span class="token punctuation">)</span>
  self<span class="token punctuation">.</span>restart<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
</div>
</details>     
</div>
<h2>Démonstration du code</h2>
<p>Pour exécuter ce code, on exécute ces quelques lignes dans un fichier <a href="http://main.py">main.py</a>:</p>
<pre class="language-python"><code class="language-python">app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
window <span class="token operator">=</span> Blackjack<span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p><img src="Image3.png" alt="Image démo1"></p>
<p>On voit bien l'interface que l'on a créé plus tôt sur Qt Designer. Voici ce à quoi ressemble la fenêtre à la fin d'un tour:</p>
<p><img src="Image4.png" alt="Image demo2"></p>
<p>De plus, voici à quoi ressemble l'interface après la fin d'un tour où le joueur a split:</p>
<p><img src="Image5.png" alt="Image demo3"></p>
<h2>Bilan du premier sprint et prévision du deuxième sprint</h2>
<p>Tout les objectifs du premier sprint ont été réalisés, sauf la réalisation de l'interface de mise. En effet, l'implémentation des autres fonctionnalités m'ont pris plus de temps que prévu, de nombreux problèmes de programmation et de débogage ont été très chronophage. Cependant, l'interface de mise devrait être plus rapide à coder.</p>
<p>Ainsi, l'objectif pour le deuxième sprint est de coder les simulations pour obtenir des statistiques autour du jeu de Blackjack (et de finir l'interface de mise). Voici les différents objectifs du deuxième sprint:</p>
<ul>
<li>Implémenter des simulations pour calculer l'espérance de gain d'un joueur qui suit une stratégie optimale</li>
<li>Implémenter des simulations pour calculer les taux de réussite d'un joueur face à chaque première cartes du dealer possibles</li>
<li>Implémenter des simulations pour calculer les taux de réussites de chaque mains possibles d'un joueur</li>
</ul>
<h2>Implémentation de l'interface de mise</h2>
<p>Pour finaliser l'implémentation du jeu sur Python, il ne manque plus qu'à réaliser l'interface de mise, où le joueur pourra saisir sa mise. On utilise encore une fois l'outil Qt Designer pour faire l'aspect de l'interface:</p>
<p><img src="Image6.png" alt="Qt Designer bet_window"></p>
<p>Il faut ensuite assigner chaque objet ainsi créé à des attributs de la classe <strong>Blackjack</strong> dans l'initialisation, et assigner les méthodes correspondantes à chaque bouton.</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Cliquer pour voir le nouveau code de l'initialisation de la classe <strong>Blackjack_methods</strong></p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>player_stack <span class="token operator">=</span> <span class="token number">200</span>

    ui_file_name <span class="token operator">=</span> <span class="token string">"Blackjack_main_window.ui"</span>
    ui_file <span class="token operator">=</span> QFile<span class="token punctuation">(</span>ui_file_name<span class="token punctuation">)</span>
    loader <span class="token operator">=</span> QUiLoader<span class="token punctuation">(</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>main_window <span class="token operator">=</span> loader<span class="token punctuation">.</span>load<span class="token punctuation">(</span>ui_file<span class="token punctuation">)</span>
    ui_file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"Blackjack"</span><span class="token punctuation">)</span>
    
    self<span class="token punctuation">.</span>label_dealercard1 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard1"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_dealercard2 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard2"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_dealercard3 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard3"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_dealercard4 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard4"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_dealercard5 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard5"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_dealercard6 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard6"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_dealercard7 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard7"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_playercard1 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard1"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_playercard2 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard2"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_playercard3 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard3"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_playercard4 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard4"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_playercard5 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard5"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_playercard6 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard6"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_playercard7 <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard7"</span><span class="token punctuation">)</span>

    self<span class="token punctuation">.</span>label_dealerheader <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"labelDealerCards"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_playerheader <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"labelPlayerCards"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_dealercount <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"labelDealerCount"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_playercount <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"labelPlayerCount"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>PlayerCount <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCount"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>DealerCount <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCount"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>result <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"label_result"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_cards <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"label_cards"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>cardsLeft <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"cardsLeft"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>player_stack_main <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"player_stack"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>player_bet_main <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"player_bet"</span><span class="token punctuation">)</span>

    self<span class="token punctuation">.</span>hitButton <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_hit"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>stayButton <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_stay"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>doubleButton <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_double"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>restartButton <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_restart"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>splitButton <span class="token operator">=</span> self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_split"</span><span class="token punctuation">)</span>

    ui_file_name2 <span class="token operator">=</span> <span class="token string">"Blackjack_split_window.ui"</span>
    ui_file2 <span class="token operator">=</span> QFile<span class="token punctuation">(</span>ui_file_name2<span class="token punctuation">)</span>
    loader2 <span class="token operator">=</span> QUiLoader<span class="token punctuation">(</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_window <span class="token operator">=</span> loader2<span class="token punctuation">.</span>load<span class="token punctuation">(</span>ui_file2<span class="token punctuation">)</span>
    ui_file2<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"Blackjack: Split Window"</span><span class="token punctuation">)</span>

    self<span class="token punctuation">.</span>label_split_dealercard1 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard1"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_dealercard2 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard2"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_dealercard3 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard3"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_dealercard4 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard4"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_dealercard5 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard5"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_dealercard6 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard6"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_dealercard7 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCard7"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_playercard1_1 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard1_1"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_playercard1_2 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard1_2"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_playercard1_3 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard1_3"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_playercard1_4 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard1_4"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_playercard1_5 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard1_5"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_playercard1_6 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard1_6"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_playercard1_7 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard1_7"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_playercard2_1 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard2_1"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_playercard2_2 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard2_2"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_playercard2_3 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard2_3"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_playercard2_4 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard2_4"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_playercard2_5 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard2_5"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_playercard2_6 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard2_6"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>label_split_playercard2_7 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCard2_7"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_PlayerCount1 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCount1"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_PlayerCount2 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"PlayerCount2"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_DealerCount <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"DealerCount"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>cardsLeft_split <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"cardsLeft"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_player_bet1 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"player_bet1"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_player_bet2 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"player_bet2"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_player_stack <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"player_stack"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_player_bet_total <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"player_bet_total"</span><span class="token punctuation">)</span>

    self<span class="token punctuation">.</span>split_hitButton1 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_hit1"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_stayButton1 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_stay1"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_doubleButton1 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_double1"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_hitButton2 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_hit2"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_stayButton2 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_stay2"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_doubleButton2 <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_double2"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_buttonRestart <span class="token operator">=</span> self<span class="token punctuation">.</span>split_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_restart"</span><span class="token punctuation">)</span>

    self<span class="token punctuation">.</span>split_hitButton1<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>hit_split<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_hitButton2<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>hit_split<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_stayButton1<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>stay_split_first<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_stayButton2<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>stay_split<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_buttonRestart<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>restart_split<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_doubleButton1<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>double_split<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>split_doubleButton2<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>double_split<span class="token punctuation">)</span>

    ui_file_name3 <span class="token operator">=</span> <span class="token string">"Blackjack_bet_window.ui"</span>
    ui_file3 <span class="token operator">=</span> QFile<span class="token punctuation">(</span>ui_file_name3<span class="token punctuation">)</span>
    loader3 <span class="token operator">=</span> QUiLoader<span class="token punctuation">(</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>bet_window <span class="token operator">=</span> loader2<span class="token punctuation">.</span>load<span class="token punctuation">(</span>ui_file3<span class="token punctuation">)</span>
    ui_file3<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>bet_window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"Blackjack: Fenêtre de mise"</span><span class="token punctuation">)</span>

    self<span class="token punctuation">.</span>playerBet <span class="token operator">=</span> self<span class="token punctuation">.</span>bet_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"player_bet"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>playerStack <span class="token operator">=</span> self<span class="token punctuation">.</span>bet_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLabel<span class="token punctuation">,</span> <span class="token string">"player_stack"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>line_edit_bet <span class="token operator">=</span> self<span class="token punctuation">.</span>bet_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QLineEdit<span class="token punctuation">,</span> <span class="token string">"line_edit_bet"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>slideBet <span class="token operator">=</span> self<span class="token punctuation">.</span>bet_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QSlider<span class="token punctuation">,</span> <span class="token string">"slide_bet"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>validerButton <span class="token operator">=</span> self<span class="token punctuation">.</span>bet_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"button_valider"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>validerButton<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>valider_bet<span class="token punctuation">)</span>

    self<span class="token punctuation">.</span>add10 <span class="token operator">=</span> self<span class="token punctuation">.</span>bet_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"add_10"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>add20 <span class="token operator">=</span> self<span class="token punctuation">.</span>bet_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"add_20"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>add50 <span class="token operator">=</span> self<span class="token punctuation">.</span>bet_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"add_50"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>add10<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>add_10<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>add20<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>add_20<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>add50<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>add_50<span class="token punctuation">)</span>

    self<span class="token punctuation">.</span>remove10 <span class="token operator">=</span> self<span class="token punctuation">.</span>bet_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"remove_10"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>remove20 <span class="token operator">=</span> self<span class="token punctuation">.</span>bet_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"remove_20"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>remove50 <span class="token operator">=</span> self<span class="token punctuation">.</span>bet_window<span class="token punctuation">.</span>findChild<span class="token punctuation">(</span>QPushButton<span class="token punctuation">,</span> <span class="token string">"remove_50"</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>remove10<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>remove_10<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>remove20<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>remove_20<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>remove50<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>remove_50<span class="token punctuation">)</span>

    onlyInt <span class="token operator">=</span> QIntValidator<span class="token punctuation">(</span><span class="token punctuation">)</span>
    onlyInt<span class="token punctuation">.</span>setRange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>player_stack<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>line_edit_bet<span class="token punctuation">.</span>setValidator<span class="token punctuation">(</span>onlyInt<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>line_edit_bet<span class="token punctuation">.</span>textChanged<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>line_edit_changed<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>line_edit_bet<span class="token punctuation">.</span>returnPressed<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>valider_bet<span class="token punctuation">)</span>

    self<span class="token punctuation">.</span>slideBet<span class="token punctuation">.</span>setSingleStep<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>slideBet<span class="token punctuation">.</span>setTickPosition<span class="token punctuation">(</span>QSlider<span class="token punctuation">.</span>TicksBelow<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>slideBet<span class="token punctuation">.</span>valueChanged<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>slide_changed<span class="token punctuation">)</span>

    self<span class="token punctuation">.</span>restart<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    self<span class="token punctuation">.</span>hitButton<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>hit<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>restartButton<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>restart<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>stayButton<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>stay<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>splitButton<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>split<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>doubleButton<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>double<span class="token punctuation">)</span></code></pre>
</div>
</details>     
</div>
<p>Pour rentrer sa mise, le joueur aura plusieurs possibilités:</p>
<ul>
<li>Entrer sa mise avec son clavier dans un champ textuel,</li>
<li>Ajuster sa mise avec un curseur,</li>
<li>Ajuster sa mise avec des boutons.</li>
</ul>
<h3>Implémentation du champ textuel</h3>
<p>Pour implémenter un champ dans lequel le joueur pourra rentrer sa mise, on va utiliser la classe <strong>QLineEdit</strong>. L'objet <em>line_edit_bet</em> de cette classe est défini dans l'initialisation. On utilise la classe <strong>QIntValidator</strong> pour n'autoriser que les entiers dans le champ. Ensuite, on utilise la méthode <em>textChanged.connect</em> pour détecter quand l'utilisateur rentre du texte dans le champ. Quand c'est le cas, la méthode <em>line_edit_changed</em> est appelée: cette méthode va récupérer la mise du joueur en arrondissant à la dizaine supérieure la valeur rentrée par le joueur. Cette mise va être affichée sur le curseur et le texte indiquant la mise du joueur.</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Cliquer pour voir le code de la méthode <em>line_edit_changed</em></p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">line_edit_changed</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> value <span class="token operator">!=</span> <span class="token string">''</span><span class="token punctuation">:</span>
        value <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
        <span class="token keyword">if</span> value <span class="token operator">></span> self<span class="token punctuation">.</span>player_stack<span class="token punctuation">:</span>
            value <span class="token operator">=</span> self<span class="token punctuation">.</span>player_stack
            self<span class="token punctuation">.</span>slideBet<span class="token punctuation">.</span>setValue<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>playerBet<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Mise du joueur: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>player_bet <span class="token operator">=</span> value
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            value <span class="token operator">=</span> value <span class="token operator">/</span> <span class="token number">10</span>
            value <span class="token operator">=</span> <span class="token builtin">round</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
            value <span class="token operator">=</span> value <span class="token operator">*</span> <span class="token number">10</span>
            <span class="token keyword">if</span> value <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>validerButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>validerButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>slideBet<span class="token punctuation">.</span>setValue<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>playerBet<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Mise du joueur: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>player_bet <span class="token operator">=</span> value</code></pre>
</div>
</details>     
</div>
<h3>Implémentation du curseur</h3>
<p>L'implémentation du curseur se fait via la classe <strong>QSlider</strong>. L'objet <em>slideBet</em> de cette classe est défini dans l'initialisation. Lorsque que le joueur change la valeur du curseur, on récupère cette valeur et on exécute la méthode <em>slide_changed</em>. Cette méthode récupère la mise indiquée par le curseur (arrondie à la dizaine supérieure) et l'affiche dans le champ textuel.</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Cliquer pour voir le code de la méthode <em>slide_changed</em></p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">slide_changed</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
    value <span class="token operator">=</span> value <span class="token operator">/</span> <span class="token number">10</span>
    value <span class="token operator">=</span> <span class="token builtin">round</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    value <span class="token operator">=</span> value <span class="token operator">*</span> <span class="token number">10</span>
    <span class="token keyword">if</span> value <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>validerButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>validerButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>slideBet<span class="token punctuation">.</span>setValue<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>playerBet<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Mise du joueur: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>player_bet <span class="token operator">=</span> value
    self<span class="token punctuation">.</span>line_edit_bet<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
</div>
</details>     
</div>
<p>Le joueur peut valider sa mise grâce au bouton &quot;valider&quot;. Ce bouton ferme la fenêtre de mise et ouvre la fenêtre de jeu principale. De plus, ce bouton actualise le &quot;stack&quot; du joueur (c'est-à-dire le nombre jetons restants) et affiche la mise dans l'espace dédié. Enfin, il active ou désactive les boutons &quot;Doubler&quot; et &quot;Séparer&quot;, suivant le stack restant du joueur et de sa mise actuelle.
Notons que ce bouton est désactivé lorsque la mise est égale à 0.</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Cliquer pour voir le code de la méthode <em>valider_bet</em></p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">valider_bet</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> self<span class="token punctuation">.</span>player_bet <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>player_stack <span class="token operator">-=</span> self<span class="token punctuation">.</span>player_bet
        self<span class="token punctuation">.</span>player_stack_main<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Stack du joueur: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>player_stack<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>player_bet_main<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Mise du joueur: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>player_bet <span class="token operator">></span> self<span class="token punctuation">.</span>player_stack<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>doubleButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>splitButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>doubleButton<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>bet_window<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
</div>
</details>     
</div>
<h3>Implémentation des boutons de mise</h3>
<p>Dans l'interface de mise, il est également possible d'ajuster sa mise grâce à 6 boutons: 3 boutons pour enlever 10, 20 ou 50 à la mise et 3 boutons pour ajouter 10, 20 ou 50 à la mise. Chacun de ces boutons est relié aux méthodes correspondantes (<em>add_10</em>, <em>add_20</em>, <em>add_50</em>, <em>remove_10</em>, <em>remove_20</em> et <em>remove_50</em>). Ces méthodes ajoutent ou retirent la quantité voulue de la mise du joueur, en vérifiant bien s'il est possible d'effectuer la modification (la mise ne peut pas être négative ou bien excéder le stack du joueur).</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Cliquer pour voir les méthodes pour ajuster les mises grâce aux boutons</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">add_10</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> self<span class="token punctuation">.</span>player_bet <span class="token operator">+</span> <span class="token number">10</span> <span class="token operator">></span> self<span class="token punctuation">.</span>player_stack<span class="token punctuation">:</span>
        <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>player_bet <span class="token operator">+=</span> <span class="token number">10</span>
        self<span class="token punctuation">.</span>slideBet<span class="token punctuation">.</span>setValue<span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>playerBet<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Mise du joueur: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>line_edit_bet<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">remove_10</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> self<span class="token punctuation">.</span>player_bet <span class="token operator">-</span> <span class="token number">10</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>player_bet <span class="token operator">-=</span> <span class="token number">10</span>
        self<span class="token punctuation">.</span>slideBet<span class="token punctuation">.</span>setValue<span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>playerBet<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Mise du joueur: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>line_edit_bet<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">add_20</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> self<span class="token punctuation">.</span>player_bet <span class="token operator">+</span> <span class="token number">20</span> <span class="token operator">></span> self<span class="token punctuation">.</span>player_stack<span class="token punctuation">:</span>
        <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>player_bet <span class="token operator">+=</span> <span class="token number">20</span>
        self<span class="token punctuation">.</span>slideBet<span class="token punctuation">.</span>setValue<span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>playerBet<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Mise du joueur: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>line_edit_bet<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">remove_20</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> self<span class="token punctuation">.</span>player_bet <span class="token operator">-</span> <span class="token number">20</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>player_bet <span class="token operator">-=</span> <span class="token number">20</span>
        self<span class="token punctuation">.</span>slideBet<span class="token punctuation">.</span>setValue<span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>playerBet<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Mise du joueur: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>line_edit_bet<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">add_50</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> self<span class="token punctuation">.</span>player_bet <span class="token operator">+</span> <span class="token number">50</span> <span class="token operator">></span> self<span class="token punctuation">.</span>player_stack<span class="token punctuation">:</span>
        <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>player_bet <span class="token operator">+=</span> <span class="token number">50</span>
        self<span class="token punctuation">.</span>slideBet<span class="token punctuation">.</span>setValue<span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>playerBet<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Mise du joueur: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>line_edit_bet<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">remove_50</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> self<span class="token punctuation">.</span>player_bet <span class="token operator">-</span> <span class="token number">50</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>player_bet <span class="token operator">-=</span> <span class="token number">50</span>
        self<span class="token punctuation">.</span>slideBet<span class="token punctuation">.</span>setValue<span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>playerBet<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Mise du joueur: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>line_edit_bet<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>player_bet<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
</div>
</details>     
</div>
<h3>Démonstration de l'interface de mise</h3>
<p>Lorsque l'on exécute le code avec ces nouvelles lignes de code, on obtient bien l'interface voulue. On peut bouger le curseur à notre guise, et on peut également rentrer la mise dans le champ. Dans les deux cas, la valeur change dans le champ ou le curseur bouge en adéquation avec l&quot;action réalisée.</p>
<p><img src="Image7.png" alt="Image Démo bet_window"></p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Pour compléter le système de mise, il faut également compléter le code présenté lors du premier sprint pour actualiser le stack du joueur en fonction de sa mise, s'il a gagné ou pas, s'il a doublé ou pas etc... Cette partie n'est pas expliquée ici, mais elle est bien implémentée dans le code Python présent dans mon <a href="https://github.com/FrancoisBrucker/do-it/tree/main/src/promos/2023-2024/Dang-Vu-Duc/pok/temps-1">dossier GitHub</a> de Do-It</p>
</div></div>
<h2>Implémentation des simulations autour du jeu de Blackjack</h2>
<p>Maintenant que l'implémentation de l'interface graphique du jeu de Blackjack est fonctionnelle, il faut implémenter le code nécessaire aux simulations pour obtenir des statistiques autour du jeu de Blackjack.
Pour rappel, d'après les règles du jeu, le dealer pioche tant qu'il n'a pas 16 points mais s'arrête quand il a 17 points ou plus. Sur cette base, il est connu qu'il existe une stratégie nommée &quot;stratégie de base&quot;. Cette stratégie se présente sous forme de tableau, qui indique quelle action doit réaliser le joueur en fonction de sa main et de la première carte du dealer.</p>
<p><img src="Image8.png" alt="Stratégie de base">
<em>Source: <a href="https://www.guide-blackjack.com/strategie-base-las-vegas.html">Guide-Blackjack.com</a></em></p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>On remarque que cette stratégie de base se présente sous forme de trois parties: un tableau dans le cas où le joueur a un As, un autre où il a un double et un dernier dans les autres cas. Ceci est dû au fait que le comptage est différent dans le cas d'un As, et que le joueur peut séparer ses cartes dans le cas d'un double.</p>
</div></div>
<p>Nous allons donc créer une classe <strong>Blackjack_simulation</strong> qui va permettre de simuler cette stratégie et d'en estimer son efficacité. Nous allons expliciter ses méthodes une par une.</p>
<h3>L'initialisation de la classe <strong>Blackjack_simulation</strong></h3>
<p>Cette classe hérite de la classe <strong>Blackjack_methods</strong>, présentée précédemment, afin d'hériter des méthodes pour créer des nouveaux decks et pour compter les points d'une main. L'initialisation a pour but de créer les 3 parties du tableau de la stratégie de base, nommées <em>strat1</em> pour le cas de base, <em>strat2</em> pour le cas du double et <em>strat3</em> pour le cas de l'As.</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Cliquer pour voir l'initialisation de la classe <em>Blackjack_simulation</em></p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">#0: stay</span>
    <span class="token comment">#1: hit</span>
    <span class="token comment">#2: double</span>
    <span class="token comment">#3: split</span>
    self<span class="token punctuation">.</span>true_count <span class="token operator">=</span> <span class="token number">0</span>
    self<span class="token punctuation">.</span>running_count <span class="token operator">=</span> <span class="token number">0</span>
    self<span class="token punctuation">.</span>strat1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>
    self<span class="token punctuation">.</span>strat2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span> <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>strat2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>strat2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    self<span class="token punctuation">.</span>strat2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>strat2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    self<span class="token punctuation">.</span>strat2<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    self<span class="token punctuation">.</span>strat2<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    self<span class="token punctuation">.</span>strat2<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>strat2<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
    self<span class="token punctuation">.</span>strat2<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
    self<span class="token punctuation">.</span>strat2<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
    self<span class="token punctuation">.</span>strat2<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>strat2<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>
    self<span class="token punctuation">.</span>strat3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span> <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>strat3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>strat3<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>strat3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
    self<span class="token punctuation">.</span>strat3<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
    self<span class="token punctuation">.</span>strat3<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>strat3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    self<span class="token punctuation">.</span>strat3<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    self<span class="token punctuation">.</span>strat3<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    self<span class="token punctuation">.</span>strat3<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span></code></pre>
</div>
</details>     
</div>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Dans ces tableaux, la valeur 0 indique qu'il faut rester, 1 indique qu'il faut tirer, 2 indique qu'il faut doubler et 3 indique qu'il faut séparer.</p>
</div></div>
<h3>La méthode <em>play_casino</em></h3>
<p>Cette méthode prend en argument une main (c'est-à-dire une liste d'objet de la classe <strong>Card</strong>) et la modifie pour simuler le fait que le dealer joue. En d'autres termes, cette méthode va ajouter des cartes jusqu'à ce que le compte de la main atteigne ou dépasse 17.</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Cliquer pour voir la méthode <em>play_casino</em></p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">play_casino</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">while</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">16</span><span class="token punctuation">:</span>
            card <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
            hand<span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span></code></pre>
</div>
</details>     
</div>
<h3>La méthode <em>simulation</em></h3>
<p>Cette méthode va permettre de simuler la stratégie de base face au dealer pendant n parties (n étant spécifié en argument). Elle va permettre d'afficher plusieurs graphiques:</p>
<ul>
<li>Un graphique en barres affichant le taux de réussite face à chaque première carte possible du dealer, ainsi que l'espérance de gain du joueur,</li>
<li>Des graphiques en couleur indiquant les taux de réussite du joueur de chaque main possibles et face à chaque première carte possibles du dealer. Il y aura 3 de ces graphiques, puisqu'il existe 3 tableaux de stratégies possibles.</li>
</ul>
<p>L'implémentation de ces simulations est assez longue, mais assez répétitive. Avant de jouer les mains, on initialise le gain du joueur à 0 et on crée des listes qui contiendront les taux de réussite du joueur en fonction de sa main. Voici les étapes que la méthode suit:</p>
<ul>
<li>Piocher 4 cartes: deux cartes pour le joueur et deux cartes pour le dealer. Le joueur ne voit que la première carte du dealer.</li>
<li>Vérifier le cas du Blackjack (un As et une carte de valeur 10):
<ul>
<li>Si le joueur a un Blackjack et pas le dealer, ajouter à son gain 1.5,</li>
<li>Si le dealer a Blackjack et pas le joueur, enlever à son gain 1,</li>
<li>Si les deux ont un Blackjack, ne pas toucher au gain du joueur.</li>
</ul>
</li>
<li>Vérifier le cas où les deux cartes sont égales. Dans ce cas, on se réfère au tableau <em>strat2</em> en utilisant la première carte du dealer et le compte de la main du joueur. Ces éléments vont servir d'indices pour récupérer la valeur dans le tableau de la stratégie de base, qui indiquera l'action à faire. Ensuite, on utilise la méthode <em>play_casino</em> pour faire jouer le dealer, on vérifie qui gagne et on actualise le gain du joueur en conséquence.</li>
<li>Vérifier le cas où le joueur a un As. On se réfère au tableau <em>strat3</em> et on fait effectue les actions en conséquence. On fait ensuite jouer le dealer et on vérifie qui gagne.</li>
<li>Vérifier le cas normal (sans As ni doubles). On se réfère au tableau <em>strat1</em> et on fait le même processus.</li>
</ul>
<p>On effectue cet algorithme n fois. On remarque que cet algorithme est répétitif, et cela se voit dans l'implémentation, qui est assez longue.</p>
<p>Après la simulation de ces n parties, il n'y a plus qu'à afficher les résultats sous forme de graphiques en couleur et d'un graphique en barre (comme explicité précédemment), grâce à la bibliothèque matplotlib. On peut choisir d'afficher seulement un graphique, ou bien les 4 en même temps.</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Cliquer pour voir la méthode <em>simulation</em></p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">simulation</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>n<span class="token punctuation">,</span>count<span class="token punctuation">,</span>graph_type<span class="token punctuation">)</span><span class="token punctuation">:</span>
    gain <span class="token operator">=</span> <span class="token number">0</span>
    winrate_player <span class="token operator">=</span> <span class="token number">0</span>
    bust_player <span class="token operator">=</span> <span class="token number">0</span>
    bust_casino <span class="token operator">=</span> <span class="token number">0</span>
    list_card_winrate <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    list_card_played <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    played <span class="token operator">=</span> <span class="token boolean">False</span>
    number_count <span class="token operator">=</span> <span class="token number">0</span>
    hands_played_normal <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    winrates_normal <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    hands_played_split <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    winrates_split <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    hands_played_ace <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    winrates_ace <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> game <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        played <span class="token operator">=</span> <span class="token boolean">False</span>
        factor <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>deck<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">52</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>newdeck<span class="token punctuation">(</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>true_count<span class="token punctuation">,</span> self<span class="token punctuation">.</span>running_count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span>
        <span class="token keyword">if</span> count <span class="token keyword">and</span> self<span class="token punctuation">.</span>true_count <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">:</span>
            factor <span class="token operator">*=</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>true_count<span class="token punctuation">)</span>
            number_count <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token comment"># if self.true_count >= count_threshold and count:</span>
        <span class="token comment">#     factor *= (count_factor)</span>
        <span class="token comment">#     number_count += 1</span>
        card1 <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
        card3 <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
        card2 <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
        card4 <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>card1<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>card2<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>card3<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>card4<span class="token punctuation">)</span>
        <span class="token keyword">if</span> card3<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
            index3 <span class="token operator">=</span> <span class="token number">9</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            index3 <span class="token operator">=</span> card3<span class="token punctuation">.</span>value <span class="token operator">-</span> <span class="token number">2</span>
        hand_player <span class="token operator">=</span> <span class="token punctuation">[</span>card1<span class="token punctuation">,</span> card2<span class="token punctuation">]</span>
        hand_casino <span class="token operator">=</span> <span class="token punctuation">[</span>card3<span class="token punctuation">,</span> card4<span class="token punctuation">]</span>
        list_card_played<span class="token punctuation">[</span>index3<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
        played_normal <span class="token operator">=</span> <span class="token boolean">False</span>
        played_split <span class="token operator">=</span> <span class="token boolean">False</span>
        played_ace <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token keyword">if</span> card1<span class="token punctuation">.</span>value <span class="token operator">!=</span> <span class="token number">1</span> <span class="token keyword">and</span> card2<span class="token punctuation">.</span>value <span class="token operator">!=</span> <span class="token number">1</span> <span class="token keyword">and</span> card1<span class="token punctuation">.</span>value <span class="token operator">!=</span> card2<span class="token punctuation">.</span>value<span class="token punctuation">:</span>
            index_player <span class="token operator">=</span> card1<span class="token punctuation">.</span>value <span class="token operator">+</span> card2<span class="token punctuation">.</span>value <span class="token operator">-</span> <span class="token number">5</span>
            <span class="token keyword">if</span> card3<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                index_casino <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                index_casino <span class="token operator">=</span> <span class="token number">11</span> <span class="token operator">-</span> card3<span class="token punctuation">.</span>value
            hands_played_normal<span class="token punctuation">[</span>index_casino<span class="token punctuation">]</span><span class="token punctuation">[</span>index_player<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
            played_normal <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">if</span> card1<span class="token punctuation">.</span>value <span class="token operator">==</span> card2<span class="token punctuation">.</span>value<span class="token punctuation">:</span>
            <span class="token keyword">if</span> card1<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                index_player <span class="token operator">=</span> <span class="token number">9</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                index_player <span class="token operator">=</span> card1<span class="token punctuation">.</span>value <span class="token operator">-</span> <span class="token number">2</span>
            <span class="token keyword">if</span> card3<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                index_casino <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                index_casino <span class="token operator">=</span> <span class="token number">11</span> <span class="token operator">-</span> card3<span class="token punctuation">.</span>value
            hands_played_split<span class="token punctuation">[</span>index_casino<span class="token punctuation">]</span><span class="token punctuation">[</span>index_player<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
            played_split <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>card1<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token punctuation">(</span>card2<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            no_ace <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>card1<span class="token punctuation">.</span>value<span class="token punctuation">,</span>card2<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
            <span class="token keyword">if</span> card3<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                index_casino <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                index_casino <span class="token operator">=</span> <span class="token number">11</span> <span class="token operator">-</span> card3<span class="token punctuation">.</span>value
            index_player <span class="token operator">=</span> no_ace <span class="token operator">-</span> <span class="token number">2</span>
            hands_played_ace<span class="token punctuation">[</span>index_casino<span class="token punctuation">]</span><span class="token punctuation">[</span>index_player<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
            played_ace <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token comment">#Cas du Blackjack</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>card1<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> card2<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token punctuation">(</span>card1<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">10</span> <span class="token keyword">and</span> card2<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token keyword">not</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>card3<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> card4<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token punctuation">(</span>card3<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">10</span> <span class="token keyword">and</span> card4<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            played <span class="token operator">=</span> <span class="token boolean">True</span>
            gain <span class="token operator">+=</span> factor <span class="token operator">*</span> <span class="token number">1.5</span>
            winrate_player <span class="token operator">+=</span> <span class="token number">1</span>
            list_card_winrate<span class="token punctuation">[</span>index3<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
            winrates_ace<span class="token punctuation">[</span>index_casino<span class="token punctuation">]</span><span class="token punctuation">[</span>index_player<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>card3<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> card4<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token punctuation">(</span>card3<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">10</span> <span class="token keyword">and</span> card4<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token keyword">not</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>card1<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> card2<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token punctuation">(</span>card1<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">10</span> <span class="token keyword">and</span> card2<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            played <span class="token operator">=</span> <span class="token boolean">True</span>
            gain <span class="token operator">-=</span> factor <span class="token operator">*</span> <span class="token number">1</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>card3<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> card4<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token punctuation">(</span>card3<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">10</span> <span class="token keyword">and</span> card4<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>card1<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> card2<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token punctuation">(</span>card1<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">10</span> <span class="token keyword">and</span> card2<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            played <span class="token operator">=</span> <span class="token boolean">True</span>
            winrates_ace<span class="token punctuation">[</span>index_casino<span class="token punctuation">]</span><span class="token punctuation">[</span>index_player<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span>
            gain <span class="token operator">+=</span> <span class="token number">0</span>
            winrate_player <span class="token operator">+=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span>
            list_card_winrate<span class="token punctuation">[</span>index3<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span>
        <span class="token comment">#Cas du split</span>
        <span class="token keyword">if</span> card1<span class="token punctuation">.</span>value <span class="token operator">==</span> card2<span class="token punctuation">.</span>value<span class="token punctuation">:</span>
            <span class="token keyword">if</span> card1<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                index1 <span class="token operator">=</span> <span class="token number">9</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                index1 <span class="token operator">=</span> card1<span class="token punctuation">.</span>value <span class="token operator">-</span> <span class="token number">2</span>
                
            <span class="token keyword">if</span> card3<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                index2 <span class="token operator">=</span> <span class="token number">9</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                index2 <span class="token operator">=</span> card3<span class="token punctuation">.</span>value <span class="token operator">-</span> <span class="token number">2</span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>strat2<span class="token punctuation">[</span>index1<span class="token punctuation">]</span><span class="token punctuation">[</span>index2<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                card <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
                hand_player<span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
                self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
            <span class="token keyword">elif</span> self<span class="token punctuation">.</span>strat2<span class="token punctuation">[</span>index1<span class="token punctuation">]</span><span class="token punctuation">[</span>index2<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">2</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
                card <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
                hand_player<span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
                self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
                factor <span class="token operator">*=</span> <span class="token number">2</span>
                played <span class="token operator">=</span> <span class="token boolean">True</span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">21</span><span class="token punctuation">:</span>
                    self<span class="token punctuation">.</span>play_casino<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span>
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">21</span><span class="token punctuation">:</span>
                        bust_casino <span class="token operator">+=</span> <span class="token number">1</span>
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span> <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span><span class="token operator">></span><span class="token number">21</span><span class="token punctuation">:</span>
                        gain <span class="token operator">+=</span> factor<span class="token operator">*</span><span class="token number">1</span>
                        winrate_player <span class="token operator">+=</span> <span class="token number">1</span>
                        list_card_winrate<span class="token punctuation">[</span>index3<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
                        <span class="token keyword">if</span> played_split<span class="token punctuation">:</span>
                            winrates_split<span class="token punctuation">[</span>index_casino<span class="token punctuation">]</span><span class="token punctuation">[</span>index_player<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span> <span class="token operator">></span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">21</span><span class="token punctuation">:</span>
                        gain <span class="token operator">-=</span> factor<span class="token operator">*</span><span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    bust_player <span class="token operator">+=</span> <span class="token number">1</span>
                    gain <span class="token operator">-=</span> factor<span class="token operator">*</span><span class="token number">1</span>
            <span class="token keyword">elif</span> self<span class="token punctuation">.</span>strat2<span class="token punctuation">[</span>index1<span class="token punctuation">]</span><span class="token punctuation">[</span>index2<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
                played <span class="token operator">=</span> <span class="token boolean">True</span>
                card11 <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
                self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>card11<span class="token punctuation">)</span>
                card22 <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
                self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>card22<span class="token punctuation">)</span>
                hands <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                hand_player1 <span class="token operator">=</span> <span class="token punctuation">[</span>card1<span class="token punctuation">,</span>card11<span class="token punctuation">]</span>
                hand_player2 <span class="token operator">=</span> <span class="token punctuation">[</span>card2<span class="token punctuation">,</span>card22<span class="token punctuation">]</span>
                hands <span class="token operator">=</span> <span class="token punctuation">[</span>hand_player1<span class="token punctuation">,</span>hand_player2<span class="token punctuation">]</span>
                <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    card1 <span class="token operator">=</span> hands<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                    card2 <span class="token operator">=</span> hands<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>card1<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> card2<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token punctuation">(</span>card2<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> card1<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                        self<span class="token punctuation">.</span>play_casino<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span>
                        <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">21</span> <span class="token keyword">or</span> <span class="token builtin">len</span><span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">2</span><span class="token punctuation">:</span>
                            gain <span class="token operator">+=</span> factor<span class="token operator">*</span><span class="token number">1.5</span><span class="token operator">*</span><span class="token number">0.5</span>
                            winrate_player <span class="token operator">+=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span>
                            list_card_winrate<span class="token punctuation">[</span>index3<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span>
                            <span class="token keyword">if</span> played_split<span class="token punctuation">:</span>
                                winrates_split<span class="token punctuation">[</span>index_casino<span class="token punctuation">]</span><span class="token punctuation">[</span>index_player<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span>
                        <span class="token keyword">else</span><span class="token punctuation">:</span>
                            gain <span class="token operator">+=</span> <span class="token number">0</span>
                            <span class="token keyword">if</span> played_split<span class="token punctuation">:</span>
                                winrates_split<span class="token punctuation">[</span>index_casino<span class="token punctuation">]</span><span class="token punctuation">[</span>index_player<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">4</span>
                    <span class="token keyword">else</span><span class="token punctuation">:</span>
                        index1 <span class="token operator">=</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hands<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">5</span>
                        <span class="token keyword">if</span> index1 <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
                            index1 <span class="token operator">=</span> <span class="token number">0</span>
                        <span class="token keyword">if</span> index1 <span class="token operator">></span> <span class="token number">12</span><span class="token punctuation">:</span>
                            index1 <span class="token operator">=</span> <span class="token number">12</span>
                        <span class="token keyword">if</span> card3<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                            index2 <span class="token operator">=</span> <span class="token number">9</span>
                        <span class="token keyword">if</span> card3<span class="token punctuation">.</span>value <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">:</span>
                            index2 <span class="token operator">=</span> card3<span class="token punctuation">.</span>value <span class="token operator">-</span> <span class="token number">2</span>
                        <span class="token keyword">while</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span>index1<span class="token punctuation">]</span><span class="token punctuation">[</span>index2<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span>index1<span class="token punctuation">]</span><span class="token punctuation">[</span>index2<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hands<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">21</span><span class="token punctuation">:</span>
                            <span class="token keyword">if</span> self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span>index1<span class="token punctuation">]</span><span class="token punctuation">[</span>index2<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">2</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>hands<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
                                card <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
                                hands<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
                                self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
                                factor <span class="token operator">*=</span> <span class="token number">2</span>
                                <span class="token keyword">break</span>
                            card <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
                            self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
                            hands<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
                            index1 <span class="token operator">=</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hands<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">5</span>
                            <span class="token keyword">if</span> index1 <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
                                index1 <span class="token operator">=</span> <span class="token number">0</span>
                            <span class="token keyword">if</span> index1 <span class="token operator">></span> <span class="token number">12</span><span class="token punctuation">:</span>
                                index1 <span class="token operator">=</span> <span class="token number">12</span>
                        <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hands<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">21</span><span class="token punctuation">:</span>
                            self<span class="token punctuation">.</span>play_casino<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span>
                            <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">21</span><span class="token punctuation">:</span>
                                bust_casino <span class="token operator">+=</span> <span class="token number">1</span>
                            <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span> <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hands<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span><span class="token operator">></span><span class="token number">21</span><span class="token punctuation">:</span>
                                gain <span class="token operator">+=</span> factor<span class="token operator">*</span><span class="token number">1</span><span class="token operator">*</span><span class="token number">0.5</span>
                                winrate_player <span class="token operator">+=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span>
                                list_card_winrate<span class="token punctuation">[</span>index3<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span>
                                <span class="token keyword">if</span> played_split<span class="token punctuation">:</span>
                                    winrates_split<span class="token punctuation">[</span>index_casino<span class="token punctuation">]</span><span class="token punctuation">[</span>index_player<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span>
                            <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span> <span class="token operator">></span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hands<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">21</span><span class="token punctuation">:</span>
                                gain <span class="token operator">-=</span> factor<span class="token operator">*</span><span class="token number">1</span><span class="token operator">*</span><span class="token number">0.5</span>
                            <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hands<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                                winrates_split<span class="token punctuation">[</span>index_casino<span class="token punctuation">]</span><span class="token punctuation">[</span>index_player<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">4</span>
                        <span class="token keyword">else</span><span class="token punctuation">:</span>
                            bust_player <span class="token operator">+=</span> <span class="token number">1</span>
                            gain <span class="token operator">-=</span> factor<span class="token operator">*</span><span class="token number">1</span><span class="token operator">*</span><span class="token number">0.5</span>
        <span class="token comment">#Cas de l'As</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>card1<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token punctuation">(</span>card2<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token keyword">not</span> played<span class="token punctuation">:</span>
            played <span class="token operator">=</span> <span class="token boolean">True</span>
            index1 <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>card1<span class="token punctuation">.</span>value<span class="token punctuation">,</span>card2<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span>
            <span class="token keyword">if</span> card3<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                index2 <span class="token operator">=</span> <span class="token number">9</span>
            <span class="token keyword">if</span> card3<span class="token punctuation">.</span>value <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">:</span>
                index2 <span class="token operator">=</span> card3<span class="token punctuation">.</span>value <span class="token operator">-</span> <span class="token number">2</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span>index1<span class="token punctuation">]</span><span class="token punctuation">[</span>index2<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span>index1<span class="token punctuation">]</span><span class="token punctuation">[</span>index2<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">21</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span>index1<span class="token punctuation">]</span><span class="token punctuation">[</span>index2<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">2</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
                    card <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
                    hand_player<span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
                    self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
                    factor <span class="token operator">*=</span> <span class="token number">2</span>
                    <span class="token keyword">break</span>
                card <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
                self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
                hand_player<span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
                index1 <span class="token operator">=</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">5</span>
                <span class="token keyword">if</span> index1 <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    index1 <span class="token operator">=</span> <span class="token number">0</span>
                <span class="token keyword">if</span> index1 <span class="token operator">></span> <span class="token number">12</span><span class="token punctuation">:</span>
                    index1 <span class="token operator">=</span> <span class="token number">12</span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">21</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>play_casino<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">21</span><span class="token punctuation">:</span>
                    bust_casino <span class="token operator">+=</span> <span class="token number">1</span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span> <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span><span class="token operator">></span><span class="token number">21</span><span class="token punctuation">:</span>
                    gain <span class="token operator">+=</span> factor<span class="token operator">*</span><span class="token number">1</span>
                    winrate_player <span class="token operator">+=</span> <span class="token number">1</span>
                    list_card_winrate<span class="token punctuation">[</span>index3<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
                    <span class="token keyword">if</span> played_ace<span class="token punctuation">:</span>
                        winrates_ace<span class="token punctuation">[</span>index_casino<span class="token punctuation">]</span><span class="token punctuation">[</span>index_player<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span> <span class="token operator">></span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">21</span><span class="token punctuation">:</span>
                    gain <span class="token operator">-=</span> factor<span class="token operator">*</span><span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                bust_player <span class="token operator">+=</span> <span class="token number">1</span>
                gain <span class="token operator">-=</span> factor<span class="token operator">*</span><span class="token number">1</span>
        <span class="token comment">#Cas normal</span>
        <span class="token keyword">elif</span> <span class="token keyword">not</span> played<span class="token punctuation">:</span>
            index1 <span class="token operator">=</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">5</span>
            <span class="token keyword">if</span> index1 <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
                index1 <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">if</span> index1 <span class="token operator">></span> <span class="token number">12</span><span class="token punctuation">:</span>
                index1 <span class="token operator">=</span> <span class="token number">12</span>
            <span class="token keyword">if</span> card3<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
                index2 <span class="token operator">=</span> <span class="token number">9</span>
            <span class="token keyword">if</span> card3<span class="token punctuation">.</span>value <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">:</span>
                index2 <span class="token operator">=</span> card3<span class="token punctuation">.</span>value <span class="token operator">-</span> <span class="token number">2</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span>index1<span class="token punctuation">]</span><span class="token punctuation">[</span>index2<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span>index1<span class="token punctuation">]</span><span class="token punctuation">[</span>index2<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">21</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>strat1<span class="token punctuation">[</span>index1<span class="token punctuation">]</span><span class="token punctuation">[</span>index2<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">2</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
                    card <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
                    hand_player<span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
                    self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
                    factor <span class="token operator">*=</span> <span class="token number">2</span>
                    <span class="token keyword">break</span>
                card <span class="token operator">=</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>
                self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
                hand_player<span class="token punctuation">.</span>append<span class="token punctuation">(</span>card<span class="token punctuation">)</span>
                index1 <span class="token operator">=</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">5</span>
                <span class="token keyword">if</span> index1 <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    index1 <span class="token operator">=</span> <span class="token number">0</span>
                <span class="token keyword">if</span> index1 <span class="token operator">></span> <span class="token number">12</span><span class="token punctuation">:</span>
                    index1 <span class="token operator">=</span> <span class="token number">12</span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">21</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>play_casino<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">21</span><span class="token punctuation">:</span>
                    bust_casino <span class="token operator">+=</span> <span class="token number">1</span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span> <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span><span class="token operator">></span><span class="token number">21</span><span class="token punctuation">:</span>
                    gain <span class="token operator">+=</span> factor<span class="token operator">*</span><span class="token number">1</span>
                    winrate_player <span class="token operator">+=</span> <span class="token number">1</span>
                    list_card_winrate<span class="token punctuation">[</span>index3<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
                    <span class="token keyword">if</span> played_normal<span class="token punctuation">:</span>
                        winrates_normal<span class="token punctuation">[</span>index_casino<span class="token punctuation">]</span><span class="token punctuation">[</span>index_player<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
                    <span class="token keyword">if</span> played_split<span class="token punctuation">:</span>
                        winrates_split<span class="token punctuation">[</span>index_casino<span class="token punctuation">]</span><span class="token punctuation">[</span>index_player<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token keyword">if</span> played_normal<span class="token punctuation">:</span>
                        winrates_normal<span class="token punctuation">[</span>index_casino<span class="token punctuation">]</span><span class="token punctuation">[</span>index_player<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span>
                    <span class="token keyword">if</span> played_split<span class="token punctuation">:</span>
                        winrates_split<span class="token punctuation">[</span>index_casino<span class="token punctuation">]</span><span class="token punctuation">[</span>index_player<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span> <span class="token operator">></span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_player<span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>sum_hand<span class="token punctuation">(</span>hand_casino<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">21</span><span class="token punctuation">:</span>
                    gain <span class="token operator">-=</span> factor<span class="token operator">*</span><span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                bust_player <span class="token operator">+=</span> <span class="token number">1</span>
                gain <span class="token operator">-=</span> factor<span class="token operator">*</span><span class="token number">1</span>
    <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        list_card_winrate<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">round</span><span class="token punctuation">(</span>list_card_winrate<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">/</span>list_card_played<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> graph_type <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">or</span> graph_type <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">:</span>
        x <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token string">'4'</span><span class="token punctuation">,</span><span class="token string">'5'</span><span class="token punctuation">,</span><span class="token string">'6'</span><span class="token punctuation">,</span><span class="token string">'7'</span><span class="token punctuation">,</span><span class="token string">'8'</span><span class="token punctuation">,</span><span class="token string">'9'</span><span class="token punctuation">,</span><span class="token string">'10'</span><span class="token punctuation">,</span><span class="token string">'A'</span><span class="token punctuation">)</span>
        X <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
        ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>axes<span class="token punctuation">(</span><span class="token punctuation">)</span>
        ax<span class="token punctuation">.</span>set_xticks<span class="token punctuation">(</span>X<span class="token punctuation">,</span> x<span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>X<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>i<span class="token punctuation">,</span>list_card_winrate<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>list_card_winrate<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">%"</span></span><span class="token punctuation">,</span> ha <span class="token operator">=</span> <span class="token string">"center"</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token string-interpolation"><span class="token string">f"Espérance de gain: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">round</span><span class="token punctuation">(</span>gain<span class="token operator">*</span><span class="token number">100</span><span class="token operator">/</span>n<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">%"</span></span><span class="token punctuation">,</span> ha <span class="token operator">=</span> <span class="token string">"center"</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>X<span class="token punctuation">,</span> list_card_winrate<span class="token punctuation">)</span>
        ax<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">"Première carte du dealer"</span><span class="token punctuation">)</span>
        ax<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">"Taux de réussite (en %)"</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Taux de réussite du joueur face à chaque première carte possible du dealer. Taux de réussite moyen: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">round</span><span class="token punctuation">(</span>winrate_player <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">/</span>n<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">%"</span></span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> graph_type <span class="token operator">==</span> <span class="token number">2</span> <span class="token keyword">or</span> graph_type <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                winrates_normal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">round</span><span class="token punctuation">(</span><span class="token punctuation">(</span>winrates_normal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">/</span>hands_played_normal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
        size_x <span class="token operator">=</span> <span class="token number">15</span>
        size_y <span class="token operator">=</span> <span class="token number">10</span>
        x_start <span class="token operator">=</span> <span class="token number">0</span>
        x_end <span class="token operator">=</span> <span class="token number">15</span>
        y_start <span class="token operator">=</span> <span class="token number">0</span>
        y_end <span class="token operator">=</span> <span class="token number">10</span>
        extent <span class="token operator">=</span> <span class="token punctuation">[</span>x_start<span class="token punctuation">,</span>x_end<span class="token punctuation">,</span> y_end<span class="token punctuation">,</span> y_start<span class="token punctuation">]</span>
        fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        ax <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span>
        axes <span class="token operator">=</span> plt<span class="token punctuation">.</span>gca<span class="token punctuation">(</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">'Première carte du dealer'</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_ticks<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">10.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_ticklabels<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'10'</span><span class="token punctuation">,</span><span class="token string">'9'</span><span class="token punctuation">,</span><span class="token string">'8'</span><span class="token punctuation">,</span><span class="token string">'7'</span><span class="token punctuation">,</span><span class="token string">'6'</span><span class="token punctuation">,</span><span class="token string">'5'</span><span class="token punctuation">,</span><span class="token string">'4'</span><span class="token punctuation">,</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rotation <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> color <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">,</span>fontsize <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">'Main du joueur'</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>xaxis<span class="token punctuation">.</span>set_ticks<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">15.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>xaxis<span class="token punctuation">.</span>set_ticklabels<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rotation <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> color <span class="token operator">=</span> <span class="token string">'green'</span><span class="token punctuation">,</span> verticalalignment <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>fontsize <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">)</span>
        im <span class="token operator">=</span> ax<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>winrates_normal<span class="token punctuation">,</span>extent <span class="token operator">=</span> extent<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">"RdYlGn"</span><span class="token punctuation">,</span>vmin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> vmax <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"Taux de réussite de chaque main possible (sans As ni double)"</span><span class="token punctuation">,</span> pad <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">)</span>
        
        jump_x <span class="token operator">=</span> <span class="token punctuation">(</span>x_end <span class="token operator">-</span> x_start<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">2.0</span> <span class="token operator">*</span> size_x<span class="token punctuation">)</span>
        jump_y <span class="token operator">=</span> <span class="token punctuation">(</span>y_end <span class="token operator">-</span> y_start<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">2.0</span> <span class="token operator">*</span> size_y<span class="token punctuation">)</span>
        x_positions <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span>start<span class="token operator">=</span>x_start<span class="token punctuation">,</span> stop<span class="token operator">=</span>x_end<span class="token punctuation">,</span> num<span class="token operator">=</span>size_x<span class="token punctuation">,</span> endpoint<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
        y_positions <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span>start<span class="token operator">=</span>y_start<span class="token punctuation">,</span> stop<span class="token operator">=</span>y_end<span class="token punctuation">,</span> num<span class="token operator">=</span>size_y<span class="token punctuation">,</span> endpoint<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
        
        <span class="token keyword">for</span> y_index<span class="token punctuation">,</span> y <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>y_positions<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> x_index<span class="token punctuation">,</span> x <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>x_positions<span class="token punctuation">)</span><span class="token punctuation">:</span>
                label <span class="token operator">=</span> winrates_normal<span class="token punctuation">[</span>y_index<span class="token punctuation">]</span><span class="token punctuation">[</span>x_index<span class="token punctuation">]</span>
                text_x <span class="token operator">=</span> x <span class="token operator">+</span> jump_x
                text_y <span class="token operator">=</span> y <span class="token operator">+</span> jump_y
                ax<span class="token punctuation">.</span>text<span class="token punctuation">(</span>text_x<span class="token punctuation">,</span> text_y<span class="token punctuation">,</span> label<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> dealerhand <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            S <span class="token operator">=</span> <span class="token number">0</span>
            S2 <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">for</span> winrate <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                S <span class="token operator">+=</span> winrates_normal<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span> <span class="token operator">*</span> hands_played_normal<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span>
                S2 <span class="token operator">+=</span> hands_played_normal<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span>
            S <span class="token operator">=</span> S<span class="token operator">/</span>S2
            ax<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token number">15</span> <span class="token operator">+</span> jump_x<span class="token punctuation">,</span> dealerhand <span class="token operator">+</span> jump_y<span class="token punctuation">,</span> <span class="token builtin">round</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> winrate <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            S <span class="token operator">=</span> <span class="token number">0</span>
            S2 <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">for</span> dealerhand <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                S <span class="token operator">+=</span> winrates_normal<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span> <span class="token operator">*</span> hands_played_normal<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span>
                S2 <span class="token operator">+=</span> hands_played_normal<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span>
            S <span class="token operator">=</span> S<span class="token operator">/</span>S2
            ax<span class="token punctuation">.</span>text<span class="token punctuation">(</span>winrate <span class="token operator">+</span> jump_x<span class="token punctuation">,</span> <span class="token operator">-</span>jump_y<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token builtin">round</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">)</span>
        fig<span class="token punctuation">.</span>colorbar<span class="token punctuation">(</span>im<span class="token punctuation">)</span>
    
    <span class="token keyword">if</span> graph_type <span class="token operator">==</span> <span class="token number">3</span> <span class="token keyword">or</span> graph_type <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                winrates_split<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">round</span><span class="token punctuation">(</span><span class="token punctuation">(</span>winrates_split<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">/</span>hands_played_split<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
        size_x <span class="token operator">=</span> <span class="token number">10</span>
        size_y <span class="token operator">=</span> <span class="token number">10</span>
        x_start <span class="token operator">=</span> <span class="token number">0</span>
        x_end <span class="token operator">=</span> <span class="token number">10</span>
        y_start <span class="token operator">=</span> <span class="token number">0</span>
        y_end <span class="token operator">=</span> <span class="token number">10</span>
        extent <span class="token operator">=</span> <span class="token punctuation">[</span>x_start<span class="token punctuation">,</span>x_end<span class="token punctuation">,</span> y_end<span class="token punctuation">,</span> y_start<span class="token punctuation">]</span>
        fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        ax <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span>
        axes <span class="token operator">=</span> plt<span class="token punctuation">.</span>gca<span class="token punctuation">(</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">'Première carte du dealer'</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_ticks<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">10.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_ticklabels<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'10'</span><span class="token punctuation">,</span><span class="token string">'9'</span><span class="token punctuation">,</span><span class="token string">'8'</span><span class="token punctuation">,</span><span class="token string">'7'</span><span class="token punctuation">,</span><span class="token string">'6'</span><span class="token punctuation">,</span><span class="token string">'5'</span><span class="token punctuation">,</span><span class="token string">'4'</span><span class="token punctuation">,</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rotation <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> color <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">,</span>fontsize <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">'Main du joueur'</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>xaxis<span class="token punctuation">.</span>set_ticks<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">10.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>xaxis<span class="token punctuation">.</span>set_ticklabels<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">"</span></span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token string">"A-A"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rotation <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> color <span class="token operator">=</span> <span class="token string">'green'</span><span class="token punctuation">,</span> verticalalignment <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>fontsize <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">)</span>
        im <span class="token operator">=</span> ax<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>winrates_split<span class="token punctuation">,</span>extent <span class="token operator">=</span> extent<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">"RdYlGn"</span><span class="token punctuation">,</span>vmin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> vmax <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"Taux de réussite de chaque main possible (seulement les doubles)"</span><span class="token punctuation">,</span> pad <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">)</span>
        
        jump_x <span class="token operator">=</span> <span class="token punctuation">(</span>x_end <span class="token operator">-</span> x_start<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">2.0</span> <span class="token operator">*</span> size_x<span class="token punctuation">)</span>
        jump_y <span class="token operator">=</span> <span class="token punctuation">(</span>y_end <span class="token operator">-</span> y_start<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">2.0</span> <span class="token operator">*</span> size_y<span class="token punctuation">)</span>
        x_positions <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span>start<span class="token operator">=</span>x_start<span class="token punctuation">,</span> stop<span class="token operator">=</span>x_end<span class="token punctuation">,</span> num<span class="token operator">=</span>size_x<span class="token punctuation">,</span> endpoint<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
        y_positions <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span>start<span class="token operator">=</span>y_start<span class="token punctuation">,</span> stop<span class="token operator">=</span>y_end<span class="token punctuation">,</span> num<span class="token operator">=</span>size_y<span class="token punctuation">,</span> endpoint<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
        
        <span class="token keyword">for</span> y_index<span class="token punctuation">,</span> y <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>y_positions<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> x_index<span class="token punctuation">,</span> x <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>x_positions<span class="token punctuation">)</span><span class="token punctuation">:</span>
                label <span class="token operator">=</span> winrates_split<span class="token punctuation">[</span>y_index<span class="token punctuation">]</span><span class="token punctuation">[</span>x_index<span class="token punctuation">]</span>
                text_x <span class="token operator">=</span> x <span class="token operator">+</span> jump_x
                text_y <span class="token operator">=</span> y <span class="token operator">+</span> jump_y
                ax<span class="token punctuation">.</span>text<span class="token punctuation">(</span>text_x<span class="token punctuation">,</span> text_y<span class="token punctuation">,</span> label<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> dealerhand <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            S <span class="token operator">=</span> <span class="token number">0</span>
            S2 <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">for</span> winrate <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                S <span class="token operator">+=</span> winrates_split<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span> <span class="token operator">*</span> hands_played_split<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span>
                S2 <span class="token operator">+=</span> hands_played_split<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span>
            S <span class="token operator">=</span> S<span class="token operator">/</span>S2
            ax<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">+</span> jump_x<span class="token punctuation">,</span> dealerhand <span class="token operator">+</span> jump_y<span class="token punctuation">,</span> <span class="token builtin">round</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> winrate <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            S <span class="token operator">=</span> <span class="token number">0</span>
            S2 <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">for</span> dealerhand <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                S <span class="token operator">+=</span> winrates_split<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span> <span class="token operator">*</span> hands_played_split<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span>
                S2 <span class="token operator">+=</span> hands_played_split<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span>
            S <span class="token operator">=</span> S<span class="token operator">/</span>S2
            ax<span class="token punctuation">.</span>text<span class="token punctuation">(</span>winrate <span class="token operator">+</span> jump_x<span class="token punctuation">,</span> <span class="token operator">-</span>jump_y<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token builtin">round</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">)</span>
        fig<span class="token punctuation">.</span>colorbar<span class="token punctuation">(</span>im<span class="token punctuation">)</span>
    
    <span class="token keyword">if</span> graph_type <span class="token operator">==</span> <span class="token number">4</span> <span class="token keyword">or</span> graph_type <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                winrates_ace<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">round</span><span class="token punctuation">(</span><span class="token punctuation">(</span>winrates_ace<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">/</span>hands_played_ace<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
        size_x <span class="token operator">=</span> <span class="token number">9</span>
        size_y <span class="token operator">=</span> <span class="token number">10</span>
        x_start <span class="token operator">=</span> <span class="token number">0</span>
        x_end <span class="token operator">=</span> <span class="token number">9</span>
        y_start <span class="token operator">=</span> <span class="token number">0</span>
        y_end <span class="token operator">=</span> <span class="token number">10</span>
        extent <span class="token operator">=</span> <span class="token punctuation">[</span>x_start<span class="token punctuation">,</span>x_end<span class="token punctuation">,</span> y_end<span class="token punctuation">,</span> y_start<span class="token punctuation">]</span>
        fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        ax <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span>
        axes <span class="token operator">=</span> plt<span class="token punctuation">.</span>gca<span class="token punctuation">(</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">'Première carte du dealer'</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_ticks<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">10.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_ticklabels<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'10'</span><span class="token punctuation">,</span><span class="token string">'9'</span><span class="token punctuation">,</span><span class="token string">'8'</span><span class="token punctuation">,</span><span class="token string">'7'</span><span class="token punctuation">,</span><span class="token string">'6'</span><span class="token punctuation">,</span><span class="token string">'5'</span><span class="token punctuation">,</span><span class="token string">'4'</span><span class="token punctuation">,</span><span class="token string">'3'</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rotation <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> color <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">,</span>fontsize <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">'Main du joueur'</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>xaxis<span class="token punctuation">.</span>set_ticks<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">9.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        axes<span class="token punctuation">.</span>xaxis<span class="token punctuation">.</span>set_ticklabels<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'A-2'</span><span class="token punctuation">,</span><span class="token string">'A-3'</span><span class="token punctuation">,</span><span class="token string">'A-4'</span><span class="token punctuation">,</span><span class="token string">'A-5'</span><span class="token punctuation">,</span><span class="token string">'A-6'</span><span class="token punctuation">,</span><span class="token string">'A-7'</span><span class="token punctuation">,</span><span class="token string">'A-8'</span><span class="token punctuation">,</span><span class="token string">'A-9'</span><span class="token punctuation">,</span><span class="token string">'A-10'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rotation <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> color <span class="token operator">=</span> <span class="token string">'green'</span><span class="token punctuation">,</span> verticalalignment <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">,</span>fontsize <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">)</span>
        im <span class="token operator">=</span> ax<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>winrates_ace<span class="token punctuation">,</span>extent <span class="token operator">=</span> extent<span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">"RdYlGn"</span><span class="token punctuation">,</span>vmin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> vmax <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"Taux de réussite de chaque main possible (avec un As dans la main)"</span><span class="token punctuation">,</span> pad <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">)</span>
        
        jump_x <span class="token operator">=</span> <span class="token punctuation">(</span>x_end <span class="token operator">-</span> x_start<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">2.0</span> <span class="token operator">*</span> size_x<span class="token punctuation">)</span>
        jump_y <span class="token operator">=</span> <span class="token punctuation">(</span>y_end <span class="token operator">-</span> y_start<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">2.0</span> <span class="token operator">*</span> size_y<span class="token punctuation">)</span>
        x_positions <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span>start<span class="token operator">=</span>x_start<span class="token punctuation">,</span> stop<span class="token operator">=</span>x_end<span class="token punctuation">,</span> num<span class="token operator">=</span>size_x<span class="token punctuation">,</span> endpoint<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
        y_positions <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span>start<span class="token operator">=</span>y_start<span class="token punctuation">,</span> stop<span class="token operator">=</span>y_end<span class="token punctuation">,</span> num<span class="token operator">=</span>size_y<span class="token punctuation">,</span> endpoint<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
        
        <span class="token keyword">for</span> y_index<span class="token punctuation">,</span> y <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>y_positions<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> x_index<span class="token punctuation">,</span> x <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>x_positions<span class="token punctuation">)</span><span class="token punctuation">:</span>
                label <span class="token operator">=</span> winrates_ace<span class="token punctuation">[</span>y_index<span class="token punctuation">]</span><span class="token punctuation">[</span>x_index<span class="token punctuation">]</span>
                text_x <span class="token operator">=</span> x <span class="token operator">+</span> jump_x
                text_y <span class="token operator">=</span> y <span class="token operator">+</span> jump_y
                ax<span class="token punctuation">.</span>text<span class="token punctuation">(</span>text_x<span class="token punctuation">,</span> text_y<span class="token punctuation">,</span> label<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> dealerhand <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            S <span class="token operator">=</span> <span class="token number">0</span>
            S2 <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">for</span> winrate <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                S <span class="token operator">+=</span> winrates_ace<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span> <span class="token operator">*</span> hands_played_ace<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span>
                S2 <span class="token operator">+=</span> hands_played_ace<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span>
            S <span class="token operator">=</span> S<span class="token operator">/</span>S2
            ax<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token number">9</span> <span class="token operator">+</span> jump_x<span class="token punctuation">,</span> dealerhand <span class="token operator">+</span> jump_y<span class="token punctuation">,</span> <span class="token builtin">round</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> winrate <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            S <span class="token operator">=</span> <span class="token number">0</span>
            S2 <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">for</span> dealerhand <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                S <span class="token operator">+=</span> winrates_ace<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span> <span class="token operator">*</span> hands_played_ace<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span>
                S2 <span class="token operator">+=</span> hands_played_ace<span class="token punctuation">[</span>dealerhand<span class="token punctuation">]</span><span class="token punctuation">[</span>winrate<span class="token punctuation">]</span>
            S <span class="token operator">=</span> S<span class="token operator">/</span>S2
            ax<span class="token punctuation">.</span>text<span class="token punctuation">(</span>winrate <span class="token operator">+</span> jump_x<span class="token punctuation">,</span> <span class="token operator">-</span>jump_y<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token builtin">round</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> va<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">)</span>
        fig<span class="token punctuation">.</span>colorbar<span class="token punctuation">(</span>im<span class="token punctuation">)</span>

    <span class="token comment"># print(gain/n,winrate_player/n,bust_player/n,bust_casino/n,number_count/n)</span>
    <span class="token keyword">if</span> graph_type <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">:</span>
        plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token builtin">round</span><span class="token punctuation">(</span>gain<span class="token operator">*</span><span class="token number">100</span><span class="token operator">/</span>n<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
</div>
</details>     
</div>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Il y a beaucoup de détails importants dans ce code et il est très répétitif, c'est pourquoi il est très long. J'ai choisi de ne pas expliquer ces détails, car ils ne sont pas pertinents. Il est plus important de comprendre l'idée générale du code.</p>
</div></div>
<h3>Résultats et analyse de la simulation</h3>
<p>Voici les (jolis) graphiques que produit cette simulation. Cette simulation a été réalisée sur 10 millions de parties, afin d'avoir un echantillon suffisamment grand pour tendre vers les probabilités réélles. Les valeurs infiquées dans les graphiques en couleur indiquent le taux de réussite du joueur ayant la main indiquée en abscisses face à la première carte du dealer indiquée en ordonnée. Pour le premier graphique en couleur, les valeurs indiquées en abscisses sont les sommes des deux premières cartes du joueur. Par exemple, l'abscisse 10 se réfère à une des mains suivantes: 2-8, 3-7, 4-6 (les mains 5-5 et A-9 ne sont pas dans cette liste car elles sont prises en compte dans les tables des doubles et des As).</p>
<p><img src="Image9.png" alt="Figure1"></p>
<p><img src="Image10.png" alt="Figure2"></p>
<p><img src="Image11.png" alt="Figure3"></p>
<p><img src="Image12.png" alt="Figure4"></p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Sur la droite des graphiques en couleur, il est indiqué les moyennes (pondérées par le nombre de mains jouées) des taux de réussites face à la première carte du dealer correspondante. En haut de ces graphiques, on a les moyennes des taux de réussites des mains du joueur correspondante.</p>
</div></div>
<p>Le taux de réussite moyen du joueur est de 43,22% et l'espérance de gain est de -<strong>1,75%</strong>. Ce chiffre est appelé l'avantage de la maison. Cela veut dire que pour une mise de 100 euros, le joueur perd en moyenne 1,75 euros. Pour se donner une idée, voici quelques avantages de la maison sur les jeux de roulette (jeux également populaires au casino):</p>
<ul>
<li>Roulette Américaine: <strong>5,4%</strong></li>
<li>Roulette Européenne: <strong>2,76%</strong></li>
<li>Roulette Française: <strong>1,35%</strong></li>
</ul>
<p><em>Source: <a href="https://www.jeuxroulette.org/articles/41-lavantage-casino-sur-jeu-roulette.html">JeuxRoulette.org</a></em></p>
<p>Ainsi, le Blackjack est un jeu intéréssant à jouer car il a un avantage de la maison relativement faible comparé à d'autres jeux de casino. A noter que l'avantage de la maison pour les machines à sous se situe entre 10% et 15%, ce qui est très élevé comparé au Blackjack.</p>
<p>D'après le graphique en barres, on observe que le joueur a plus d'une chance sur deux de gagner quand le dealer a un 3, 4, 5 ou 6, avec un pic à 55.23% lorsqu'il a un 6. Cette carte est la pire carte à avoir pour le dealer. Ensuite, pour les cartes supérieures ou égales à 7, les chances de gagner du joueur chutent, jusqu'à atteindre moins de 35% face à un 10 et moins de 28% face à un As.</p>
<p>D'après les graphiques en couleurs, on voit clairement que les meilleures mains à avoir sont les mains qui ont une valeur de 10, 11, 18 et 19 avec des taux de réussite qui excèdent 50%. Les mains qui ont une valeur de 8 ou 9 ont également des taux de réussite assez bons. Cependant, les mains avec une valeur comprise entre 12 et 17, ou inférieure à 8 ont des taux de réussite inférieurs à 40%, descendant même à moins de 30% pour les mains à 15 ou 16.</p>
<p>Pour les mains en double, la main 5-5 a un bon taux de réussite, mais la meilleure reste la main 10-10 qui a un excellent taux de réussite de 79,1%. La main A-A se défend également très bien, avec un taux de réussite à 62,9%. Le reste des mains en double ont des taux de réussite en dessous de 50%.</p>
<p>Enfin, pour les mains contenant un As, la meilleure main est évidemment A-10, qui correpond à un &quot;Blackjack&quot; et qui gagne à tout les coups, sauf si le dealer en a un aussi. Sinon, la main A-9 a un bon taux de réussite, et le reste des mains avec un As ont un taux de réussite entre 40% et 50%.</p>
<h3>Le comptage des cartes: la méthode <em>count</em></h3>
<p>Il existe une méthode pour améliorer son espérance au Blackjack qui s'appelle le comptage des cartes. Une des méthodes s'appelle le <em>système Hi-Lo</em>, et permet d'estimer le nombre de cartes hautes restantes dans le sabot. En effet, plus il y a de cartes hautes dans le sabot, plus le joueur aura une main de départ élevée et plus le dealer aura de chance de bust. Concrètement, le joueur compte les cartes avec un &quot;running count&quot;. Il ajoute à ce running count 1 si une carte entre 2 et 6 sort, et enlève 1 a ce compte quand une carte d'une valeur de 10 ou un As sort. Ce compte ne change pas dans le cas où un 7, 8 ou 9 sort. Le joueur doit ensuite diviser ce running count part le nombre de decks de 52 cartes qu'il reste dans le sabot, pour obtenir le &quot;true_count&quot;. Lorsque ce true count dépasse une certaine valeur, le joueur va miser plus car il aura le sabot contient à ce moment là un grand nombre de cartes hautes comparé aux cartes basses.</p>
<p>On implémente alors une méthode <em>count</em>, qui prend en argument une carte et modifie les comptes suivant sa valeur. Cette méthode est appelée à chaque fois qu'une carte est piochée.</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Cliquer pour voir la méthode <em>count</em></p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>card<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> card<span class="token punctuation">.</span>value <span class="token operator">>=</span> <span class="token number">2</span> <span class="token keyword">and</span> card<span class="token punctuation">.</span>value <span class="token operator">&lt;=</span> <span class="token number">6</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>running_count <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">if</span> card<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">10</span> <span class="token keyword">or</span> card<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>running_count <span class="token operator">-=</span> <span class="token number">1</span>
    nb_deck <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>deck<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">52</span>
    self<span class="token punctuation">.</span>true_count <span class="token operator">=</span> self<span class="token punctuation">.</span>running_count<span class="token operator">/</span>nb_deck</code></pre>
</div>
</details>     
</div>
<p>Il faut maintenant déterminer à partir de quelle valeur du true count le joueur commencer à changer sa mise, et à quel point il change sa mise. Plusieurs valeurs sont possibles, j'ai choisi pour le test de mettre la valeur seuil à 3 et le facteur multiplicatif de la mise égal au true count plus quatre. Ce facteur est proportionnel au compte; en effet plus le compte est elevé, plus il y a de chances de gagner, et donc plus il faut miser.
Ainsi, avant de jouer, le programme compare le true count au seuil fixé et si ce seuil est dépassé, la mise est plus grande. L'éxecution de cet algorithme sur 10 millions de parties   avec le comptage des cartes activé donne ce graphique en barre:</p>
<p><img src="Image13.png" alt="Image count"></p>
<p>On remarque que le taux de réussite moyen et les taux de réussite face à chaque main du dealer ne changent pas comparé au graphique obtenu quand le joueur ne compte pas. Ceci est logique, puisque l'on change seulement la mise. Cependant, on remarque que l'avantage au casino n'est plus que de <strong>0,75%!</strong> C'est plus de deux fois moins que précédemment. Le comptage des cartes est donc bien efficace, mais ne permet cependant pas d'avoir une espérance positive: le casino sera donc toujours gagnant!</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Notons qu'il est possible de changer la valeur seuil et le facteur multiplicatif. Les résultats seront légèrement différents mais ne permettront jamais d'avoir l'avantage sur le casino. De plus, dans la vraie vie, il est difficile de calculer exactement le true count, notamment parce qu'il est difficile d'estimer le nombre de decks restants dans le sabot. Certains casinos cachent également le sabot, ce qui empêche les joueurs de compter les cartes.</p>
</div></div>
<h2>Conclusion</h2>
<p>Ce POK fut très intéressant pour moi car j'ai pu m'entraîner sur la programmation d'interface graphique. Je suis conscient que Python n'est pas le langage le plus répandu pour coder des applications ou des jeux, mais j'ai néanmoins au moins pu comprendre la logique derrière l'implémentation de simples jeux. La deuxième partie du POK fut égalemnt très intéressante: j'ai pu consolider mes acquis sur la programmation objet ainsi que sur ma façon d'organiser mes codes. Sur le plan de la gestion de projet, j'ai pu me rendre compte que j'ai surestimé mes capacités pour le premier sprint (je n'ai pas pu finir l'interface de mise comme je l'avais prévu), et j'ai donc dû mettre les bouchées doubles lors de la deuxième partie du premier temps. Je me suis donc rendu compte de l'importance de connaître mes capacités et d'estimer la compléxité d'une tâche.</p>
<p>Enfin, je suis très satisfait des résultats expérimentaux sur le jeu du Blackjack que j'ai obtenu. Etant un grand fan des jeux de casino, j'ai toujours voulu savoir les statistiques qui se cachent derrière ce jeu: voilà qui est chose faite!</p>


</article>

        </main>


        <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
            <div class="max-w-[1000px] mx-auto px-4">
                <div class="min-h-[50px] flex justify-center items-center">
                    <p class="text-center">
                        <span style="font-family: Consolas, sans-serif;">Do_<span style="color: #4a86e8">It</span></span> : Développent et Organisation en IT
                    </p>
                </div>
            </div>
        </footer>

        <script>
        MathJax
            .startup
            .document
            .getMathItemsWithin(document.body);
        </script>
    </body>
</html>
