
<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Docker</title>

        <link href="/do-it/assets/node_modules/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet">
        <link href="/do-it/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">

        <link href="/do-it/assets/stylesheets/main.css" rel="stylesheet">
    </head>
    <body>
        <script>
        window.MathJax = {
            tex: {
            inlineMath: [
                [
                '$', '$'
                ],
                [
                '\\(', '\\)'
                ]
            ]
            },
            svg: {
            fontCache: 'global'
            }
        };
        </script>
        <script type="text/javascript" id="MathJax-script" src="/do-it/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

        <header class="border-b-2 border-gray-200 mb-4">
        <div class="max-w-[1000px] mx-auto px-4">
            <div class="min-h-[50px] flex justify-between items-center">
                <a class="mx-2" href="/do-it/">Home</a>
                <div class="flex items-center gap-4 sm:gap-6 ">
                    <a class="" href="/do-it/cs">CS</a>
                    <a class="" href="/do-it/pok">POK</a>
                    <a class="" href="/do-it/mon">MON</a>
                    <a class="" href="/do-it/projets">Projets</a>
                    <a class="hidden sm:block" href="/do-it/promos">Promos</a>
                    <a href="/do-it/search">
                        <svg class="h-5 aspect-square" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path>
                        </svg>
                    </a>
                    <a class="hidden sm:block" href="https://github.com/FrancoisBrucker/do-it" target="_blank">
                        <svg class="h-5 aspect-square" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
                    </a>
                </div>
            </div>
        </div>
        </header>

        <main class="max-w-[1000px] mx-auto px-4" data-pagefind-body="">
            
<article class="relative">
<h1 class="mb-1">Docker</h1>
<div class="mb-4">
    
        <div class="px-4 flex flex-wrap items-center">
            
                <div class="font-bold">Tags : </div>
            
            <ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags">
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">MON</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">2023-2024</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">temps 1</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">Docker</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">DevOps</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">Intermédiaire</li>
                

            </ul>
            
            
            <div class="hidden" data-pagefind-meta="Type">
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </div>
        </div>
    

    
        <div class="px-4 flex flex-wrap items-center">
            <div class="font-bold">Auteurs : </div>
            <ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs">
                
                    <li class="bg-blue-200 rounded-full px-2" data-pagefind-filter="Auteurs">ORY Victor</li>
                
            </ul>
        </div>
    

    
</div>



    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a href="/do-it/promos/">Promotions</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/">2023-2024</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Victor-Ory/">ORY Victor</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Victor-Ory/mon/">MON de ORY Victor</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Victor-Ory/mon/Docker/">Docker</a>

</div></div>




<h2>Ressources :</h2>
<ul>
<li><a href="https://docs.docker.com/">La doc de Docker</a></li>
<li><a href="https://www.youtube.com/watch?v=3c-iBn73dDE">Vidéo tutoriel de 3H</a></li>
<li><a href="../../../2022-2023/Bilgi-Tuncay/mon/Docker.md">MON de Tuncay</a></li>
</ul>
<h2>Pré-requis :</h2>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-pink-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p>Niveau novice</p>
</div><div class="pl-8 mr-8">
<p>Pré-requis :</p>
<ul>
<li>Un site à mettre en ligne</li>
<li>Terminal</li>
<li>basic réseau (port)</li>
<li>Savoir ce qu'est Docker</li>
</ul>
</div></div>
<h3>Résumé et Objectifs</h3>
<p>Ce MON est le premiers pas sur le chemin du DevOps. En effet, Docker est un élément essentiel des systèmes d'informations actuelles. Ainsi, ce MON va essayer de nous familiariser avec les concepts et voir leurs interactions avec des éléments classiques d'une application web.</p>
<h2>Ce qu'on veut faire :</h2>
<ul>
<li>Dockeriser l'application que nous avons.</li>
<li>Comprendre les processus pour la mettre en ligne sur un serveur cloud.</li>
</ul>
<h1>Let's go</h1>
<h2>Pourquoi utiliser Docker ?</h2>
<p>C'est un procédé de standardisation des applications pour pouvoir les déployer partout facilement. On fait un package de l'applications, ses dépendances et sa configuration facilement transportable. Deux éléments sont importants dans cet écosystème : les images et les containers. L'image est le moule qui contient les dépendances, les configurations et l'image devient un container lorsque qu'elle est hébergée sur ton ordinateur. Le container est un environnement en fonctionnement autour d'une image. Une image peut être utilisée dans plusieurs containers, mais chaque container n'utilise qu'une image. Chaque image est découpée en layers ou couches, ce qui permet lors de changement localisé de modifier seulement une layer et non l'ensemble de l'image.</p>
<h1>Installation</h1>
<p>Pour l'installation, cela est très bien expliqué à travers du <a href="/do-it/promos/2022-2023/Bilgi-Tuncay/mon/Docker">MON de Tuncay</a>, cela permet d'installer notamment le CLI, une façon de communiquer avec l'application Docker à travers un terminal.</p>
<p>Ainsi après tout cela effectué, on peut commencer à travailler ! Car le travail c'est la vie.</p>
<h3>Mon application</h3>
<p>Pour ce cours, j'utilise une application que j'ai conçue pour un autre projet, mais elle peut être résumée par :</p>
<ul>
<li>une base de données MongoDB locale,</li>
<li>une API en relation avec cette base de données en Express,</li>
<li>un front en React.</li>
</ul>
<h2>On fait quoi avec ça ?</h2>
<p>Ainsi, l'objectif pour une application de ce genre est de créer un container à base d'une image adaptée à chaque composant. Pour cela, nous pouvons nous aider de <a href="https://hub.docker.com/">Docker Hub</a>, un répertoire d'images pour les différents usages avec une documentation associée souvent.</p>
<p>Une fois téléchargée, l'image peut être utilisée à travers ce genre de ligne de commande :</p>
<pre class="language-shell " style="counter-reset: linenumber 0"><code class="language-shell"><span class="token function">docker</span> run <span class="token parameter variable">-phostport:containerport</span> <span class="token parameter variable">-d</span> <span class="token parameter variable">-e</span> variable environnement 
</code></pre>
<p>La commande permet de créer un container à partir d'une image où :</p>
<ul>
<li><code>-p</code> permet de faire le binding de port.</li>
<li><code>-d</code> permet de détacher le shell du cycle de vie du container.</li>
</ul>
<p>Le port binding consiste à associer un port à un container, puis le lier à un port réel de l'ordinateur.</p>
<h3>Workflow classique :</h3>
<p>Le déroulement classique et simple peut être le suivant :</p>
<ol>
<li>Développement en local.</li>
<li>Tests variés sur le projet (compilation, test unitaire, etc.).</li>
<li>Création d'une image Docker avec le projet incorporé, suivie de la publication de l'image sur un répertoire accessible par d'autres.</li>
<li>Déploiement de l'image sur un serveur dédié avec exactement la même configuration, suivi de tests des différentes fonctionnalités.</li>
<li>Retour d'informations (feedback).</li>
</ol>
<h1>Les différents concepts de Docker :</h1>
<h2>Docker network :</h2>
<p>Il est possible de créer un réseau fictif reliant les différents conteneurs, qui peuvent héberger des éléments différents de la structure du site : base de données, API backend, frontend, etc. Cela simplifie les échanges entre les différents composants du réseau et permet de s'abstraire de la complexité réelle du réseau.</p>
<h2>Docker Compose :</h2>
<p>Docker Compose permet de gérer plusieurs conteneurs en même temps, d'automatiser leur mise en service, leur configuration et leur mise en relation. Ces différents conteneurs forment automatiquement un réseau. Les différentes manipulations sont codifiées et stockées dans un fichier facilement modifiable. Ainsi, au lieu de configurer chaque conteneur avec des variables et des bindings de port, il devient possible de stocker la configuration voulue dans un fichier .yaml qui regroupe tous ces éléments et les automatise.</p>
<h2>Docker volume :</h2>
<p>Les volumes sont des mémoires persistantes entre les différentes constructions d'un conteneur à partir d'une même image. C'est essentiel lorsque l'on souhaite créer une base de données, par exemple. Si l'on n'utilise pas de volume, à chaque redémarrage du conteneur à partir de l'image, les données de l'utilisation précédente disparaissent. Le volume Docker est donc un montage d'un espace du conteneur sur un espace physique réel de l'hôte. L'espace du conteneur renvoie directement à l'emplacement en dehors du conteneur et sur la machine, ce qui le rend persistant et permet de conserver les données au-delà des cycles de vie des conteneurs.</p>
<h2>Automatisation et Process :</h2>
<p>Cet ensemble de procédés et d'outils est un maillon essentiel de l'automatisation des processus dans l'industrie de l'IT. Il permet la collaboration entre différents employés, de mettre en commun leurs modifications sur GitHub, puis de créer une image avec la dernière version du produit, avec sa configuration et ses dépendances, grâce à un <a href="/do-it/promos/2022-2023/Bilgi-Tuncay/mon/Jenkins">Jenkinsfile</a>, un fichier dans lequel sont notées les instructions à effectuer après chaque modification. Cela permet ensuite de déployer automatiquement la dernière version du projet sur un serveur de test, où une équipe de test vérifie le bon fonctionnement de chaque élément.</p>
<h2>Dockerfile</h2>
<p>Un Dockerfile est un fichier d'instructions qui permet de créer une image avec en plus notre projet, par exemple. Ainsi, il sera plus facilement déployé sur d'autres serveurs. Cela permet de créer une nouvelle image personnalisée et de la partager avec d'autres, notamment en la mettant à disposition sur le Docker Hub.</p>
<p>Vous ne me croyez pas ? Allez donc voir <a href="https://hub.docker.com/r/hagard/frontexperisite">mon répertoire Docker Hub</a>.</p>
<h1>Conclusion</h1>
<ul>
<li>La <a href="https://www.youtube.com/watch?v=3c-iBn73dDE">vidéo</a> est super, pédagogue, couvre beaucoup de sujets, test réellement et ça c'est cool !
j'aimerais maintenant plus pratiquer et jouer avec dans un POK par exemple.</li>
<li>La <a href="https://docs.docker.com/">documentation</a> est très efficace pour le début.</li>
<li>Le <a href="../../../2022-2023/Bilgi-Tuncay/mon/Docker.md">MON de Tuncay</a> aide bien pour commencer toutefois la vidéo permet de réellement se lancer et avoir un petit panorama.</li>
</ul>


</article>

        </main>


        <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
            <div class="max-w-[1000px] mx-auto px-4">
                <div class="min-h-[50px] flex justify-center items-center">
                    <p class="text-center">
                        <span style="font-family: Consolas, sans-serif;">Do_<span style="color: #4a86e8">It</span></span> : Développent et Organisation en IT
                    </p>
                </div>
            </div>
        </footer>

        <script>
        MathJax
            .startup
            .document
            .getMathItemsWithin(document.body);
        </script>

    </body>
</html>
