
<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Bases en C</title>

        <link href="/do-it/assets/node_modules/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet">
        <link href="/do-it/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">

        <link href="/do-it/assets/stylesheets/main.css" rel="stylesheet">
    </head>
    <body>
        <script>
        window.MathJax = {
            tex: {
            inlineMath: [
                [
                '$', '$'
                ],
                [
                '\\(', '\\)'
                ]
            ]
            },
            svg: {
            fontCache: 'global'
            }
        };
        </script>
        <script type="text/javascript" id="MathJax-script" src="/do-it/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

        <header class="border-b-2 border-gray-200 mb-4">
        <div class="max-w-[1000px] mx-auto px-4">
            <div class="min-h-[50px] flex justify-between items-center">
                <a class="mx-2" href="/do-it/">Home</a>
                <div class="flex items-center gap-4 sm:gap-6 ">
                    <a class="" href="/do-it/cs">CS</a>
                    <a class="" href="/do-it/pok">POK</a>
                    <a class="" href="/do-it/mon">MON</a>
                    <a class="" href="/do-it/projets">Projets</a>
                    <a class="hidden sm:block" href="/do-it/promos">Promos</a>
                    <a href="/do-it/search">
                        <svg class="h-5 aspect-square" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path>
                        </svg>
                    </a>
                    <a class="hidden sm:block" href="https://github.com/FrancoisBrucker/do-it" target="_blank">
                        <svg class="h-5 aspect-square" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
                    </a>
                </div>
            </div>
        </div>
        </header>

        <main class="max-w-[1000px] mx-auto px-4" data-pagefind-body="">
            
<article class="relative">
<h1 class="mb-1">Bases en C</h1>
<div class="mb-4">
    
        <div class="px-4 flex flex-wrap items-center">
            
                <div class="font-bold">Tags : </div>
            
            <ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags">
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">MON</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">2023-2024</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">temps 1</li>
                

            </ul>
            
            
            <div class="hidden" data-pagefind-meta="Type">
                
                    
                
                    
                
                    
                
            </div>
        </div>
    

    
        <div class="px-4 flex flex-wrap items-center">
            <div class="font-bold">Auteurs : </div>
            <ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs">
                
                    <li class="bg-blue-200 rounded-full px-2" data-pagefind-filter="Auteurs">Cassandra Ledins</li>
                
            </ul>
        </div>
    

    
</div>

        <p class="mb-4 text-lg">

                Apprendre les bases du C

        </p>



    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a href="/do-it/promos/">Promotions</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/">2023-2024</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Ledins-Cassandra/">Cassandra Ledins</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Ledins-Cassandra/mon/">MON de Cassandra Ledins</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Ledins-Cassandra/mon/temps-1.2/">Bases en C</a>

</div></div>




<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-pink-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
</svg>
<div class="pl-8 mb-2 mr-8">
<p><strong>Prérequis</strong></p>
</div><div class="pl-8 mr-8">
<ul>
<li>des notions de programmation aident grandement</li>
<li>de la patience sinon</li>
</ul>
</div></div>
<h2>Introduction</h2>
<p>J'ai voulu développer mon champ de connaissance en programmation pour avoir plus d'outils à ma disposition pour aborder différents problèmes. J'ai pensé à apprendre le C ou le C++ (langage utilisé en développement de jeux vidéos, domaine qui m'intéresse). M. Brucker ayant suggéré d'apprendre le C d'abord, c'est ce que je vais faire ici. Cela me servira aussi pour mon alternance dans le milieu de l'intelligence artificielle, où on est parfois amenés à modifier des librairies écrites en C pour entraîner nos modèles.</p>
<p>Je pars de 0 dans ce langage. Je vais prendre le cours &quot;Apprenez à programmer en C&quot; d'OpenClassrooms, durée estimée 10h, de difficulté moyenne. <strong>mettre lien</strong></p>
<h2>A l'abordage !</h2>
<p>On commence par nous rassurer et nous guider dans la création d'un projet C. <strong>Je n'ai pas suivi les conseils exacts donnés</strong> car j'avais envie de continuer à travailler dans VSCode et ils proposaient d'autres IDE.</p>
<p>On créé donc notre premier petit code &quot;minimal&quot; <strong>main.c</strong> qui a la tête suivante :</p>
<pre class="language-c"><code class="language-c">
<span class="token comment">/* Mon super programme de hacker 
Attention à vos mirettes*/</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hello world!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Ici, on veut impressioner en soirée mondaine en disant Bonjour monde.</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p><strong>stdio.h</strong> et <strong>stdlib.h</strong> sont des librairies avec lesquelles on travaille dans le code. Comme dans un code python où on import les librairies.
D'après ce que j'ai compris, stdio s'occupera de la gestion des standard input/output, et stdlib de l'exit.</p>
<p>On créé une fonction <strong>main</strong> qui sera exécutée en première par défaut. Elle retourne un &quot;int&quot; par convention (0) pour dire que tout s'est bien passé.</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Par lisibilité et car c'est fortement recommandé pour éviter les confusions, on doit donc, comme on le voit dans l'exemple, <strong>déclarer le type de sortie</strong> de la fonction.</p>
</div></div>
<p>Assez intuitivement, on retrouve les commentaires : sur une ligne avec <strong>//</strong> et sur plusieurs lignes avec <strong>&quot;/*&quot;</strong> et <strong>&quot;*/&quot;</strong></p>
<p>A l'intérieur de la fonction entre crochets, on effectue deux choses : on print un message dans le terminal et on retourne 0 pour dire que ça s'est bien passé.</p>
<p>Mais avant d'observer ça, il va d'abord falloir compiler le code. Pour cela j'ai utilisé la commande gcc dans le terminal.</p>
<pre><code>gcc main.c -o bonjour.exe
</code></pre>
<p>Ici, on utilise le compilateur gcc, sur notre fichier main.c que l'on vient d'écrire. Avec l'option -o, on indique que l'on veut compiler le tout sous forme d'un fichier exécutable que l'on veut appeler bonjour.exe.</p>
<p>Après avoir tapé cela dans le terminal, le fichier exécutable bonjour.exe apparaît dans notre dossier projet. Il ne nous reste plus qu'à taper son petit nom pour l'exécuter et voir la magie s'opérer (on s'assure d'écrire ./ devant le fichier pour que le shell sache qu'on parle d'un fichier et non d'une commande):</p>
<pre><code>./bonjour.exe

&gt;Hello world!

echo $!

&gt;0
</code></pre>
<p>On sait grâce au cours Linux/OPS comment vérifier le code de sortie, on voit que c'est 0. Donc on est super contents.</p>
<h3>Variables</h3>
<p>Il y a plusieurs types de variables, et on doit également déclarer leurs types à la création. Il y a des variables pour les entiers (<strong>int</strong>, <strong>long</strong>, <strong>signed char</strong>), et pour les float (<strong>float</strong>, <strong>double</strong>). Leur différence tient dans la place en mémoire qu'ils prennent, ils sont donc aussi limités dans leur grandeur. On peut aussi ajouter <strong>unsigned</strong> devant tout ça, si on veut déclarer un nombre positif, et avoir la possibilité qu'il soit plus grand.</p>
<p>On peut annoncer au monde en quelle année on est, en utilisant les outils de remplacement de variable <strong>%</strong>. Après ce symbole, on ajoute une lettre pour indiquer de quel type de variable il s'agira. Ici <strong>d</strong> pour un entier int, <strong>f</strong> pour un float.</p>
<pre class="language-c"><code class="language-c"> <span class="token keyword">int</span> annee <span class="token operator">=</span> <span class="token number">2023</span><span class="token punctuation">;</span>
 <span class="token keyword">float</span> compotes_mangées <span class="token operator">=</span> <span class="token number">2.5</span><span class="token punctuation">;</span>
 <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hello world!\nNous sommes actuellement en %d\nJ'ai actuellement mangé %f compotes depuis le début de ce MON.\n"</span><span class="token punctuation">,</span> annee<span class="token punctuation">,</span> compotes_mangées<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Après compilation et exécution (avec le reste du code qu'on a écrit plus haut) :</p>
<pre><code>Hello world!
Nous sommes actuellement en 2023
J'ai actuellement mangé 2.500000 compotes depuis le début de ce MON.
</code></pre>
<p>Pour les opérations mathématiques, ça ressemble à Python à ceci près que la division est automatiquement euclidienne entre 2 entiers. Pour avoir un résultat en float, il faudra diviser des floats. (5/2 = 2 mais 5.0/2.0 = 2.5). On va passer là-dessus.</p>
<p>On peut se servir de la variable dans une opération pour la redéfinir par exemple pour l'incrémentation:</p>
<pre class="language-c"><code class="language-c"><span class="token keyword">int</span> pouet <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
pouet <span class="token operator">=</span> pouet <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span></code></pre>
<p>Ce qui peut aussi être écrit avec :</p>
<pre class="language-c"><code class="language-c"><span class="token keyword">int</span> pouet <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
pouet<span class="token operator">++</span></code></pre>
<p>On peut aussi vouloir fixer une constante avec <strong>const</strong>. On ne pourra plus la modifier après sa déclaration !</p>
<pre class="language-c"><code class="language-c"><span class="token keyword">const</span> <span class="token keyword">int</span> mes_compotes <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//PAS TOUCHE</span></code></pre>
<p>Il existe aussi l'option <strong>static</strong> qui peut avoir 2 utilités : rendre une variable d'un fichier &quot;locale&quot; c'est-à-dire qu'elle ne sera pas accessible dans un autre fichier.
Ou si elle est utilisée sur une variable à l'intérieur d'une fonction, la variable ne sera pas &quot;supprimée&quot; à la fin de la fonction. Donc si elle est modifiée dans la fonction et que la fonction est ensuite rappelée, la fonction débutera avec la valeur <strong>déjà modifiée</strong> de la variable.</p>
<h2>Conditions</h2>
<p>Pour les conditions c'est encore pareil que python à ceci près qu'on rajoute des accolades, des parenthèses et des points virgules.</p>
<pre class="language-c"><code class="language-c"><span class="token keyword">if</span> <span class="token punctuation">(</span>maConditionEstVraie<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  mesinstructions<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>uneAutreCondition<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  mesautresinstructions<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>On a les comparateurs <strong>==</strong>,<strong>&lt;=</strong>, et les opérateurs <strong>&amp;&amp;</strong>, <strong>||</strong>, <strong>!</strong>.</p>
<p>Pour éviter d'utiliser des conditions else if à la suite, on peut construire un <strong>switch</strong>:</p>
<pre class="language-c"><code class="language-c"><span class="token keyword">switch</span> <span class="token punctuation">(</span>mescompotes<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Je suis dans la sauce"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Je suis pas à l'aise"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Va falloir aller faire les courses"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token keyword">default</span><span class="token operator">:</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Tout va bien"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>On peut <strong>assigner</strong> une valeur à une variable en fonction de si une <strong>condition</strong> est vérifiée ou non de cette sorte:</p>
<pre class="language-c"><code class="language-c">variable <span class="token operator">=</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token operator">?</span> valeur1 <span class="token operator">:</span> valeur2<span class="token punctuation">;</span></code></pre>
<h2>Boucles</h2>
<p>Il y a 3 boucles différentes: while, do... while et for.</p>
<p>Avec tout ce qu'on a appris je décide de faire un code de braquage de compotes. Vous allez me donner toutes vos compotes maintenant.</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>Le code de mon braquage</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> mes_compotes <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> ses_compotes <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Ceci est un braquage de compotes, laissez-vous faire\nVous avez 1000 compotes et vous allez devoir m'en donner jusqu'à ce que je sois rassasiée.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Votre but est de garder le maximum de vos compotes.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>mes_compotes<span class="token operator">&lt;</span><span class="token number">457</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mes_compotes<span class="token operator">&lt;=</span><span class="token number">100</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"J'ai très très faim\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>mes_compotes<span class="token operator">&lt;=</span><span class="token number">200</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"J'ai faim\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>mes_compotes<span class="token operator">&lt;=</span><span class="token number">300</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Encore un peu\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>mes_compotes<span class="token operator">&lt;=</span><span class="token number">440</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Je suis presque rassasiée\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">int</span> compotes_restantes <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">457</span><span class="token operator">-</span>mes_compotes<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Donne-moi encore %d compotes\n"</span><span class="token punctuation">,</span> compotes_restantes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Il te reste %d compotes, combien veux-tu m'en donner ?\n"</span><span class="token punctuation">,</span> ses_compotes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> compotes_transit <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>compotes_transit<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mes_compotes <span class="token operator">=</span> mes_compotes <span class="token operator">+</span> compotes_transit<span class="token punctuation">;</span>
        ses_compotes <span class="token operator">=</span> ses_compotes <span class="token operator">-</span> compotes_transit<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*s'endort*\nTu as réussi à apaiser le monstre des compotes, et il te reste %d compotes !\n"</span><span class="token punctuation">,</span> ses_compotes<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</div>
</details>     
</div>
<img src="braquage.webp">
<h2>Fonctions</h2>
<p>On peut bien sûr créer des fonctions comme ceci :</p>
<pre class="language-c"><code class="language-c">type <span class="token function">maFonction</span><span class="token punctuation">(</span>type arg1<span class="token punctuation">,</span> type arg2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  mesInstructions<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Puis les appeler autre part :</p>
<pre class="language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  type arg1 <span class="token operator">=</span> valeur1<span class="token punctuation">;</span>
  <span class="token function">maFonction</span><span class="token punctuation">(</span>type arg1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h2>Headers et fonctions modulaires</h2>
<p>On peut également créer des fichiers annexes de headers et d'autres fonctions, comme des librairies.</p>
<p>Dans notre code, si on définit une fonction après la fonction main, cela ne marchera pas. Pour faire cela, il faut indiquer dans un header (donc au début du code) le format de la fonction. Pour notre braquage par exemple on pourrait créer:</p>
<pre class="language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">braquage</span><span class="token punctuation">(</span><span class="token keyword">int</span> compotes_voulues<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>On peut même créer la fonction dans un autre fichier, par exemple fonctions.c. On créé avec celà un fichier header fonctions.h, qui contient des directives préprocesseurs de protection :</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>fonctions.h</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">fonctions_h</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">fonctions_h</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>

<span class="token keyword">void</span> <span class="token function">braquage</span><span class="token punctuation">(</span><span class="token keyword">int</span> mes_compotes<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> </span></code></pre>
</div>
</details>     
</div>
<p>Puis ensuite le fichier fonctions.c, dans lequel on explicite la fonction braquage:</p>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100 cursor-pointer select-none">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
</svg>
<div class="pl-8 font-bold inline-block group-open:select-text">
<p>fonctions.c</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"></path>
</svg>
</summary>
<div class="mx-8 pb-2 cursor-auto select-text">
<pre class="language-c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"fonctions.h"</span></span>

<span class="token keyword">void</span> <span class="token function">braquage</span><span class="token punctuation">(</span><span class="token keyword">int</span> compotes_voulues<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
     <span class="token keyword">int</span> mes_compotes <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> ses_compotes <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Ceci est un braquage de compotes, laissez-vous faire\nVous avez 1000 compotes et vous allez devoir m'en donner jusqu'à ce que je sois rassasiée.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Votre but est de garder le maximum de vos compotes.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>mes_compotes<span class="token operator">&lt;</span>compotes_voulues<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mes_compotes<span class="token operator">&lt;=</span><span class="token number">100</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"J'ai très très faim\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>mes_compotes<span class="token operator">&lt;=</span><span class="token number">200</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"J'ai faim\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>mes_compotes<span class="token operator">&lt;=</span><span class="token number">300</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Encore un peu\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>mes_compotes<span class="token operator">&lt;=</span><span class="token number">440</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Je suis presque rassasiée\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">int</span> compotes_restantes <span class="token operator">=</span> <span class="token punctuation">(</span>compotes_voulues<span class="token operator">-</span>mes_compotes<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Donne-moi encore %d compotes\n"</span><span class="token punctuation">,</span> compotes_restantes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Il te reste %d compotes, combien veux-tu m'en donner ?\n"</span><span class="token punctuation">,</span> ses_compotes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> compotes_transit <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>compotes_transit<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mes_compotes <span class="token operator">=</span> mes_compotes <span class="token operator">+</span> compotes_transit<span class="token punctuation">;</span>
        ses_compotes <span class="token operator">=</span> ses_compotes <span class="token operator">-</span> compotes_transit<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*s'endort*\nTu as réussi à apaiser le monstre des compotes, et il te reste %d compotes !\n"</span><span class="token punctuation">,</span> ses_compotes<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</div>
</details>     
</div>
<p>On appelle ce fichier annexe dans les headers de la fonction main comme suit :</p>
<pre class="language-c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"fonctions.h"</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">braquage</span><span class="token punctuation">(</span><span class="token number">457</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>On oublie pas de compiler l'ensemble des fichiers en .c en tapant:</p>
<pre><code>gcc main.c fonctions.c -o test.exe
</code></pre>
<p>Et maintenant notre test fonctionne <strong>exactement</strong> comme toute à l'heure ! Sauf que notre fonction main est plus propre et pourra être complexifiée.</p>
<h2>Pointeurs</h2>
<p>Une variable est toujours stockée à une adresse. Un pointeur c'est un outil qui stocke l'adresse mémoire d'une variable. On le déclare avec le type de la variable et une étoile. On peut récupérer l'adresse d'une variable avec <strong>&amp;</strong>.</p>
<pre class="language-c"><code class="language-c"><span class="token keyword">int</span> variable <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">*</span>pointeur <span class="token operator">=</span> <span class="token operator">&amp;</span>variable<span class="token punctuation">;</span></code></pre>
<p>Maintenant le côté surprenant (en tout cas pour moi), c'est qu'afficher *pointeur retourne la valeur de la variable, et afficher pointeur retourne l'adresse de la variable.</p>
<p>On ainsi modifier depuis n'importe où la valeur de notre variable :</p>
<pre class="language-c"><code class="language-c"><span class="token operator">*</span>pointeur <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> variable<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Ce code retournera 1.</p>
<h2>Tableaux</h2>
<p>On peut créer un tableau, de taille fixe, avec des crochets. On peut initialiser des valeurs ou non, les changer une par une. On peut aussi jouer avec les pointeurs : toutes les cases du tableaux sont stockées dans des <strong>adresses succintes</strong>, sachant que la première valeur se récupère à l'adresse indiquée par le nom de la variable. On ne peut stocker que des variables du <strong>même type</strong> dans un tableau.</p>
<pre class="language-c"><code class="language-c"><span class="token keyword">int</span> monTableau<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
monTableau<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token operator">*</span><span class="token punctuation">(</span>monTableau <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
monTableau<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></code></pre>
<h2>Conclusion</h2>
<p>Ca a été très intéressant pour moi de découvrir C et les concepts de pointeurs, de les appliquer dans des exercices. Ca a aussi permis de débloquer des problèmes de compréhension que j'avais dans les scripts en général (javascript ou shell). Je recommande vivement le cours d'OpenClassroom pour qui veut s'aventurer au C.</p>


</article>

        </main>


        <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
            <div class="max-w-[1000px] mx-auto px-4">
                <div class="min-h-[50px] flex justify-center items-center">
                    <p class="text-center">
                        <span style="font-family: Consolas, sans-serif;">Do_<span style="color: #4a86e8">It</span></span> : Développement et Organisation en IT
                    </p>
                </div>
            </div>
        </footer>

        <script>
        MathJax
            .startup
            .document
            .getMathItemsWithin(document.body);
        </script>
        <script src="/do-it/assets/node_modules/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
    </body>
</html>
