
<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Le langage C#</title>

        <link href="/do-it/assets/stylesheets/main.css" rel="stylesheet">
    </head>
    <body>
        <script>
        window.MathJax = {
            tex: {
            inlineMath: [
                [
                '$', '$'
                ],
                [
                '\\(', '\\)'
                ]
            ]
            },
            svg: {
            fontCache: 'global'
            }
        };
        </script>
        <script type="text/javascript" id="MathJax-script" src="/do-it/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

        <header class="border-b-2 border-gray-200 mb-4">
        <div class="max-w-[1000px] mx-auto px-4">
            <div class="min-h-[50px] flex justify-between items-center">
                <a class="mx-2" href="/do-it/">Home</a>
                <div class="flex items-center gap-4 sm:gap-6 ">
                    <a class="" href="/do-it/cs">CS</a>
                    <a class="" href="/do-it/pok">POK</a>
                    <a class="" href="/do-it/mon">MON</a>
                    <a class="" href="/do-it/projets">Projets</a>
                    <a class="hidden sm:block" href="/do-it/promos">Promos</a>
                    <a href="/do-it/search">
                        <svg class="h-5 aspect-square" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path>
                        </svg>
                    </a>
                    <a class="hidden sm:block" href="https://github.com/FrancoisBrucker/do-it" target="_blank">
                        <svg class="h-5 aspect-square" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
                    </a>
                </div>
            </div>
        </div>
        </header>

        <main class="max-w-[1000px] mx-auto px-4" data-pagefind-body="">
            
<article class="relative">
<h1 class="mb-1">Le langage C#</h1>
<div class="mb-4">
    
        <div class="px-4 flex flex-wrap items-center">
            
                <div class="font-bold">Tags : </div>
            
            <ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags">
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">MON</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">2023-2024</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">temps 2</li>
                

            </ul>
            
            
            <div class="hidden" data-pagefind-meta="Type">
                
                    
                
                    
                
                    
                
            </div>
        </div>
    

    
        <div class="px-4 flex flex-wrap items-center">
            <div class="font-bold">Auteurs : </div>
            <ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs">
                
                    <li class="bg-blue-200 rounded-full px-2" data-pagefind-filter="Auteurs">Assane Diouf</li>
                
            </ul>
        </div>
    

    
</div>

        <p class="mb-4 text-lg">

                Apprendre C# et en particulier le développement web avec C#

        </p>



    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a href="/do-it/promos/">Promotions</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/">2023-2024</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Diouf-Asssane/">Assane DIOUF</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Diouf-Asssane/mon/">MON d&#39;Assane Diouf</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Diouf-Asssane/mon/temps-2.1/">Le langage C#</a>

</div></div>




<h2>Pourquoi ?</h2>
<p>C# est un langage connu avec une large communanuté de développeur. Avec C#, on a un large éventail de choix allant de l'application web au jeu vidéo en passant par l'application mobile.
Je vais particulièrement m'intéresser au développement web ici.</p>
<h2>Faire un pendu</h2>
<p>En me basant sur les MON précédent sur le langage, et la documentation, je vais essayer de réaliser un petit jeu textuel pour assimiler les bases du langages.</p>
<p>Voici les taches que j'identifie pour réaliser ce jeu :</p>
<ul>
<li>[X] Savoir lire dans un fichier le prochain mot</li>
<li>[X] Savoir lire les entrées de l'utilisateur</li>
<li>[X] Apprendre à organiser le code correctement</li>
</ul>
<h3>Méthode</h3>
<p>J'ai commencé par relire les MON des élèves ayant travaillé sur le langage avant moi (Vladimir et Savinien, voir dans la partie Source). Je me suis ensuite directement rendu sur le site officiel du langage (lien dans les Sources). J'ai ensuite suivi les étapes de découvertes du C# et fait un premier Hello World.</p>
<h3>Ce que j'ai fait</h3>
<p>Pour mieux assimiler les principes du langages et pratiquer, j'ai décidé de réaliser un pendu en C#. Mon objectif final et d'avoir un petit site web avec un back en C# depuis lequel on peut jouer au pendu.</p>
<p>Pour commencer, j'ai développé un pendu auquel on peut jouer depuis la console. Pour le faire proprement, j'ai voulu bien séparer mon code. Pour se faire, j'ai fait les choix suivant :</p>
<ul>
<li>Avoir une classe Pendu, qui va représenter l'état du jeu : le jeu est-il en cours ? Combien d'erreurs ont été commises ? Etc...</li>
<li>Avoir quelque chose pour sélectionner le mot à trouver. Je dis &quot;quelque chose&quot; car je voudrais me laisser la possibilité de changer la méthode de sélection de ce mot : le lire dans un fichier, le récupérer sur internet, etc... Afin d'avoir cette liberté d'implémentation, j'ai décidé de créer une interface nommée IWordProvider.</li>
<li>Avoir un programme qui va utiliser la classe Pendu et communiquer avec le user (nombre d'essais restant, est-ce que le joueur a gagné, etc...).</li>
</ul>
<p>J'ai donc séparé toutes les classes relatives au jeu (la class Pendu et l'interface dans leur namespace) pour obtenir l'architecture suivante :</p>
<pre><code>projet
└── JeuPendu
    ├── WordProviders
    |   └── IWordProvider.cs
    |   └── OneWordProvider.cs
    └── Pendu.cs
 └── Program.cs
</code></pre>
<p>Je vais me concentrer sur les fournisseurs de mots, je mettrais mon code dans un github pour que ceux qui veulent puissent aller voir le reste.</p>
<h4>L'interface IWordProvider</h4>
<p>Cette interface a pour rôle de fournir des mots pour le jeu du pendu, la seule méthode a définir est donc une méthode qui réalise cette tache.
Voici le code de l'interface :</p>
<pre class="language-c#"><code class="language-c#">// JeuPendu/WordProviders/IWordProvider.cs
namespace JeuPendu
{
    namespace WordProviders
    {
        public interface IWordProvider
        {
            public String GetWord();
        }
    }
}</code></pre>
<p>Ainsi, toutes les classes qui implémenterons cette interface seront obligées de définir une méthode GetWord.</p>
<h4>Qu'est-ce que ça donne dans la classe Pendu ?</h4>
<p>Pour profiter de la flexibilité qu'offrent les interfaces, on va ajouter un champs dans la classe Pendu de type IWordProvider et demander à l'utilisateur de fournir ce IWordProvider :</p>
<pre class="language-c#"><code class="language-c#">// JeuPendu/Pendu.cs
using JeuPendu.WordProviders;

namespace JeuPendu
{
    public class Pendu
    {
        private IWordProvider _wordProvider;
        private string _secret = "";
        
        // D'autres champs

        public Pendu(IWordProvider provider)
        {
            _wordProvider = provider;
        }

        public void Start()
        {
            // Récupération du mot à deviner
            _secret = _wordProvider.GetWord().ToUpper();

            // Suite de la fonction...
        }

    }
}</code></pre>
<h4>Testons</h4>
<p>Comme on ne peut pas instancier une interface, on doit créer une classe qui implémente cette interface pour pouvoir adapter notre programme principal et avoir un mot à deviner.</p>
<p>On va faire simple, et créer une classe qui renvoie toujours le même mot : OneWordProvider.
Voici le code de cette classe :</p>
<pre class="language-c#"><code class="language-c#">// JeuPendu/WordProviders/OneWordProvider.cs
namespace JeuPendu
{
    namespace WordProviders
    {
        public class OneWordProvider(string uniqueWord = "PENDU") : IWordProvider // on implémente l'interface
        {
            private readonly string onlyWord = uniqueWord.ToUpper();

            // On est donc obliger d'ajouter cette méthode dans la classe OneWordProvider
            public string GetWord()
            {
                return this.onlyWord;
            }
        }
    }
}</code></pre>
<p>On arrive ensuite a avoir un jeu du Pendu qui fonctionne avec le code suivant dans le fichier Program.cs :</p>
<pre class="language-c#"><code class="language-c#">// Program.cs
using JeuPendu;
using JeuPendu.WordProviders;

Console.WriteLine("Jouons au pendu !");

// On donne le provider qui nous intéresse ici !
Pendu Jeu = new Pendu(new OneWordProvider("Pendu"));

Jeu.Start();

Console.WriteLine(Jeu.KnownLetters);
Console.WriteLine("Entre une lettre ou un mot pour commencer.");
while(Jeu.IsGoingOn())
{
    string guess = Console.ReadLine() ?? "";
    if(Jeu.IsGoodGuess(guess))
    {
        Console.WriteLine("Bravo !");
        if(Jeu.Won) continue;
    }
    else
    {
        Console.WriteLine("Et non, essaie autre chose...");
        
        if(Jeu.Lost) continue;
        
        Console.WriteLine("Il te reste {0} essais", Jeu.NbAllowedMistakes - Jeu.Mistakes);
    }
    Console.WriteLine(Jeu.KnownLetters);
    Console.WriteLine("As-tu d'autres propositions ?");
}

if(Jeu.Won)
{
    Console.WriteLine("Bravo ! Le mot est bien {0}, tu as gagné !", Jeu.SecretWord);
}
else 
{
    Console.WriteLine("Le mot était {0}...", Jeu.SecretWord);
}</code></pre>
<h4>Récupérer les mots depuis un ficher</h4>
<p>Pour la suite, j'ai demandé à chatGPT de générer une liste de 100 mots en rapport avec le développement, la gestion de projet ou les systèmes d'information. J'ai mis ces mots dans un fichier appelé &quot;do_it.txt&quot;.</p>
<p>Ensuite j'ai créé une nouvelle classe de fournisseur de mots pour lire dans le fichier en question et renvoyer un mot aléatoirement :</p>
<pre class="language-c#"><code class="language-c#">// JeuPendu/WordProviders/WordFromFileProvider.cs
namespace JeuPendu	
{
    namespace WordProviders
    {
        public class WordFromFileProvider : IWordProvider
        {
            private readonly String[] words;

            public WordFromFileProvider(string filepath)
            {
                if(File.Exists(filepath))
                {
                    words = File.ReadAllLines(filepath);
                }
                else {
                    throw new Exception("Le fichier " + filepath + " est introuvable");
                }
            }

            public string GetWord()
            {
                Random rand = new Random();
                int chosenWordIndex = rand.Next(words.Length);
                return words[chosenWordIndex];
            }
        }
    }
}</code></pre>
<p>Pour pouvoir jouer avec cette liste de 100 mots, il n'y a qu'une seule ligne a modifier dans le fichier Program.cs :</p>
<pre class="language-c#"><code class="language-c#">// JeuPendu/WordProviders/Program.cs

//code...

//Ligne à modifier !
Pendu Jeu = new Pendu(new WordFromFileProvider("do_it.txt"));

//suite du programme</code></pre>
<h3>Faire du web avec C#</h3>
<p>Satisfait de mon petit Pendu, je me suis dit qu'il était temps de découvrir le développement web avec C#. Le MON de Savinien est un très bon début pour avoir une meilleure idée du développement web avec C#. J'ai aussi visionné une playlist de vidéos publiée par dotnet sur le web avec C# (voir Sources).</p>
<p>Il est possible aussi bien de faire des applications Web que des API Web en C# avec <a href="http://ASP.NET">ASP.NET</a>. Etant donné que Savinien a fait une introduction aux API Web avec C# (cf Sources). Je vais donc faire une applications Web avec <a href="http://ASP.NET">ASP.NET</a> et je vous renvoie vers son MON si ce sont les API qui vous intéressent.</p>
<p>Pour me rapprocher des tutoriels que j'ai vu sur <a href="http://ASP.NET">ASP.NET</a>, je vais utilise Visual Studio 2022 dans la suite de mon MON (mais tout reste faisable avec VSCode ou Rider par exemple).</p>
<p>Pour lancer un projet d'application Web sur Visual Studio, il faut cliquer sur Nouveau Projet &gt; Applications Web <a href="http://ASP.NET">ASP.NET</a> Core. Une fois que la solution est ouverte dans Visual Studio, on peut lancer le site généré en appuyant sur le bouton &quot;play&quot; vert. On a alors une page de ce type :</p>
<img src="webAppBase.png" alt="Page par défaut en C#" style="height: 400px">
<p><strong>A suivre dans mon deuxième MON du temps 2</strong></p>
<h2>Sources</h2>
<ul>
<li><a href="../../../Vladimir-Jeantroux/mon/temps-1-2/">MON Vladimir</a> : vue d'ensemble syntax + POO en C#</li>
<li><a href="../../../../2022-2023/Laeuffer-Savinien/mon/csharp/">MON Savinien</a> : vue d'ensemble .NET et différentes possibilités + exemple API Web bien détaillé</li>
<li><a href="https://learn.microsoft.com/fr-fr/dotnet/csharp/tour-of-csharp/">Tour of C#</a> : vue plus détaillée du langages et accès à la documentation</li>
<li><a href="https://youtu.be/mw254_XAnGU?si=w7nkqOI2DmRyp9Ak">Les namespaces</a> : clarification utilisation des namespaces</li>
<li><a href="https://youtube.com/playlist?list=PLdo4fOcmZ0oW8nviYduHq7bmKode-p8Wy&amp;si=fJe1Oh3-JxUdWSva">Playlist ASP.NET Web Application</a> : playlist <a href="http://ASP.NET">ASP.NET</a> débutant, pour découvrir le web avec C# (date de 4 ans)</li>
</ul>


</article>

        </main>


        <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
            <div class="max-w-[1000px] mx-auto px-4">
                <div class="min-h-[50px] flex justify-center items-center">
                    <p class="text-center">
                        <span style="font-family: Consolas, sans-serif;">Do_<span style="color: #4a86e8">It</span></span> : Développent et Organisation en IT
                    </p>
                </div>
            </div>
        </footer>

        <script>
        MathJax
            .startup
            .document
            .getMathItemsWithin(document.body);
        </script>

    </body>
</html>
