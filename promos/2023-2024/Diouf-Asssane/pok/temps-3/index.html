
<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Un CLI avec Rust</title>

        <link href="/do-it/assets/stylesheets/main.css" rel="stylesheet">
    </head>
    <body>
        <script>
        window.MathJax = {
            tex: {
            inlineMath: [
                [
                '$', '$'
                ],
                [
                '\\(', '\\)'
                ]
            ]
            },
            svg: {
            fontCache: 'global'
            }
        };
        </script>
        <script type="text/javascript" id="MathJax-script" src="/do-it/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

        <header class="border-b-2 border-gray-200 mb-4">
        <div class="max-w-[1000px] mx-auto px-4">
            <div class="min-h-[50px] flex justify-between items-center">
                <a class="mx-2" href="/do-it/">Home</a>
                <div class="flex items-center gap-4 sm:gap-6 ">
                    <a class="" href="/do-it/cs">CS</a>
                    <a class="" href="/do-it/pok">POK</a>
                    <a class="" href="/do-it/mon">MON</a>
                    <a class="" href="/do-it/projets">Projets</a>
                    <a class="hidden sm:block" href="/do-it/promos">Promos</a>
                    <a href="/do-it/search">
                        <svg class="h-5 aspect-square" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path>
                        </svg>
                    </a>
                    <a class="hidden sm:block" href="https://github.com/FrancoisBrucker/do-it" target="_blank">
                        <svg class="h-5 aspect-square" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
                    </a>
                </div>
            </div>
        </div>
        </header>

        <main class="max-w-[1000px] mx-auto px-4" data-pagefind-body="">
            
<article class="relative">
<h1 class="mb-1">Un CLI avec Rust</h1>
<div class="mb-4">
    
        <div class="px-4 flex flex-wrap items-center">
            
                <div class="font-bold">Tags : </div>
            
            <ul class="flex flex-wrap overflow-auto not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Tags">
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">POK</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">2023-2024</li>
                
                    <li class="bg-yellow-200 rounded-full px-2" data-pagefind-filter="Tags">temps 3</li>
                

            </ul>
            
            
            <div class="hidden" data-pagefind-meta="Type">
                
                    
                
                    
                
                    
                
            </div>
        </div>
    

    
        <div class="px-4 flex flex-wrap items-center">
            <div class="font-bold">Auteurs : </div>
            <ul class="flex flex-wrap not-prose list-none my-1 mx-0 px-1 gap-1" data-pagefind-meta="Auteurs">
                
                    <li class="bg-blue-200 rounded-full px-2" data-pagefind-filter="Auteurs">Assane Diouf</li>
                
            </ul>
        </div>
    

    
</div>

        <p class="mb-4 text-lg">

                Développement d'une commande avec Rust

        </p>



    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a href="/do-it/promos/">Promotions</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/">2023-2024</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Diouf-Asssane/">Assane DIOUF</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Diouf-Asssane/pok/">POK d&#39;Assane Diouf</a><span class="px-1">/</span><a href="/do-it/promos/2023-2024/Diouf-Asssane/pok/temps-3/">Un CLI avec Rust</a>

</div></div>




<h2>Introduction</h2>
<p>Lors du premier temps à Do_It, j'ai découvert Rust. Rust est un langage bas niveau très apprécié par les développeurs pour son aspect &quot;safe by design&quot;. J'ai donc envie d'appliquer mes connaissances en Rust pour progresser davantages.
Dans ce POK, je vais développer un CLI (Command Line Interface). Il s'agit d'un programme qui tourne dans l'invité de commande avec laquelle l'utilisateur peut intéragir grace à des commandes. Pour ce faire je vais utiliser le crate <a href="http://clap.rs">clap.rs</a>, qui vient avec plein d'outils pour créer des commandes avec Rust.</p>
<h2>Idée</h2>
<p>J'ai pensé développer un outil simple de suivi des projets pour les développeurs sur leur machine locale. Les fonctionnalités seraient les suivantes :</p>
<ul>
<li>Ajouter un projet (nom, description)</li>
<li>L'ouvrir dans l'IDE qui convient</li>
<li>Le cloner directement dans le bon dossier si le projet n'est pas présent en local</li>
<li>Suivre le temps passé sur chaque projet</li>
</ul>
<h2>Ce que j'aimerai faire pour le sprint 1</h2>
<ul>
<li>[ ] Découvrir les commandes <a href="http://clap.rs">clap.rs</a> (2h)</li>
<li>[ ] Sérializer/désérializer les configurations (2h)</li>
<li>[ ] Pouvoir ajouter des projets (1h)</li>
<li>[ ] Pouvoir lister les projets présents sur la machine (1h)</li>
<li>[ ] Afficher les informations spécifiques à un projet (1h)</li>
<li>[ ] Supprimer des projets (1h30)</li>
<li>[ ] Mettre à jour des projets (1h30)</li>
</ul>
<h2>Ce que j'ai fait au premier sprint</h2>
<p>Je pense avoir mal évalué le temps nécessaire pour chacune des taches car j'ai pu effectuer toutes les  taches prévues ainsi que quelques taches prévues pour le sprint 2.</p>
<ul>
<li>[X] Découvrir les commandes <a href="http://clap.rs">clap.rs</a></li>
<li>[X] Sérializer/désérializer les configurations</li>
<li>[X] Pouvoir ajouter des projets</li>
<li>[X] Pouvoir lister les projets présents sur la machine</li>
<li>[X] Afficher les informations spécifiques à un projet</li>
<li>[X] Supprimer des projets</li>
<li>[X] Mettre à jour des projets</li>
</ul>
<p>Réalisé en plus :</p>
<ul>
<li>[X] Pouvoir ouvrir les projets dans vscode</li>
<li>[X] Pouvoir ouvrir les projets dans l'ide souhaité par le développeur</li>
</ul>
<p>Pour la suite j'aimerai aussi passer du temps sur la gestion correcte des erreurs.</p>
<p>En attendant voici quelques images de mon POK. <em>J'ai décidé d'appeler ma commande flow.</em></p>
<p>Toutes les commandes listées ci-dessous ont bien été entièrement implémentées sauf la commande open qui ne clone pas encore les projets lorsque le chemin d'accès n'est pas déterminé.
<img src="flow_help.png" alt="Fenêtre d'aide"></p>
<p><img src="flow_add.png" alt="Aide pour la sous-commande add"></p>
<p><img src="flow_info.png" alt="Informations sur le projet Do-It"></p>
<h2>Ce que j'aimerai faire au sprint 2</h2>
<ul>
<li>[ ] Pouvoir ouvrir les projets dans l'ide souhaité par le développeur (2h) <em>réalisé au sprint 1</em></li>
<li>[ ] Pouvoir suivre le temps passé sur chaque projet (4h)
<ul>
<li>[ ] Conserver dernière date d'ouverture (1h)</li>
<li>[ ] Ajouter une commande pour indiquer que l'utilisateur arrête de travailler sur le projet (2h)</li>
<li>[ ] Garder en mémoire le temps passé (1h)</li>
</ul>
</li>
<li>[ ] Pouvoir ouvrir les projets dans vscode (1h) <em>réalisé au sprint 1</em></li>
<li>[ ] Cloner le projet si il n'est pas présent en local (1h)</li>
</ul>
<h2>Ce que j'ai fait au sprint 2</h2>
<ul>
<li>[X] Pouvoir suivre le temps passé sur chaque projet
<ul>
<li>[X] Garder en mémoire le temps passé</li>
<li>[X] Ajouter un système pour lancer le timer et pour l'arrêter</li>
</ul>
</li>
<li>[X] Cloner le projet si il n'est pas présent en local</li>
</ul>
<p>Les taches suivantes n'ont pas été réalisée car je ne suis pas sûr de leur utilité dans le projet :</p>
<ul>
<li>[ ] Conserver dernière date d'ouverture</li>
<li>[ ] Ajouter une commande pour indiquer que l'utilisateur arrête de travailler sur le projet</li>
</ul>
<h2>Conclusion</h2>
<p>Le CLI fonctionne avec les fonctionnalités attendues ! Je l'utilise régulièrement et, pour la suite, je vois quelques pistes d'évolution comme par exemple :</p>
<ul>
<li>Mettre un meilleur système de gestion des erreurs</li>
<li>Automatiquement lancer l'installation des dépendances après le clonage d'un projet</li>
<li>Automatiquement trouver les liens github des projets</li>
<li>Améliorer le README</li>
<li>Publier le programme</li>
</ul>


</article>

        </main>


        <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
            <div class="max-w-[1000px] mx-auto px-4">
                <div class="min-h-[50px] flex justify-center items-center">
                    <p class="text-center">
                        <span style="font-family: Consolas, sans-serif;">Do_<span style="color: #4a86e8">It</span></span> : Développent et Organisation en IT
                    </p>
                </div>
            </div>
        </footer>

        <script>
        MathJax
            .startup
            .document
            .getMathItemsWithin(document.body);
        </script>

    </body>
</html>
